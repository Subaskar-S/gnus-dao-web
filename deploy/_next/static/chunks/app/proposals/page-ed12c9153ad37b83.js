(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[628],{17142:function(e,t,a){Promise.resolve().then(a.bind(a,28129))},31047:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},41671:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},64935:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},95252:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},33245:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},99397:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},70525:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},76865:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},95805:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},32489:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},28129:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return K}});var s=a(57437),r=a(2265),n=a(31047),l=a(91723),i=a(79205);let o=(0,i.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var c=a(99397);let d=(0,i.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var m=a(70525),u=a(95805),h=a(56334),p=a(23645),x=a(32853),f=a(3263),g=a(73546),b=a(76865),y=a(64935),j=a(95252);let v=(0,i.Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var N=a(33245);let w=(0,i.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var k=a(32489),P=a(64315),A=a(25566);let I=(e,t)=>{var a;return(null===(a=window.__ENV__)||void 0===a?void 0:a[e])||A.env[e]||t||""},_=(e,t)=>{let a=parseInt(I(e),10);return isNaN(a)?t:a},S=(e,t)=>{let a=I(e);return""===a?t:"true"===a.toLowerCase()},E=["https://gateway.pinata.cloud/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://dweb.link/ipfs/","https://ipfs.infura.io/ipfs/"],T=["image/*","application/pdf","text/plain","application/json","text/markdown","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"];function C(){return{pinataApiKey:I("NEXT_PUBLIC_PINATA_API_KEY"),pinataSecretKey:I("NEXT_PUBLIC_PINATA_SECRET_KEY"),pinataJWT:I("NEXT_PUBLIC_PINATA_JWT"),ipfsApiUrl:I("NEXT_PUBLIC_IPFS_API_URL"),ipfsApiKey:I("NEXT_PUBLIC_IPFS_API_KEY"),ipfsApiSecret:I("NEXT_PUBLIC_IPFS_API_SECRET"),gateways:{primary:I("NEXT_PUBLIC_IPFS_GATEWAY","https://ipfs.io/ipfs/"),fallbacks:[I("NEXT_PUBLIC_IPFS_GATEWAY_BACKUP",E[0]),...E.slice(1)],timeout:_("NEXT_PUBLIC_IPFS_GATEWAY_TIMEOUT",1e4)},maxFileSize:_("NEXT_PUBLIC_IPFS_MAX_FILE_SIZE",10485760),allowedTypes:I("NEXT_PUBLIC_IPFS_ALLOWED_TYPES",T.join(",")).split(","),pinToCluster:S("NEXT_PUBLIC_IPFS_PIN_TO_CLUSTER",!0)}}function F(e,t){let a=C(),s=(t||a.gateways.primary).replace(/\/$/,""),r=e.replace(/^\/ipfs\//,"");return"".concat(s,"/").concat(r)}function z(e){let t=C();return e.size>t.maxFileSize?{valid:!1,error:"File size (".concat(L(e.size),") exceeds maximum allowed size (").concat(L(t.maxFileSize),")")}:t.allowedTypes.some(t=>{if(t.endsWith("/*")){let a=t.slice(0,-2);return e.type.startsWith(a)}return e.type===t})?{valid:!0,size:e.size,type:e.type}:{valid:!1,error:'File type "'.concat(e.type,'" is not allowed. Allowed types: ').concat(t.allowedTypes.join(", "))}}function L(e){if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]}function R(e,t,a,s){let r=Error(e);return r.type=t,r.code=a,r.details=s,r}function D(e){if(!e||"string"!=typeof e)return!1;let t=e.replace(/^\/ipfs\//,"");return t.startsWith("Qm")&&46===t.length?/^Qm[1-9A-HJ-NP-Za-km-z]{44}$/.test(t):!!(t.length>10&&/^[a-zA-Z0-9]+$/.test(t))}async function M(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;for(let r=0;r<=a;r++)try{return await e()}catch(n){if(t=n,r===a)throw t;let e=s*Math.pow(2,r);await new Promise(t=>setTimeout(t,e))}throw t}function Z(e,t){return Promise.race([e,new Promise((e,a)=>{setTimeout(()=>a(Error("Operation timed out after ".concat(t,"ms"))),t)})])}class U{async initialize(){this.initialized=!0}async uploadFile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=z(e);if(!a.valid)throw R(a.error,"VALIDATION_ERROR","INVALID_FILE");let{pin:s=!0,metadata:r={},onProgress:n}=t;try{if(null==n||n(10),this.config.pinataJWT)return await this.uploadWithPinataAPI(e,{pin:s,metadata:r,onProgress:n});throw R("No IPFS upload service configured. Please set NEXT_PUBLIC_PINATA_JWT.","UPLOAD_ERROR","NO_SERVICE")}catch(e){if(e instanceof Error&&e.type)throw e;throw R("Upload failed: ".concat(e instanceof Error?e.message:"Unknown error"),"UPLOAD_ERROR","UPLOAD_FAILED",e)}}async uploadProposalMetadata(e){try{let t=JSON.stringify(e,null,2),a=new Blob([t],{type:"application/json"}),s=new File([a],"proposal-metadata.json",{type:"application/json"});return await this.uploadFile(s,{pin:!0,metadata:{name:"Proposal: ".concat(e.title),keyvalues:{type:"proposal-metadata",title:e.title,category:e.category,author:e.author,version:e.version}}})}catch(e){throw R("Failed to upload proposal metadata: ".concat(e instanceof Error?e.message:"Unknown error"),"UPLOAD_ERROR","METADATA_UPLOAD_FAILED",e)}}async retrieveContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!D(e))throw R("Invalid IPFS hash format","VALIDATION_ERROR","INVALID_HASH");let{timeout:a=1e4,preferredGateway:s,fallbackToOtherGateways:r=!0}=t;try{let t=s||this.config.gateways.primary,r=F(e,t);return await M(async()=>{let e=await Z(fetch(r),a);if(!e.ok)throw Error("HTTP ".concat(e.status,": ").concat(e.statusText));return await e.text()})}catch(t){if(r)for(let t of this.config.gateways.fallbacks)try{let s=F(e,t),r=await Z(fetch(s),a);if(r.ok)return await r.text()}catch(e){}throw R("Failed to retrieve content from IPFS: ".concat(t instanceof Error?t.message:"Unknown error"),"RETRIEVAL_ERROR","RETRIEVAL_FAILED",t)}}async retrieveProposalMetadata(e){try{let t=await this.retrieveContent(e),a=JSON.parse(t);if(!a.title||!a.description||!a.author)throw Error("Invalid proposal metadata: missing required fields");return a}catch(e){throw R("Failed to retrieve proposal metadata: ".concat(e instanceof Error?e.message:"Unknown error"),"RETRIEVAL_ERROR","METADATA_RETRIEVAL_FAILED",e)}}async pinContent(e){if(!D(e))throw R("Invalid IPFS hash format","VALIDATION_ERROR","INVALID_HASH");try{if(!this.config.pinataJWT)throw R("Pinata JWT not configured","PIN_ERROR","NO_CREDENTIALS");let t=await fetch("https://api.pinata.cloud/pinning/pinByHash",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.config.pinataJWT)},body:JSON.stringify({hashToPin:e})});if(!t.ok)throw Error("Pinata API error: ".concat(t.statusText));return{hash:e,pinned:!0,pinDate:new Date().toISOString()}}catch(e){throw R("Failed to pin content: ".concat(e instanceof Error?e.message:"Unknown error"),"PIN_ERROR","PIN_FAILED",e)}}async uploadWithPinataAPI(e,t){let{metadata:a={},onProgress:s}=t;try{null==s||s(30);let t=e.name.replace(/[^a-zA-Z0-9.-]/g,"_").replace(/_{2,}/g,"_").replace(/^_|_$/g,"").toLowerCase(),r=function(e){let t=Date.now(),a=Math.random().toString(36).substring(2,8),s=e.split(".").pop(),r=e.replace(/\.[^/.]+$/,"");return"".concat(r,"_").concat(t,"_").concat(a,".").concat(s)}(t),n=new FormData;n.append("file",e);let l={name:r,...a};n.append("pinataMetadata",JSON.stringify(l)),null==s||s(60);let i=await fetch("https://api.pinata.cloud/pinning/pinFileToIPFS",{method:"POST",headers:{Authorization:"Bearer ".concat(this.config.pinataJWT)},body:n});if(!i.ok)throw Error("Pinata API error: ".concat(i.statusText));let o=await i.json();return null==s||s(100),{hash:o.IpfsHash,name:r,size:e.size,url:F(o.IpfsHash)}}catch(e){throw R("Pinata upload failed: ".concat(e instanceof Error?e.message:"Unknown error"),"UPLOAD_ERROR","PINATA_FAILED",e)}}isConfigured(){return!!this.config.pinataJWT}getStatus(){return{initialized:this.initialized,hasPinata:!!this.config.pinataJWT,hasIPFSClient:!1,configured:this.isConfigured()}}constructor(){this.config=C(),this.initialized=!1,this.initialize()}}let O=new U;var B=a(49322),V=a(41671);let W=(0,i.Z)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),H=(0,i.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),q=(0,i.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function J(e){let{onUploadComplete:t,onUploadStart:a,onUploadProgress:n,multiple:l=!0,accept:i,maxFiles:o=5,disabled:c=!1,className:d=""}=e,[m,u]=(0,r.useState)([]),[p,x]=(0,r.useState)(!1),f=(0,r.useRef)(null),g=e=>{if(!e||0===e.length)return;let t=Array.from(e);if(t.length>o){P.Am.error("Maximum ".concat(o," files allowed"));return}let a=[];for(let e of t){let t=z(e);t.valid?a.push(e):P.Am.error("".concat(e.name,": ").concat(t.error))}0!==a.length&&b(a)},b=async e=>{null==a||a(),u(e.map(e=>({file:e,progress:0,status:"uploading"})));let s=[];try{for(let t=0;t<e.length;t++){let a=e[t];if(a)try{let r=await O.uploadFile(a,{pin:!0,metadata:{name:a.name,keyvalues:{uploadedAt:new Date().toISOString(),size:a.size.toString(),type:a.type}},onProgress:a=>{u(e=>e.map((e,s)=>s===t?{...e,progress:a}:e));let s=(100*t+a)/e.length;null==n||n(s)}});s.push(r),u(e=>e.map((e,a)=>a===t?{...e,status:"complete",result:r,progress:100}:e))}catch(e){u(a=>a.map((a,s)=>s===t?{...a,status:"error",error:e instanceof Error?e.message:"Upload failed"}:a))}}s.length>0&&(t(s),P.Am.success("".concat(s.length," file(s) uploaded successfully")))}catch(e){P.Am.error("Upload process failed")}},y=e=>{u(t=>t.filter((t,a)=>a!==e))},j=e=>e.type.startsWith("image/")?(0,s.jsx)(H,{className:"w-4 h-4","aria-label":"Image file icon"}):e.type.includes("text")||e.type.includes("document")?(0,s.jsx)(v,{className:"w-4 h-4","aria-label":"Text file icon"}):(0,s.jsx)(W,{className:"w-4 h-4","aria-label":"File icon"}),N=m.some(e=>"uploading"===e.status);return(0,s.jsxs)("div",{className:"space-y-4 ".concat(d),children:[(0,s.jsxs)("div",{className:"\n          border-2 border-dashed rounded-lg p-6 text-center transition-colors\n          ".concat(p?"border-blue-500 bg-blue-50":"border-gray-300","\n          ").concat(c?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-gray-400","\n        "),onDragOver:e=>{e.preventDefault(),x(!0)},onDragLeave:e=>{e.preventDefault(),x(!1)},onDrop:e=>{e.preventDefault(),x(!1),c||g(e.dataTransfer.files)},onClick:()=>{var e;return!c&&(null===(e=f.current)||void 0===e?void 0:e.click())},children:[(0,s.jsx)(q,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:l?"Drop files here or click to browse":"Drop file here or click to browse"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Maximum ",o," files, up to 10MB each"]}),(0,s.jsx)("input",{ref:f,type:"file",multiple:l,accept:i,onChange:e=>{g(e.target.files),e.target.value=""},disabled:c,className:"hidden"})]}),m.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"text-sm font-medium",children:"Uploading Files"}),(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>{u([])},disabled:N,children:"Clear"})]}),m.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex-shrink-0",children:["complete"===e.status&&(0,s.jsx)(V.Z,{className:"w-4 h-4 text-green-500"}),"error"===e.status&&(0,s.jsx)(B.Z,{className:"w-4 h-4 text-red-500"}),"uploading"===e.status&&j(e.file)]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate",children:e.file.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[L(e.file.size),e.result&&(0,s.jsxs)("span",{className:"ml-2 text-blue-600",children:["IPFS: ",e.result.hash.slice(0,8),"..."]}),e.error&&(0,s.jsx)("span",{className:"ml-2 text-red-600",children:e.error})]}),"uploading"===e.status&&(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1",children:(0,s.jsx)("div",{className:"bg-blue-600 h-1 rounded-full transition-all duration-300",style:{width:"".concat(e.progress,"%")}})})})]}),(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>y(t),disabled:"uploading"===e.status,children:(0,s.jsx)(k.Z,{className:"w-4 h-4"})})]},t))]})]})}function X(e){var t;let{onClose:a,onProposalCreated:n}=e,{wallet:l,tokenBalance:i}=(0,x.v)(),[o,d]=(0,r.useState)(!1),[m,p]=(0,r.useState)("basic"),[g,A]=(0,r.useState)(""),[I,_]=(0,r.useState)(""),[S,E]=(0,r.useState)("treasury"),[T,C]=(0,r.useState)(""),[F,z]=(0,r.useState)([]),[L,R]=(0,r.useState)(""),[D,M]=(0,r.useState)([]),[Z,U]=(0,r.useState)(0),[B,V]=(0,r.useState)(!1),[W,H]=(0,r.useState)([{target:"",value:"0",signature:"",calldata:"0x"}]),q=[{id:"treasury",name:"Treasury Management",description:"Proposals for managing DAO treasury funds",icon:(0,s.jsx)(j.Z,{className:"h-5 w-5"})},{id:"protocol",name:"Protocol Upgrade",description:"Technical changes to smart contracts",icon:(0,s.jsx)(y.Z,{className:"h-5 w-5"})},{id:"governance",name:"Governance Change",description:"Changes to voting rules and parameters",icon:(0,s.jsx)(w,{className:"h-5 w-5"})},{id:"community",name:"Community Initiative",description:"Community programs and initiatives",icon:(0,s.jsx)(u.Z,{className:"h-5 w-5"})}],X=e=>{W.length>1&&H(W.filter((t,a)=>a!==e))},K=(e,t,a)=>{let s=[...W];s[e]={...s[e],[t]:a},H(s)},G=e=>{M(D.filter((t,a)=>a!==e))},Y=async()=>{if(!g.trim()||!I.trim()){P.Am.error("Please fill in all required fields");return}let e=W.filter(e=>""!==e.target.trim()||""!==e.signature.trim());if(0===e.length){P.Am.error("Please add at least one action");return}try{d(!0);let t={title:g,description:I,category:S,author:l.address||"",created:Date.now(),version:"1.0.0",attachments:D,tags:F,discussionUrl:T||void 0,votingPeriod:{start:Date.now(),end:Date.now()+6048e5}},s="";try{s=(await O.uploadProposalMetadata(t)).hash,P.Am.success("Proposal metadata uploaded to IPFS")}catch(e){console.warn("Failed to upload metadata to IPFS:",e)}let r=e.map(e=>e.target),i=e.map(e=>e.value||"0");e.map(e=>e.signature);let o=e.map(e=>e.calldata||"0x"),c=s?"".concat(g,"\n\n").concat(I,"\n\nIPFS Metadata: ").concat(s):"".concat(g,"\n\n").concat(I),m=await f.u.createProposal(r,i.map(e=>BigInt(e)),o,c);P.Am.success("Proposal submitted! Waiting for confirmation..."),await m.wait(),P.Am.success("Proposal created successfully!"),n(),a()}catch(e){console.error("Failed to create proposal:",e),P.Am.error(e instanceof Error?e.message:"Failed to create proposal")}finally{d(!1)}};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-card border rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold flex items-center",children:[(0,s.jsx)(v,{className:"h-5 w-5 mr-2"}),"Create Proposal"]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Step ","basic"===m?"1":"actions"===m?"2":"attachments"===m?"3":"4"," of 4"]})]}),(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:a,children:"\xd7"})]}),(0,s.jsxs)("div",{className:"flex items-center mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center ".concat("basic"===m?"text-primary":"text-muted-foreground"),children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat("basic"===m?"bg-primary text-primary-foreground":"bg-muted"),children:"1"}),(0,s.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Basic Info"})]}),(0,s.jsx)("div",{className:"flex-1 h-px bg-border mx-4"}),(0,s.jsxs)("div",{className:"flex items-center ".concat("actions"===m?"text-primary":"text-muted-foreground"),children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat("actions"===m?"bg-primary text-primary-foreground":"bg-muted"),children:"2"}),(0,s.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Actions"})]}),(0,s.jsx)("div",{className:"flex-1 h-px bg-border mx-4"}),(0,s.jsxs)("div",{className:"flex items-center ".concat("attachments"===m?"text-primary":"text-muted-foreground"),children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat("attachments"===m?"bg-primary text-primary-foreground":"bg-muted"),children:"3"}),(0,s.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Attachments"})]}),(0,s.jsx)("div",{className:"flex-1 h-px bg-border mx-4"}),(0,s.jsxs)("div",{className:"flex items-center ".concat("review"===m?"text-primary":"text-muted-foreground"),children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat("review"===m?"bg-primary text-primary-foreground":"bg-muted"),children:"4"}),(0,s.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Review"})]})]}),"basic"===m&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Proposal Title *"}),(0,s.jsx)("input",{type:"text",value:g,onChange:e=>A(e.target.value),placeholder:"Enter a clear, descriptive title",className:"w-full px-3 py-2 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-ring",maxLength:100}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[g.length,"/100 characters"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Category *"}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:q.map(e=>(0,s.jsxs)("button",{onClick:()=>E(e.id),className:"p-3 border rounded-lg text-left transition-colors ".concat(S===e.id?"border-primary bg-primary/5":"border-input hover:bg-accent"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[e.icon,(0,s.jsx)("span",{className:"font-medium",children:e.name})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]},e.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description *"}),(0,s.jsx)("textarea",{value:I,onChange:e=>_(e.target.value),placeholder:"Provide a detailed description of your proposal, including rationale and expected outcomes...",className:"w-full px-3 py-2 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-ring resize-none",rows:6,maxLength:2e3}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[I.length,"/2000 characters"]})]})]}),"actions"===m&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(N.Z,{className:"h-5 w-5 text-blue-500 mt-0.5 mr-3 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Proposal Actions"}),(0,s.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Define the on-chain actions that will be executed if this proposal passes. Leave fields empty for proposals that don't require on-chain execution."})]})]})}),(0,s.jsxs)("div",{className:"space-y-4",children:[W.map((e,t)=>(0,s.jsxs)("div",{className:"border border-input rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,s.jsxs)("h4",{className:"font-medium",children:["Action ",t+1]}),W.length>1&&(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>X(t),className:"text-red-600 hover:text-red-700",children:"Remove"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Target Contract"}),(0,s.jsx)("input",{type:"text",value:e.target,onChange:e=>K(t,"target",e.target.value),placeholder:"0x...",className:"w-full px-3 py-2 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-ring text-sm font-mono"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"ETH Value"}),(0,s.jsx)("input",{type:"text",value:e.value,onChange:e=>K(t,"value",e.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-ring"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Function Signature"}),(0,s.jsx)("input",{type:"text",value:e.signature,onChange:e=>K(t,"signature",e.target.value),placeholder:"transfer(address,uint256)",className:"w-full px-3 py-2 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-ring text-sm font-mono"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Calldata"}),(0,s.jsx)("input",{type:"text",value:e.calldata,onChange:e=>K(t,"calldata",e.target.value),placeholder:"0x",className:"w-full px-3 py-2 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-ring text-sm font-mono"})]})]})]},t)),(0,s.jsxs)(h.z,{variant:"outline",onClick:()=>{H([...W,{target:"",value:"0",signature:"",calldata:"0x"}])},className:"w-full flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),"Add Another Action"]})]})]}),"attachments"===m&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"File Attachments"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload supporting documents, images, or other files to IPFS. These will be permanently stored and linked to your proposal."})]}),(0,s.jsx)(J,{onUploadComplete:e=>{M([...D,...e]),P.Am.success("".concat(e.length," file(s) uploaded successfully"))},onUploadStart:()=>V(!0),onUploadProgress:U,multiple:!0,maxFiles:5,disabled:B,className:"mb-4"}),D.length>0&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h4",{className:"font-medium",children:["Uploaded Files (",D.length,")"]}),(0,s.jsx)("div",{className:"space-y-2",children:D.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border border-input rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(v,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.size?"".concat(Math.round(e.size/1024)," KB"):"Unknown size"," • IPFS: ",e.hash.slice(0,8),"...",e.hash.slice(-6)]})]})]}),(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>G(t),className:"text-red-600 hover:text-red-700",children:(0,s.jsx)(k.Z,{className:"h-4 w-4"})})]},t))})]}),B&&(0,s.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-3"}),(0,s.jsxs)("span",{className:"text-sm",children:["Uploading to IPFS... ",Math.round(Z),"%"]})]})})]}),"review"===m&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-card border rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Proposal Summary"}),(0,s.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Title:"}),(0,s.jsx)("p",{className:"mt-1",children:g})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Category:"}),(0,s.jsx)("p",{className:"mt-1",children:null===(t=q.find(e=>e.id===S))||void 0===t?void 0:t.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Description:"}),(0,s.jsx)("p",{className:"mt-1 whitespace-pre-wrap",children:I})]})]})]}),(0,s.jsxs)("div",{className:"bg-card border rounded-lg p-4",children:[(0,s.jsxs)("h4",{className:"font-medium mb-3",children:["Actions (",W.filter(e=>e.target||e.signature).length,")"]}),0===W.filter(e=>e.target||e.signature).length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No on-chain actions"}):(0,s.jsx)("div",{className:"space-y-3",children:W.filter(e=>e.target||e.signature).map((e,t)=>(0,s.jsxs)("div",{className:"text-sm border border-input rounded p-3",children:[(0,s.jsxs)("div",{className:"font-medium mb-2",children:["Action ",t+1]}),(0,s.jsxs)("div",{className:"space-y-1 text-xs font-mono",children:[(0,s.jsxs)("div",{children:["Target: ",e.target||"Not specified"]}),(0,s.jsxs)("div",{children:["Value: ",e.value," ETH"]}),(0,s.jsxs)("div",{children:["Function: ",e.signature||"Not specified"]}),(0,s.jsxs)("div",{children:["Calldata: ",e.calldata]})]})]},t))})]}),(0,s.jsxs)("div",{className:"bg-card border rounded-lg p-4",children:[(0,s.jsxs)("h4",{className:"font-medium mb-3",children:["Attachments (",D.length,")"]}),0===D.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No attachments"}):(0,s.jsx)("div",{className:"space-y-2",children:D.map((e,t)=>(0,s.jsxs)("div",{className:"text-sm border border-input rounded p-3",children:[(0,s.jsx)("div",{className:"font-medium mb-1",children:e.name}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground font-mono",children:["IPFS: ",e.hash]}),e.size&&(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Size: ",Math.round(e.size/1024)," KB"]})]},t))})]}),(0,s.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(b.Z,{className:"h-5 w-5 text-yellow-500 mt-0.5 mr-3 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-yellow-900 dark:text-yellow-100 mb-1",children:"Important Notice"}),(0,s.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Once submitted, this proposal cannot be modified. Please review all details carefully. The proposal will be subject to community voting and may take several days to complete."})]})]})})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,s.jsx)(h.z,{variant:"outline",onClick:()=>{"actions"===m?p("basic"):"attachments"===m?p("actions"):"review"===m?p("attachments"):a()},disabled:o,children:"basic"===m?"Cancel":"Back"}),(0,s.jsx)(h.z,{onClick:()=>{"basic"===m?p("actions"):"actions"===m?p("attachments"):"attachments"===m?p("review"):Y()},disabled:o||"basic"===m&&(!g.trim()||!I.trim()),children:o?"Submitting...":"review"===m?"Submit Proposal":"Next"})]})]})})}function K(){let{wallet:e,gnusDaoInitialized:t}=(0,x.v)(),[a,i]=(0,r.useState)([]),[b,y]=(0,r.useState)(!0),[j,v]=(0,r.useState)(""),[N,w]=(0,r.useState)("all"),[k,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!t){y(!1);return}try{y(!0);let e=await f.u.getProposalCount(),t=[],a=e>20n?e-20n:1n;for(let s=a;s<=e;s++)t.push(A(s));let s=(await Promise.all(t)).filter(e=>null!==e);s.sort((e,t)=>Number(t.id-e.id)),i(s)}catch(e){console.error("Failed to load proposals:",e)}finally{y(!1)}})()},[t]);let A=async e=>{try{let[t,a]=await Promise.all([f.u.getProposal(e),f.u.getProposalState(e)]);if(!t)return null;let s=t.forVotes+t.againstVotes+t.abstainVotes,r=I(t.endBlock),n="Proposal #".concat(e),l="Governance proposal submitted by ".concat(t.proposer.slice(0,6),"...").concat(t.proposer.slice(-4));return{...t,title:n,description:l,totalVotes:s,quorumReached:s>=1000000n,timeRemaining:r,state:a}}catch(t){return console.error("Failed to load proposal ".concat(e,":"),t),null}},I=e=>{let t=Number(e)-9241e3;if(t<=0)return"Ended";let a=Math.floor(12*t/3600);return a<24?"".concat(a,"h remaining"):"".concat(Math.floor(a/24),"d remaining")},_=a.filter(e=>{let t=e.title.toLowerCase().includes(j.toLowerCase())||e.description.toLowerCase().includes(j.toLowerCase()),a="all"===N||e.state===N;return t&&a});return(0,s.jsx)(p.a1,{requireAuth:!1,children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Governance Proposals"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Participate in GNUS DAO governance by voting on proposals"})]}),(0,s.jsxs)(h.z,{onClick:()=>P(!0),className:"mt-4 sm:mt-0 flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),"Create Proposal"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)("div",{className:"bg-card border rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(n.Z,{className:"h-8 w-8 text-blue-500"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Proposals"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:a.length})]})]})}),(0,s.jsx)("div",{className:"bg-card border rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(u.Z,{className:"h-8 w-8 text-green-500"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Active"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:a.filter(e=>e.state===g.r7.Active).length})]})]})}),(0,s.jsx)("div",{className:"bg-card border rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(m.Z,{className:"h-8 w-8 text-purple-500"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Executed"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:a.filter(e=>e.state===g.r7.Executed).length})]})]})}),(0,s.jsx)("div",{className:"bg-card border rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(l.Z,{className:"h-8 w-8 text-orange-500"}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:a.filter(e=>e.state===g.r7.Pending).length})]})]})})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,s.jsx)("input",{type:"text",placeholder:"Search proposals...",value:j,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-ring"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"px-3 py-2 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-ring",children:[(0,s.jsx)("option",{value:"all",children:"All States"}),(0,s.jsx)("option",{value:g.r7.Active,children:"Active"}),(0,s.jsx)("option",{value:g.r7.Pending,children:"Pending"}),(0,s.jsx)("option",{value:g.r7.Succeeded,children:"Succeeded"}),(0,s.jsx)("option",{value:g.r7.Executed,children:"Executed"}),(0,s.jsx)("option",{value:g.r7.Defeated,children:"Defeated"}),(0,s.jsx)("option",{value:g.r7.Canceled,children:"Canceled"})]})]})]}),b?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading proposals..."})]}):0===_.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(n.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No proposals found"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:j||"all"!==N?"Try adjusting your search or filter criteria.":"Be the first to create a proposal for the DAO."}),!j&&"all"===N&&(0,s.jsx)(h.z,{onClick:()=>P(!0),children:"Create First Proposal"})]}):(0,s.jsx)("div",{className:"space-y-4",children:_.map(e=>(0,s.jsx)(G,{proposal:e},e.id.toString()))}),k&&(0,s.jsx)(X,{onClose:()=>P(!1),onProposalCreated:()=>{P(!1),window.location.reload()}})]})})}function G(e){var t;let{proposal:a}=e;return(0,s.jsxs)("div",{className:"bg-card border rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:a.title}),(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(function(e){switch(e){case g.r7.Active:return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case g.r7.Succeeded:return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case g.r7.Executed:return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";case g.r7.Defeated:return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case g.r7.Canceled:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400";case g.r7.Queued:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}}(a.state)),children:(t=a.state,g.r7[t]||"Unknown")})]}),(0,s.jsxs)("p",{className:"text-muted-foreground text-sm mb-2",children:["Proposal #",a.id.toString()]}),(0,s.jsx)("p",{className:"text-sm line-clamp-2",children:a.description})]}),(0,s.jsxs)("div",{className:"text-right mt-4 sm:mt-0",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:a.timeRemaining}),a.quorumReached&&(0,s.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Quorum reached"})]})]}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsxs)("span",{children:["For: ",a.forVotes.toString()]}),(0,s.jsxs)("span",{children:["Against: ",a.againstVotes.toString()]}),(0,s.jsxs)("span",{children:["Abstain: ",a.abstainVotes.toString()]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-green-500 h-2 rounded-l-full",style:{width:"".concat(a.totalVotes>0n?Number(100n*a.forVotes/a.totalVotes):0,"%")}})})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(h.z,{variant:"outline",size:"sm",children:"View Details"}),a.state===g.r7.Active&&(0,s.jsx)(h.z,{size:"sm",children:"Vote"})]})]})}}},function(e){e.O(0,[6178,2957,2423,3828,2330,2971,2117,1744],function(){return e(e.s=17142)}),_N_E=e.O()}]);