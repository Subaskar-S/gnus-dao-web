(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1097],{35549:function(e,t,r){"use strict";r.d(t,{fl:function(){return N},iv:function(){return l},Ts:function(){return A},Qu:function(){return x},$m:function(){return c}});let n=globalThis,i=n.ShadowRoot&&(void 0===n.ShadyCSS||n.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,o=Symbol(),s=new WeakMap;class a{constructor(e,t,r){if(this._$cssResult$=!0,r!==o)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(i&&void 0===e){let r=void 0!==t&&1===t.length;r&&(e=s.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&s.set(t,e))}return e}toString(){return this.cssText}}let c=e=>new a("string"==typeof e?e:e+"",void 0,o),l=(e,...t)=>new a(1===e.length?e[0]:t.reduce((t,r,n)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+e[n+1],e[0]),e,o),u=(e,t)=>{if(i)e.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(let r of t){let t=document.createElement("style"),i=n.litNonce;void 0!==i&&t.setAttribute("nonce",i),t.textContent=r.cssText,e.appendChild(t)}},d=i?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(let r of e.cssRules)t+=r.cssText;return c(t)})(e):e,{is:f,defineProperty:h,getOwnPropertyDescriptor:p,getOwnPropertyNames:g,getOwnPropertySymbols:m,getPrototypeOf:y}=Object,b=globalThis,v=b.trustedTypes,w=v?v.emptyScript:"",E=b.reactiveElementPolyfillSupport,C=(e,t)=>e,A={toAttribute(e,t){switch(t){case Boolean:e=e?w:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=null!==e;break;case Number:r=null===e?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(e){r=null}}return r}},x=(e,t)=>!f(e,t),I={attribute:!0,type:String,converter:A,reflect:!1,useDefault:!1,hasChanged:x};Symbol.metadata??=Symbol("metadata"),b.litPropertyMetadata??=new WeakMap;class N extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=I){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){let r=Symbol(),n=this.getPropertyDescriptor(e,r,t);void 0!==n&&h(this.prototype,e,n)}}static getPropertyDescriptor(e,t,r){let{get:n,set:i}=p(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:n,set(t){let o=n?.call(this);i?.call(this,t),this.requestUpdate(e,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??I}static _$Ei(){if(this.hasOwnProperty(C("elementProperties")))return;let e=y(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(C("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(C("properties"))){let e=this.properties;for(let t of[...g(e),...m(e)])this.createProperty(t,e[t])}let e=this[Symbol.metadata];if(null!==e){let t=litPropertyMetadata.get(e);if(void 0!==t)for(let[e,r]of t)this.elementProperties.set(e,r)}for(let[e,t]of(this._$Eh=new Map,this.elementProperties)){let r=this._$Eu(e,t);void 0!==r&&this._$Eh.set(r,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let t=[];if(Array.isArray(e))for(let r of new Set(e.flat(1/0).reverse()))t.unshift(d(r));else void 0!==e&&t.push(d(e));return t}static _$Eu(e,t){let r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){let e=new Map;for(let t of this.constructor.elementProperties.keys())this.hasOwnProperty(t)&&(e.set(t,this[t]),delete this[t]);e.size>0&&(this._$Ep=e)}createRenderRoot(){let e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return u(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$ET(e,t){let r=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,r);if(void 0!==n&&!0===r.reflect){let i=(void 0!==r.converter?.toAttribute?r.converter:A).toAttribute(t,r.type);this._$Em=e,null==i?this.removeAttribute(n):this.setAttribute(n,i),this._$Em=null}}_$AK(e,t){let r=this.constructor,n=r._$Eh.get(e);if(void 0!==n&&this._$Em!==n){let e=r.getPropertyOptions(n),i="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:A;this._$Em=n;let o=i.fromAttribute(t,e.type);this[n]=o??this._$Ej?.get(n)??o,this._$Em=null}}requestUpdate(e,t,r){if(void 0!==e){let n=this.constructor,i=this[e];if(!(((r??=n.getPropertyOptions(e)).hasChanged??x)(i,t)||r.useDefault&&r.reflect&&i===this._$Ej?.get(e)&&!this.hasAttribute(n._$Eu(e,r))))return;this.C(e,t,r)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:r,reflect:n,wrapped:i},o){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??t??this[e]),!0!==i||void 0!==o)||(this._$AL.has(e)||(this.hasUpdated||r||(t=void 0),this._$AL.set(e,t)),!0===n&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}let e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(let[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}let e=this.constructor.elementProperties;if(e.size>0)for(let[t,r]of e){let{wrapped:e}=r,n=this[t];!0!==e||this._$AL.has(t)||void 0===n||this.C(t,void 0,r,n)}}let e=!1,t=this._$AL;try{(e=this.shouldUpdate(t))?(this.willUpdate(t),this._$EO?.forEach(e=>e.hostUpdate?.()),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach(e=>e.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(e=>this._$ET(e,this[e])),this._$EM()}updated(e){}firstUpdated(e){}}N.elementStyles=[],N.shadowRootOptions={mode:"open"},N[C("elementProperties")]=new Map,N[C("finalized")]=new Map,E?.({ReactiveElement:N}),(b.reactiveElementVersions??=[]).push("2.1.1")},30808:function(e,t,r){"use strict";r.d(t,{QY:function(){return sZ},E9:function(){return iC},t7:function(){return iE},jb:function(){return ib},ne:function(){return iy},cQ:function(){return iw},Wk:function(){return iv},i9:function(){return id},I8:function(){return il},ZF:function(){return n9},Mb:function(){return ie},yh:function(){return sf},QZ:function(){return ii},sG:function(){return ip}});var n=r(55445),i=r.n(n),o=r(96756),s=r(11248),a=r(15133),c=r(58020),l=Object.defineProperty,u=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t,r)=>u(e,"symbol"!=typeof t?t+"":t,r);class f extends c.q{constructor(e){super(),this.opts=e,d(this,"protocol","wc"),d(this,"version",2)}}var h=Object.defineProperty,p=(e,t,r)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g=(e,t,r)=>p(e,"symbol"!=typeof t?t+"":t,r);class m extends c.q{constructor(e,t){super(),this.core=e,this.logger=t,g(this,"records",new Map)}}class y{constructor(e,t){this.logger=e,this.core=t}}class b extends c.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class v extends c.q{constructor(e){super()}}class w{constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}}class E extends c.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class C extends c.q{constructor(e,t){super(),this.core=e,this.logger=t}}class A{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class x{constructor(e,t){this.projectId=e,this.logger=t}}class I{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}var N=r(40537),S=r(80577),P=r(46633),O=r(65383),_=r(76454),R=r(3897);r(48737),r(34781),r(20111),r(56490),r(28782),r(83395),r(18535),r(10063),r(11558);var T=r(32003);r(78816),r(48988),r(72553),r(89722),r(68199),r(9215),r(57448),r(73458),r(30490),r(2372),r(28072),r(30859),r(26737),r(91950),r(3262),r(37850),r(30498),r(90597),r(34360),r(33494),r(94008),r(12426),r(86239),r(68672),r(99418),r(59780),r(99475),r(93313),r(92378),new(r(1522)).k(128),r(95912),r(84655),r(96852),(0,T.eC)(0,{size:32}),r(50277),r(89891),r(14122),r(814),r(67539),r(1190),r(65206),r(47034),r(76363),r(19089),r(10829),r(50677),r(45527),r(70349),r(8174),r(9609),r(73488),r(18399),r(39251),r(5385),r(71525),r(41709),r(69610),r(17373),r(98426),r(49841),r(43788);var k=r(37214),B=r(76087),U=r(81424),M=r(46248);class L extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let D={checksum:new L(8192)}.checksum;r(20272);let j=/^0x[a-fA-F0-9]{40}$/;class F extends k.G{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class q extends k.G{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class z extends k.G{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}let $=/^(.*)\[([0-9]*)\]$/,H=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,G=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function W(e,t){if(e.length!==t.length)throw new K({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let i=e[n],o=t[n];r.push(W.encode(i,o))}return M.zo(...r)}new Uint8Array,new DataView(new ArrayBuffer(0)),k.G,k.G,k.G,(W||(W={})).encode=function e(t,r,n=!1){if("address"===t)return function e(t,r={}){let{strict:n=!0}=r;if(!j.test(t))throw new F({address:t,cause:new q});if(n){if(t.toLowerCase()===t)return;if(function(t){if(D.has(t))return D.get(t);e(t,{strict:!1});let r=t.substring(2).toLowerCase(),n=function(e,t={}){let{as:r="string"==typeof e?"Hex":"Bytes"}=t,n=(0,B.fr)(U.Dp(e));return"Bytes"===r?n:M.xv(n)}(U.mL(r),{as:"Bytes"}),i=r.split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&i[e]&&(i[e]=i[e].toUpperCase()),(15&n[e>>1])>=8&&i[e+1]&&(i[e+1]=i[e+1].toUpperCase());let o=`0x${i.join("")}`;return D.set(t,o),o}(t)!==t)throw new F({address:t,cause:new z})}}(r),M.Q_(r.toLowerCase(),n?32:0);if("string"===t)return M.mL(r);if("bytes"===t)return r;if("bool"===t)return M.Q_(M.O3(r),n?32:1);let i=t.match(G);if(i){let[e,t,o="256"]=i,s=Number.parseInt(o)/8;return M.xS(r,{size:n?32:s,signed:"int"===t})}let o=t.match(H);if(o){let[e,t]=o;if(Number.parseInt(t)!==(r.length-2)/2)throw new V({expectedSize:Number.parseInt(t),value:r});return M.eh(r,n?32:0)}let s=t.match($);if(s&&Array.isArray(r)){let[t,n]=s,i=[];for(let t=0;t<r.length;t++)i.push(e(n,r[t],!0));return 0===i.length?"0x":M.zo(...i)}throw new Z(t)};class V extends k.G{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${M.dp(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class K extends k.G{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Z extends k.G{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}r(92250),r(15273),r(30906),r(89053),r(70229),r(54414),r(54003),r(46905);var Y=r(47159),J=r(21086);r(84041);var X=r(25566),Q=r(82957).Buffer;Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let ee={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function et(){return"u">typeof X&&"u">typeof X.versions&&"u">typeof X.versions.node}function er(){return!(0,_.getDocument)()&&!!(0,_.getNavigator)()&&"ReactNative"===navigator.product}function en(){return!et()&&!!(0,_.getNavigator)()&&!!(0,_.getDocument)()}function ei(){return er()?ee.reactNative:et()?ee.node:en()?ee.browser:ee.unknown}function eo(){var e;try{return er()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Application)?null==(e=r.g.Application)?void 0:e.applicationId:void 0}catch{return}}function es(e,t,n){let i=function(){if(ei()===ee.reactNative&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)){let{OS:e,Version:t}=r.g.Platform;return[e,t].join("-")}let e=(0,O.qY)();if(null===e)return"unknown";let t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),o=function(){var e;let t=ei();return t===ee.browser?[t,(null==(e=(0,_.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),["js",n].join("-"),i,o].join("/")}function ea(e){return Object.fromEntries(e.entries())}function ec(e){return new Map(Object.entries(e))}function el(e,t,r){return new Promise(async(n,i)=>{let o=setTimeout(()=>i(Error(r)),t);try{let t=await e;n(t)}catch(e){i(e)}clearTimeout(o)})}function eu(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw Error(`Unknown expirer target type: ${e}`)}function ed(e,t){return(0,N.fromMiliseconds)((t||Date.now())+(0,N.toMiliseconds)(e))}function ef(e){return Date.now()>=(0,N.toMiliseconds)(e)}function eh(e,t){return`${e}${t?`:${t}`:""}`}function ep(){return"u">typeof crypto&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function eg(){return"u">typeof X&&"true"===X.env.IS_VITEST}function em(e){return Q.from(e,"base64").toString("utf-8")}let ey=BigInt(4294967296-1),eb=BigInt(32);function ev(e,t=!1){return t?{h:Number(e&ey),l:Number(e>>eb&ey)}:{h:0|Number(e>>eb&ey),l:0|Number(e&ey)}}function ew(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:r,l:s}=ev(e[o],t);[n[o],i[o]]=[r,s]}return[n,i]}let eE=(e,t,r)=>e>>>r,eC=(e,t,r)=>e<<32-r|t>>>r,eA=(e,t,r)=>e>>>r|t<<32-r,ex=(e,t,r)=>e<<32-r|t>>>r,eI=(e,t,r)=>e<<64-r|t>>>r-32,eN=(e,t,r)=>e>>>r-32|t<<64-r,eS=(e,t)=>t,eP=(e,t)=>e,eO=(e,t,r)=>e<<r|t>>>32-r,e_=(e,t,r)=>t<<r|e>>>32-r,eR=(e,t,r)=>t<<r-32|e>>>64-r,eT=(e,t,r)=>e<<r-32|t>>>64-r;function ek(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}}let eB=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),eU=(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,eM=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),eL=(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,eD=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),ej=(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0,eF="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function eq(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ez(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function e$(e,...t){if(!eq(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function eH(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");ez(e.outputLen),ez(e.blockLen)}function eG(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function eW(e,t){e$(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function eV(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function eK(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function eZ(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function eY(e,t){return e<<32-t|e>>>t}let eJ=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function eX(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}let eQ=eJ?e=>e:e=>eX(e),e0=eJ?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=eX(e[t]);return e},e1="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,e2=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function e6(e){if(e$(e),e1)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=e2[e[r]];return t}let e5={_0:48,_9:57,A:65,F:70,a:97,f:102};function e8(e){return e>=e5._0&&e<=e5._9?e-e5._0:e>=e5.A&&e<=e5.F?e-(e5.A-10):e>=e5.a&&e<=e5.f?e-(e5.a-10):void 0}function e3(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(e1)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=e8(e.charCodeAt(i)),o=e8(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function e4(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),e$(e),e}function e9(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];e$(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class e7{}function te(e){let t=t=>e().update(e4(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function tt(e=32){if(eF&&"function"==typeof eF.getRandomValues)return eF.getRandomValues(new Uint8Array(e));if(eF&&"function"==typeof eF.randomBytes)return Uint8Array.from(eF.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}let tr=BigInt(0),tn=BigInt(1),ti=BigInt(2),to=BigInt(7),ts=BigInt(256),ta=BigInt(113),tc=[],tl=[],tu=[];for(let e=0,t=tn,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],tc.push(2*(5*n+r)),tl.push((e+1)*(e+2)/2%64);let i=tr;for(let e=0;e<7;e++)(t=(t<<tn^(t>>to)*ta)%ts)&ti&&(i^=tn<<(tn<<BigInt(e))-tn);tu.push(i)}let td=ew(tu,!0),tf=td[0],th=td[1],tp=(e,t,r)=>r>32?eR(e,t,r):eO(e,t,r),tg=(e,t,r)=>r>32?eT(e,t,r):e_(e,t,r);class tm extends e7{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,ez(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=eV(this.state)}clone(){return this._cloneInto()}keccak(){e0(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],s=r[i+1],a=tp(o,s,1)^r[n],c=tg(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=tl[r],o=tp(t,i,n),s=tg(t,i,n),a=tc[r];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=tf[n],e[1]^=th[n]}eK(r)}(this.state32,this.rounds),e0(this.state32),this.posOut=0,this.pos=0}update(e){eG(this),e$(e=e4(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){eG(this,!1),e$(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ez(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(eW(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,eK(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new tm(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}te(()=>new tm(136,1,32));class ty extends e7{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=eZ(this.buffer)}update(e){eG(this),e$(e=e4(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let o=0;o<i;){let s=Math.min(n-this.pos,i-o);if(s===n){let t=eZ(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){eG(this),eW(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,eK(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+l,a,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=eZ(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=a/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.destroyed=o,e.finished=i,e.length=n,e.pos=s,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let tb=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tv=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),tw=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),tE=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tC=new Uint32Array(64);class tA extends ty{constructor(e=32){super(64,e,8,!1),this.A=0|tb[0],this.B=0|tb[1],this.C=0|tb[2],this.D=0|tb[3],this.E=0|tb[4],this.F=0|tb[5],this.G=0|tb[6],this.H=0|tb[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)tC[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=tC[e-15],r=tC[e-2],n=eY(t,7)^eY(t,18)^t>>>3,i=eY(r,17)^eY(r,19)^r>>>10;tC[e]=i+tC[e-7]+n+tC[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){var u,d,f,h;let t=l+(eY(s,6)^eY(s,11)^eY(s,25))+((u=s)&a^~u&c)+tE[e]+tC[e]|0,p=(eY(r,2)^eY(r,13)^eY(r,22))+((d=r)&(f=n)^d&(h=i)^f&h)|0;l=c,c=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+p|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,o,s,a,c,l)}roundClean(){eK(tC)}destroy(){this.set(0,0,0,0,0,0,0,0),eK(this.buffer)}}let tx=ew(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),tI=tx[0],tN=tx[1],tS=new Uint32Array(80),tP=new Uint32Array(80);class tO extends ty{constructor(e=64){super(128,e,16,!1),this.Ah=0|tw[0],this.Al=0|tw[1],this.Bh=0|tw[2],this.Bl=0|tw[3],this.Ch=0|tw[4],this.Cl=0|tw[5],this.Dh=0|tw[6],this.Dl=0|tw[7],this.Eh=0|tw[8],this.El=0|tw[9],this.Fh=0|tw[10],this.Fl=0|tw[11],this.Gh=0|tw[12],this.Gl=0|tw[13],this.Hh=0|tw[14],this.Hl=0|tw[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:h,Hh:p,Hl:g}=this;return[e,t,r,n,i,o,s,a,c,l,u,d,f,h,p,g]}set(e,t,r,n,i,o,s,a,c,l,u,d,f,h,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)tS[r]=e.getUint32(t),tP[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|tS[e-15],r=0|tP[e-15],n=eA(t,r,1)^eA(t,r,8)^eE(t,r,7),i=ex(t,r,1)^ex(t,r,8)^eC(t,r,7),o=0|tS[e-2],s=0|tP[e-2],a=eA(o,s,19)^eI(o,s,61)^eE(o,s,6),c=eM(i,ex(o,s,19)^eN(o,s,61)^eC(o,s,6),tP[e-7],tP[e-16]),l=eL(c,n,a,tS[e-7],tS[e-16]);tS[e]=0|l,tP[e]=0|c}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){let t=eA(u,d,14)^eA(u,d,18)^eI(u,d,41),b=ex(u,d,14)^ex(u,d,18)^eN(u,d,41),v=u&f^~u&p,w=eD(y,b,d&h^~d&g,tN[e],tP[e]),E=ej(w,m,t,v,tI[e],tS[e]),C=0|w,A=eA(r,n,28)^eI(r,n,34)^eI(r,n,39),x=ex(r,n,28)^eN(r,n,34)^eN(r,n,39),I=r&i^r&s^i&s,N=n&o^n&a^o&a;m=0|p,y=0|g,p=0|f,g=0|h,f=0|u,h=0|d,({h:u,l:d}=ek(0|c,0|l,0|E,0|C)),c=0|s,l=0|a,s=0|i,a=0|o,i=0|r,o=0|n;let S=eB(C,x,N);r=eU(S,E,A,I),n=0|S}({h:r,l:n}=ek(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=ek(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=ek(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:l}=ek(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=ek(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:h}=ek(0|this.Fh,0|this.Fl,0|f,0|h)),({h:p,l:g}=ek(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=ek(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,i,o,s,a,c,l,u,d,f,h,p,g,m,y)}roundClean(){eK(tS,tP)}destroy(){eK(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class t_ extends tO{constructor(){super(48),this.Ah=0|tv[0],this.Al=0|tv[1],this.Bh=0|tv[2],this.Bl=0|tv[3],this.Ch=0|tv[4],this.Cl=0|tv[5],this.Dh=0|tv[6],this.Dl=0|tv[7],this.Eh=0|tv[8],this.El=0|tv[9],this.Fh=0|tv[10],this.Fl=0|tv[11],this.Gh=0|tv[12],this.Gl=0|tv[13],this.Hh=0|tv[14],this.Hl=0|tv[15]}}let tR=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class tT extends tO{constructor(){super(32),this.Ah=0|tR[0],this.Al=0|tR[1],this.Bh=0|tR[2],this.Bl=0|tR[3],this.Ch=0|tR[4],this.Cl=0|tR[5],this.Dh=0|tR[6],this.Dl=0|tR[7],this.Eh=0|tR[8],this.El=0|tR[9],this.Fh=0|tR[10],this.Fl=0|tR[11],this.Gh=0|tR[12],this.Gl=0|tR[13],this.Hh=0|tR[14],this.Hl=0|tR[15]}}let tk=te(()=>new tA),tB=te(()=>new tO),tU=te(()=>new t_),tM=(te(()=>new tT),Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9])),tL=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),tD=new Uint32Array(32);function tj(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=tD[2*e],l=tD[2*e+1],u=tD[2*t],d=tD[2*t+1],f=tD[2*r],h=tD[2*r+1],p=tD[2*n],g=tD[2*n+1],m=eB(c,u,s);l=eU(m,l,d,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:eS(g,p),Dl:eP(g)}),({h:h,l:f}=ek(h,f,g,p)),({Bh:d,Bl:u}={Bh:d^h,Bl:u^f}),({Bh:d,Bl:u}={Bh:eA(d,u,24),Bl:ex(d,u,24)}),tD[2*e]=c,tD[2*e+1]=l,tD[2*t]=u,tD[2*t+1]=d,tD[2*r]=f,tD[2*r+1]=h,tD[2*n]=p,tD[2*n+1]=g}function tF(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=tD[2*e],l=tD[2*e+1],u=tD[2*t],d=tD[2*t+1],f=tD[2*r],h=tD[2*r+1],p=tD[2*n],g=tD[2*n+1],m=eB(c,u,s);l=eU(m,l,d,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:eA(g,p,16),Dl:ex(g,p,16)}),({h:h,l:f}=ek(h,f,g,p)),({Bh:d,Bl:u}={Bh:d^h,Bl:u^f}),({Bh:d,Bl:u}={Bh:eI(d,u,63),Bl:eN(d,u,63)}),tD[2*e]=c,tD[2*e+1]=l,tD[2*t]=u,tD[2*t+1]=d,tD[2*r]=f,tD[2*r+1]=h,tD[2*n]=p,tD[2*n+1]=g}class tq extends e7{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,ez(e),ez(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=eV(this.buffer)}update(e){eG(this),e$(e=e4(e));let{blockLen:t,buffer:r,buffer32:n}=this,i=e.length,o=e.byteOffset,s=e.buffer;for(let a=0;a<i;){this.pos===t&&(e0(n),this.compress(n,0,!1),e0(n),this.pos=0);let c=Math.min(t-this.pos,i-a),l=o+a;if(c===t&&!(l%4)&&a+c<i){let e=new Uint32Array(s,l,Math.floor((i-a)/4));e0(e);for(let r=0;a+t<i;r+=n.length,a+=t)this.length+=t,this.compress(e,r,!1);e0(e);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,this.length+=c,a+=c}return this}digestInto(e){eG(this),eW(e,this);let{pos:t,buffer32:r}=this;this.finished=!0,eK(this.buffer.subarray(t)),e0(r),this.compress(r,0,!0),e0(r);let n=eV(e);this.get().forEach((e,t)=>n[t]=eQ(e))}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){let{buffer:t,length:r,finished:n,destroyed:i,outputLen:o,pos:s}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=n,e.length=r,e.pos=s,e.outputLen=o,e}clone(){return this._cloneInto()}}class tz extends tq{constructor(e={}){let t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|tL[0],this.v0h=0|tL[1],this.v1l=0|tL[2],this.v1h=0|tL[3],this.v2l=0|tL[4],this.v2h=0|tL[5],this.v3l=0|tL[6],this.v3h=0|tL[7],this.v4l=0|tL[8],this.v4h=0|tL[9],this.v5l=0|tL[10],this.v5h=0|tL[11],this.v6l=0|tL[12],this.v6h=0|tL[13],this.v7l=0|tL[14],this.v7h=0|tL[15],function(e,t={},r,n,i){if(ez(64),e<0||e>64)throw Error("outputLen bigger than keyLen");let{key:o,salt:s,personalization:a}=t;if(void 0!==o&&(o.length<1||o.length>64))throw Error("key length must be undefined or 1.."+r);if(void 0!==s&&16!==s.length)throw Error("salt must be undefined or 16");if(void 0!==a&&16!==a.length)throw Error("personalization must be undefined or 16")}(t,e,64,0,0);let{key:r,personalization:n,salt:i}=e,o=0;if(void 0!==r&&(o=(r=e4(r)).length),this.v0l^=this.outputLen|o<<8|16842752,void 0!==i){let e=eV(i=e4(i));this.v4l^=eQ(e[0]),this.v4h^=eQ(e[1]),this.v5l^=eQ(e[2]),this.v5h^=eQ(e[3])}if(void 0!==n){let e=eV(n=e4(n));this.v6l^=eQ(e[0]),this.v6h^=eQ(e[1]),this.v7l^=eQ(e[2]),this.v7h^=eQ(e[3])}if(void 0!==r){let e=new Uint8Array(this.blockLen);e.set(r),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:o,v3l:s,v3h:a,v4l:c,v4h:l,v5l:u,v5h:d,v6l:f,v6h:h,v7l:p,v7h:g}=this;return[e,t,r,n,i,o,s,a,c,l,u,d,f,h,p,g]}set(e,t,r,n,i,o,s,a,c,l,u,d,f,h,p,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|o,this.v3l=0|s,this.v3h=0|a,this.v4l=0|c,this.v4h=0|l,this.v5l=0|u,this.v5h=0|d,this.v6l=0|f,this.v6h=0|h,this.v7l=0|p,this.v7h=0|g}compress(e,t,r){this.get().forEach((e,t)=>tD[t]=e),tD.set(tL,16);let{h:n,l:i}=ev(BigInt(this.length));tD[24]=tL[8]^i,tD[25]=tL[9]^n,r&&(tD[28]=~tD[28],tD[29]=~tD[29]);let o=0;for(let r=0;r<12;r++)tj(0,4,8,12,e,t+2*tM[o++]),tF(0,4,8,12,e,t+2*tM[o++]),tj(1,5,9,13,e,t+2*tM[o++]),tF(1,5,9,13,e,t+2*tM[o++]),tj(2,6,10,14,e,t+2*tM[o++]),tF(2,6,10,14,e,t+2*tM[o++]),tj(3,7,11,15,e,t+2*tM[o++]),tF(3,7,11,15,e,t+2*tM[o++]),tj(0,5,10,15,e,t+2*tM[o++]),tF(0,5,10,15,e,t+2*tM[o++]),tj(1,6,11,12,e,t+2*tM[o++]),tF(1,6,11,12,e,t+2*tM[o++]),tj(2,7,8,13,e,t+2*tM[o++]),tF(2,7,8,13,e,t+2*tM[o++]),tj(3,4,9,14,e,t+2*tM[o++]),tF(3,4,9,14,e,t+2*tM[o++]);this.v0l^=tD[0]^tD[16],this.v0h^=tD[1]^tD[17],this.v1l^=tD[2]^tD[18],this.v1h^=tD[3]^tD[19],this.v2l^=tD[4]^tD[20],this.v2h^=tD[5]^tD[21],this.v3l^=tD[6]^tD[22],this.v3h^=tD[7]^tD[23],this.v4l^=tD[8]^tD[24],this.v4h^=tD[9]^tD[25],this.v5l^=tD[10]^tD[26],this.v5h^=tD[11]^tD[27],this.v6l^=tD[12]^tD[28],this.v6h^=tD[13]^tD[29],this.v7l^=tD[14]^tD[30],this.v7h^=tD[15]^tD[31],eK(tD)}destroy(){this.destroyed=!0,eK(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}function t$(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function tH(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function tG(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function tW(e,...t){if(!t$(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function tV(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function tK(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function tZ(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}!function(e){let t=(t,r)=>e(r).update(e4(t)).digest(),r=e({});t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t)}(e=>new tz(e)),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let tY=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function tJ(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e);else if(t$(e))e=t0(e);else throw Error("Uint8Array expected, got "+typeof e);return e}function tX(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error("invalid output length, expected "+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function tQ(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+l,a,n)}function t0(e){return Uint8Array.from(e)}let t1=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),t2=t1("expand 16-byte k"),t6=t1("expand 32-byte k"),t5=tK(t2),t8=tK(t6);function t3(e,t){return e<<t|e>>>32-t}function t4(e){return e.byteOffset%4==0}let t9=4294967296-1,t7=new Uint32Array,re=(e,t)=>255&e[t++]|(255&e[t++])<<8;class rt{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,tW(e=tJ(e),32);let t=re(e,0),r=re(e,2),n=re(e,4),i=re(e,6),o=re(e,8),s=re(e,10),a=re(e,12),c=re(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|n<<6)&7939,this.r[3]=(n>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|s<<2)&8191,this.r[7]=(s>>>11|a<<5)&8065,this.r[8]=(a>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=re(e,16+2*t)}process(e,t,r=!1){let{h:n,r:i}=this,o=i[0],s=i[1],a=i[2],c=i[3],l=i[4],u=i[5],d=i[6],f=i[7],h=i[8],p=i[9],g=re(e,t+0),m=re(e,t+2),y=re(e,t+4),b=re(e,t+6),v=re(e,t+8),w=re(e,t+10),E=re(e,t+12),C=re(e,t+14),A=n[0]+(8191&g),x=n[1]+((g>>>13|m<<3)&8191),I=n[2]+((m>>>10|y<<6)&8191),N=n[3]+((y>>>7|b<<9)&8191),S=n[4]+((b>>>4|v<<12)&8191),P=n[5]+(v>>>1&8191),O=n[6]+((v>>>14|w<<2)&8191),_=n[7]+((w>>>11|E<<5)&8191),R=n[8]+((E>>>8|C<<8)&8191),T=n[9]+(C>>>5|(r?0:2048)),k=0,B=0+A*o+5*p*x+5*h*I+5*f*N+5*d*S;k=B>>>13,B&=8191,B+=5*u*P+5*l*O+5*c*_+5*a*R+5*s*T,k+=B>>>13,B&=8191;let U=k+A*s+x*o+5*p*I+5*h*N+5*f*S;k=U>>>13,U&=8191,U+=5*d*P+5*u*O+5*l*_+5*c*R+5*a*T,k+=U>>>13,U&=8191;let M=k+A*a+x*s+I*o+5*p*N+5*h*S;k=M>>>13,M&=8191,M+=5*f*P+5*d*O+5*u*_+5*l*R+5*c*T,k+=M>>>13,M&=8191;let L=k+A*c+x*a+I*s+N*o+5*p*S;k=L>>>13,L&=8191,L+=5*h*P+5*f*O+5*d*_+5*u*R+5*l*T,k+=L>>>13,L&=8191;let D=k+A*l+x*c+I*a+N*s+S*o;k=D>>>13,D&=8191,D+=5*p*P+5*h*O+5*f*_+5*d*R+5*u*T,k+=D>>>13,D&=8191;let j=k+A*u+x*l+I*c+N*a+S*s;k=j>>>13,j&=8191,j+=P*o+5*p*O+5*h*_+5*f*R+5*d*T,k+=j>>>13,j&=8191;let F=k+A*d+x*u+I*l+N*c+S*a;k=F>>>13,F&=8191,F+=P*s+O*o+5*p*_+5*h*R+5*f*T,k+=F>>>13,F&=8191;let q=k+A*f+x*d+I*u+N*l+S*c;k=q>>>13,q&=8191,q+=P*a+O*s+_*o+5*p*R+5*h*T,k+=q>>>13,q&=8191;let z=k+A*h+x*f+I*d+N*u+S*l;k=z>>>13,z&=8191,z+=P*c+O*a+_*s+R*o+5*p*T,k+=z>>>13,z&=8191;let $=k+A*p+x*h+I*f+N*d+S*u;k=$>>>13,$&=8191,$+=P*l+O*c+_*a+R*s+T*o,k+=$>>>13,$&=8191,B=8191&(k=(k=(k<<2)+k|0)+B|0),k>>>=13,U+=k,n[0]=B,n[1]=U,n[2]=M,n[3]=L,n[4]=D,n[5]=j,n[6]=F,n[7]=q,n[8]=z,n[9]=$}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=n,n=e[t]>>>13,e[t]&=8191;e[0]+=5*n,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,r[0]=e[0]+5,n=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+n,n=r[t]>>>13,r[t]&=8191;r[9]-=8192;let i=(1^n)-1;for(let e=0;e<10;e++)r[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+t[0];e[0]=65535&o;for(let r=1;r<8;r++)o=(e[r]+t[r]|0)+(o>>>16)|0,e[r]=65535&o;tZ(r)}update(e){tV(this),tW(e=tJ(e));let{buffer:t,blockLen:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(r-this.pos,n-i);if(o===r){for(;r<=n-i;i+=r)this.process(e,i);continue}t.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){tZ(this.h,this.r,this.buffer,this.pad)}digestInto(e){tV(this),function(e,t){tW(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,h:r}=this,{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=r[t]>>>0,e[i++]=r[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let rr=function(e){let t=(t,r)=>e(r).update(tJ(t)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new rt(e)),rn=function(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:o,rounds:s}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return tG(i),tG(s),tH(o),tH(r),(t,a,c,l,u=0)=>{tW(t),tW(a),tW(c);let d=c.length;if(void 0===l&&(l=new Uint8Array(d)),tW(l),tG(u),u<0||u>=t9)throw Error("arx: counter overflow");if(l.length<d)throw Error(`arx: output (${l.length}) is shorter than data (${d})`);let f=[],h=t.length,p,g;if(32===h)f.push(p=t0(t)),g=t8;else if(16===h&&r)(p=new Uint8Array(32)).set(t),p.set(t,16),g=t5,f.push(p);else throw Error(`arx: invalid 32-byte key, got length=${h}`);t4(a)||f.push(a=t0(a));let m=tK(p);if(n){if(24!==a.length)throw Error("arx: extended nonce must be 24 bytes");n(g,m,tK(a.subarray(0,16)),m),a=a.subarray(16)}let y=16-i;if(y!==a.length)throw Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){let e=new Uint8Array(12);e.set(a,o?0:12-a.length),a=e,f.push(a)}return function(e,t,r,n,i,o,s,a){let c=i.length,l=new Uint8Array(64),u=tK(l),d=t4(i)&&t4(o),f=d?tK(i):t7,h=d?tK(o):t7;for(let p=0;p<c;s++){if(e(t,r,n,u,s,a),s>=t9)throw Error("arx: counter overflow");let g=Math.min(64,c-p);if(d&&64===g){let e=p/4;if(p%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)h[r=e+t]=f[r]^u[t];p+=64;continue}for(let e=0,t;e<g;e++)o[t=p+e]=i[t]^l[e];p+=g}}(e,g,m,tK(a),c,l,u,s),tZ(...f),l}}(function(e,t,r,n,i,o=20){let s=e[0],a=e[1],c=e[2],l=e[3],u=t[0],d=t[1],f=t[2],h=t[3],p=t[4],g=t[5],m=t[6],y=t[7],b=r[0],v=r[1],w=r[2],E=s,C=a,A=c,x=l,I=u,N=d,S=f,P=h,O=p,_=g,R=m,T=y,k=i,B=b,U=v,M=w;for(let e=0;e<o;e+=2)O=O+(k=t3(k^(E=E+I|0),16))|0,E=E+(I=t3(I^O,12))|0,O=O+(k=t3(k^E,8))|0,I=t3(I^O,7),_=_+(B=t3(B^(C=C+N|0),16))|0,C=C+(N=t3(N^_,12))|0,_=_+(B=t3(B^C,8))|0,N=t3(N^_,7),R=R+(U=t3(U^(A=A+S|0),16))|0,A=A+(S=t3(S^R,12))|0,R=R+(U=t3(U^A,8))|0,S=t3(S^R,7),T=T+(M=t3(M^(x=x+P|0),16))|0,x=x+(P=t3(P^T,12))|0,T=T+(M=t3(M^x,8))|0,P=t3(P^T,7),R=R+(M=t3(M^(E=E+N|0),16))|0,E=E+(N=t3(N^R,12))|0,R=R+(M=t3(M^E,8))|0,N=t3(N^R,7),T=T+(k=t3(k^(C=C+S|0),16))|0,C=C+(S=t3(S^T,12))|0,T=T+(k=t3(k^C,8))|0,S=t3(S^T,7),O=O+(B=t3(B^(A=A+P|0),16))|0,A=A+(P=t3(P^O,12))|0,O=O+(B=t3(B^A,8))|0,P=t3(P^O,7),_=_+(U=t3(U^(x=x+I|0),16))|0,x=x+(I=t3(I^_,12))|0,_=_+(U=t3(U^x,8))|0,I=t3(I^_,7);let L=0;n[L++]=s+E|0,n[L++]=a+C|0,n[L++]=c+A|0,n[L++]=l+x|0,n[L++]=u+I|0,n[L++]=d+N|0,n[L++]=f+S|0,n[L++]=h+P|0,n[L++]=p+O|0,n[L++]=g+_|0,n[L++]=m+R|0,n[L++]=y+T|0,n[L++]=i+k|0,n[L++]=b+B|0,n[L++]=v+U|0,n[L++]=w+M|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),ri=new Uint8Array(16),ro=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(ri.subarray(r))},rs=new Uint8Array(32);function ra(e,t,r,n,i){let o=e(t,r,rs),s=rr.create(o);i&&ro(s,i),ro(s,n);let a=function(e,t,r){tH(r);let n=new Uint8Array(16),i=new DataView(n.buffer,n.byteOffset,n.byteLength);return tQ(i,0,BigInt(t),r),tQ(i,8,BigInt(e),r),n}(n.length,i?i.length:0,!0);s.update(a);let c=s.digest();return tZ(o,a),c}let rc=((e,t)=>{function r(n,...i){if(tW(n),!tY)throw Error("Non little-endian hardware is not yet supported");if(void 0!==e.nonceLength){let t=i[0];if(!t)throw Error("nonce / iv required");e.varSizeNonce?tW(t):tW(t,e.nonceLength)}let o=e.tagLength;o&&void 0!==i[1]&&tW(i[1]);let s=t(n,...i),a=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");tW(t)}},c=!1;return{encrypt(e,t){if(c)throw Error("cannot encrypt() twice with same key + nonce");return c=!0,tW(e),a(s.encrypt.length,t),s.encrypt(e,t)},decrypt(e,t){if(tW(e),o&&e.length<o)throw Error("invalid ciphertext length: smaller than tagLength="+o);return a(s.decrypt.length,t),s.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:12,tagLength:16},(e,t,r)=>({encrypt(n,i){let o=n.length;(i=tX(o+16,i,!1)).set(n);let s=i.subarray(0,-16);rn(e,t,s,s,1);let a=ra(rn,e,t,s,r);return i.set(a,o),tZ(a),i},decrypt(n,i){i=tX(n.length-16,i,!1);let o=n.subarray(0,-16),s=n.subarray(-16),a=ra(rn,e,t,o,r);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(s,a))throw Error("invalid tag");return i.set(n.subarray(0,-16)),rn(e,t,i,i,1),tZ(a),i}}));class rl extends e7{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,eH(e);let r=e4(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),eK(i)}update(e){return eG(this),this.iHash.update(e),this}digestInto(e){eG(this),e$(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let ru=(e,t,r)=>new rl(e,t).update(r).digest();ru.create=(e,t)=>new rl(e,t);let rd=Uint8Array.from([0]),rf=Uint8Array.of(),rh=(e,t,r,n,i)=>{var o;return function(e,t,r,n=32){eH(e),ez(n);let i=e.outputLen;if(n>255*i)throw Error("Length should be <= 255*HashLen");let o=Math.ceil(n/i);void 0===r&&(r=rf);let s=new Uint8Array(o*i),a=ru.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let e=0;e<o;e++)rd[0]=e+1,c.update(0===e?rf:l).update(r).update(rd).digestInto(l),s.set(l,i*e),a._cloneInto(c);return a.destroy(),c.destroy(),eK(l,rd),s.slice(0,n)}(e,(o=r,eH(e),void 0===o&&(o=new Uint8Array(e.outputLen)),ru(e,e4(o),e4(t))),n,i)},rp=BigInt(0),rg=BigInt(1);function rm(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function ry(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function rb(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?rp:BigInt("0x"+e)}function rv(e){return e$(e),rb(e6(Uint8Array.from(e).reverse()))}function rw(e,t){return e3(e.toString(16).padStart(2*t,"0"))}function rE(e,t){return rw(e,t).reverse()}function rC(e,t,r){let n;if("string"==typeof t)try{n=e3(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(eq(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}let rA=e=>"bigint"==typeof e&&rp<=e;function rx(e,t,r,n){if(!(rA(t)&&rA(r)&&rA(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let rI=e=>(rg<<BigInt(e))-rg;function rN(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let o=typeof i;if(o!==r||null===i)throw Error(`param "${t}" is invalid: expected ${r}, got ${o}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))}function rS(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}let rP=BigInt(0),rO=BigInt(1),r_=BigInt(2),rR=BigInt(3),rT=BigInt(4),rk=BigInt(5),rB=BigInt(8);function rU(e,t){let r=e%t;return r>=rP?r:t+r}function rM(e,t,r){let n=e;for(;t-- >rP;)n*=n,n%=r;return n}function rL(e,t){if(e===rP)throw Error("invert: expected non-zero number");if(t<=rP)throw Error("invert: expected positive modulus, got "+t);let r=rU(e,t),n=t,i=rP,o=rO;for(;r!==rP;){let e=n/r,t=n%r,s=i-o*e;n=r,r=t,i=o,o=s}if(n!==rO)throw Error("invert: does not exist");return rU(i,t)}function rD(e,t){let r=(e.ORDER+rO)/rT,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function rj(e,t){let r=(e.ORDER-rk)/rB,n=e.mul(t,r_),i=e.pow(n,r),o=e.mul(t,i),s=e.mul(e.mul(o,r_),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw Error("Cannot find square root");return a}let rF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rq(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function rz(e,t){let r=(e.ORDER-rO)/r_,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!s)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function r$(e,t,r=!1,n={}){let i,o,s;if(e<=rP)throw Error("invalid field: expected ORDER > 0, got "+e);if("object"==typeof t&&null!=t){if(n.sqrt||r)throw Error("cannot specify opts in two arguments");t.BITS&&(i=t.BITS),t.sqrt&&(o=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE)}else"number"==typeof t&&(i=t),n.sqrt&&(o=n.sqrt);let{nBitLength:a,nByteLength:c}=function(e,t){void 0!==t&&ez(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}(e,i);if(c>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let l=Object.freeze({ORDER:e,isLE:r,BITS:a,BYTES:c,MASK:rI(a),ZERO:rP,ONE:rO,create:t=>rU(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return rP<=t&&t<e},is0:e=>e===rP,isValidNot0:e=>!l.is0(e)&&l.isValid(e),isOdd:e=>(e&rO)===rO,neg:t=>rU(-t,e),eql:(e,t)=>e===t,sqr:t=>rU(t*t,e),add:(t,r)=>rU(t+r,e),sub:(t,r)=>rU(t-r,e),mul:(t,r)=>rU(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<rP)throw Error("invalid exponent, negatives unsupported");if(r===rP)return e.ONE;if(r===rO)return t;let n=e.ONE,i=t;for(;r>rP;)r&rO&&(n=e.mul(n,i)),i=e.sqr(i),r>>=rO;return n})(l,e,t),div:(t,r)=>rU(t*rL(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>rL(t,e),sqrt:o||(t=>(s||(s=e%rT===rR?rD:e%rB===rk?rj:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-rO,r=0;for(;t%r_===rP;)t/=r_,r++;let n=r_,i=r$(e);for(;1===rz(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return rD;let o=i.pow(n,t),s=(t+rO)/r_;return function(e,n){if(e.is0(n))return n;if(1!==rz(e,n))throw Error("Cannot find square root");let i=r,a=e.mul(e.ONE,o),c=e.pow(n,t),l=e.pow(n,s);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=rO<<BigInt(i-t-1),o=e.pow(a,n);i=t,a=e.sqr(o),c=e.mul(c,a),l=e.mul(l,o)}return l}}(e)),s(l,t))),toBytes:e=>r?rE(e,c):rw(e,c),fromBytes:e=>{if(e.length!==c)throw Error("Field.fromBytes: expected "+c+" bytes, got "+e.length);return r?rv(e):rb(e6(e))},invertBatch:e=>rq(l,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(l)}function rH(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function rG(e){let t=rH(e);return t+Math.ceil(t/2)}let rW=BigInt(0),rV=BigInt(1);function rK(e,t){let r=t.negate();return e?r:t}function rZ(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function rY(e,t){rZ(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:rI(e),maxNumber:i,shiftBy:BigInt(e)}}function rJ(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r,a=Number(e&i),c=e>>s;a>n&&(a-=o,c+=rV);let l=t*n;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}let rX=new WeakMap,rQ=new WeakMap;function r0(e){return rQ.get(e)||1}function r1(e){if(e!==rW)throw Error("invalid wNAF")}function r2(e,t){if(!t)return r$(e);if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return rN(t,rF.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),t}BigInt(0),BigInt(1),BigInt(2),BigInt(8);let r6=BigInt(0),r5=BigInt(1),r8=BigInt(2);BigInt(0);let r3=BigInt(1),r4=BigInt(2),r9=BigInt(3),r7=BigInt(5),ne=BigInt(8),nt={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:ne,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function nr(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}let nn=(()=>{let e=nt.p;return function(e){let{P:t,type:r,adjustScalarBytes:n,powPminus2:i,randomBytes:o}=(rN(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})),s="x25519"===r;if(!s&&"x448"!==r)throw Error("invalid type");let a=o||tt,c=s?255:448,l=s?32:56,u=BigInt(s?9:5),d=BigInt(s?121665:39081),f=s?r8**BigInt(254):r8**BigInt(447),h=f+(s?BigInt(8)*r8**BigInt(251)-r5:BigInt(4)*r8**BigInt(445)-r5)+r5,p=e=>rU(e,t),g=rE(p(u),l);function m(e,r){let o=function(e,r){rx("u",e,r6,t),rx("scalar",r,f,h);let n=r5,o=r6,s=e,a=r5,l=r6;for(let t=BigInt(c-1);t>=r6;t--){let i=r>>t&r5;l^=i,({x_2:n,x_3:s}=b(l,n,s)),({x_2:o,x_3:a}=b(l,o,a)),l=i;let c=n+o,u=p(c*c),f=n-o,h=p(f*f),g=u-h,m=s+a,y=p((s-a)*c),v=p(m*f),w=y+v,E=y-v;s=p(w*w),a=p(e*p(E*E)),n=p(u*h),o=p(g*(u+p(d*g)))}return{x_2:n,x_3:s}=b(l,n,s),{x_2:o,x_3:a}=b(l,o,a),p(n*i(o))}(function(e){let t=rC("u coordinate",e,l);return s&&(t[31]&=127),p(rv(t))}(r),rv(n(rC("scalar",e,l))));if(o===r6)throw Error("invalid private or public key received");return rE(p(o),l)}function y(e){return m(e,g)}function b(e,t,r){let n=p(e*(t-r));return{x_2:t=p(t-n),x_3:r=p(r+n)}}return{scalarMult:m,scalarMultBase:y,getSharedSecret:(e,t)=>m(e,t),getPublicKey:e=>y(e),utils:{randomPrivateKey:()=>a(l)},GuBytes:g.slice()}}({P:e,type:"x25519",powPminus2:t=>{let{pow_p_5_8:r,b2:n}=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=nt.p,s=e*e%o*e%o,a=rM(s,r4,o)*s%o,c=rM(a,r3,o)*e%o,l=rM(c,r7,o)*c%o,u=rM(l,t,o)*l%o,d=rM(u,r,o)*u%o,f=rM(d,n,o)*d%o,h=rM(f,i,o)*f%o,p=rM(h,i,o)*f%o,g=rM(p,t,o)*l%o;return{pow_p_5_8:rM(g,r4,o)*e%o,b2:s}}(t);return rU(rM(r,r9,e)*n,e)},adjustScalarBytes:nr})})();function ni(e){void 0!==e.lowS&&rm("lowS",e.lowS),void 0!==e.prehash&&rm("prehash",e.prehash)}class no extends Error{constructor(e=""){super(e)}}let ns={Err:no,_tlv:{encode:(e,t)=>{let{Err:r}=ns;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=ry(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?ry(i.length/2|128):"";return ry(e)+o+i+t},decode(e,t){let{Err:r}=ns,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let s=t.subarray(n,n+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=ns;if(e<na)throw new t("integer: negative integers are not allowed");let r=ry(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ns;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return rb(e6(e))}},toSig(e){let{Err:t,_int:r,_tlv:n}=ns,i=rC("signature",e),{v:o,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=ns,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},na=BigInt(0),nc=BigInt(1),nl=BigInt(2),nu=BigInt(3),nd=BigInt(4);function nf(e,t,r){let{BYTES:n}=e;return function(i){let o;if("bigint"==typeof i)o=i;else{let r=rC("private key",i);if(t){if(!t.includes(2*r.length))throw Error("invalid private key");let e=new Uint8Array(n);e.set(r,e.length-r.length),r=e}try{o=e.fromBytes(r)}catch{throw Error(`invalid private key: expected ui8a of size ${n}, got ${typeof i}`)}}if(r&&(o=e.create(o)),!e.isValidNot0(o))throw Error("invalid private key: out of range [1..N-1]");return o}}function nh(e){return Uint8Array.of(e?2:3)}function np(e,t){let r=t=>(function(e){let{CURVE:t,curveOpts:r,ecdsaOpts:n}=function(e){let{CURVE:t,curveOpts:r}=function(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:r$(t.n,e.nBitLength),allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:r}}(e);return{CURVE:t,curveOpts:r,ecdsaOpts:{hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN}}}(e),i=function(e,t,r={}){rN(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=t.randomBytes||tt,i=t.hmac||((e,...r)=>ru(t.hash,e,e9(...r))),{Fp:o,Fn:s}=e,{ORDER:a,BITS:c}=s;function l(e,t){if(!s.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..CURVE.n`)}class u{constructor(e,t,r){l("r",e),l("s",t),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){let t=s.BYTES,r=rC("compactSignature",e,2*t);return new u(s.fromBytes(r.subarray(0,t)),s.fromBytes(r.subarray(t,2*t)))}static fromDER(e){let{r:t,s:r}=ns.toSig(rC("DER",e));return new u(t,r)}assertValidity(){}addRecoveryBit(e){return new u(this.r,this.s,e)}recoverPublicKey(t){let r=o.ORDER,{r:n,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw Error("recovery id invalid");if(a*nl<r&&c>1)throw Error("recovery id is ambiguous for h>1 curve");let l=2===c||3===c?n+a:n;if(!o.isValid(l))throw Error("recovery id 2 or 3 invalid");let u=o.toBytes(l),d=e.fromHex(e9(nh((1&c)==0),u)),f=s.inv(l),h=p(rC("msgHash",t)),g=s.create(-h*f),m=s.create(i*f),y=e.BASE.multiplyUnsafe(g).add(d.multiplyUnsafe(m));if(y.is0())throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>a>>nc}normalizeS(){return this.hasHighS()?new u(this.r,s.neg(this.s),this.recovery):this}toBytes(e){if("compact"===e)return e9(s.toBytes(this.r),s.toBytes(this.s));if("der"===e)return e3(ns.hexFromSig(this));throw Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return e6(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return e6(this.toBytes("compact"))}}let d=nf(s,r.allowedPrivateKeyLengths,r.wrapPrivateKey);function f(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let n=rC("key",t).length,i=o.BYTES,a=i+1;if(!(r.allowedPrivateKeyLengths||s.BYTES===a))return n===a||n===2*i+1}let h=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=rb(e6(e)),r=8*e.length-c;return r>0?t>>BigInt(r):t},p=t.bits2int_modN||function(e){return s.create(h(e))},g=rI(c);function m(e){return rx("num < 2^"+c,e,na,g),s.toBytes(e)}let y={lowS:t.lowS,prehash:!1},b={lowS:t.lowS,prehash:!1};return e.BASE.precompute(8),Object.freeze({getPublicKey:function(t,r=!0){return e.fromPrivateKey(t).toBytes(r)},getSharedSecret:function(t,r,n=!0){if(!0===f(t))throw Error("first arg must be private key");if(!1===f(r))throw Error("second arg must be public key");return e.fromHex(r).multiply(d(t)).toBytes(n)},sign:function(r,c,l=y){let{seed:f,k2sig:g}=function(r,i,c=y){if(["recovered","canonical"].some(e=>e in c))throw Error("sign() legacy options not supported");let{hash:l}=t,{lowS:f,prehash:g,extraEntropy:b}=c;null==f&&(f=!0),r=rC("msgHash",r),ni(c),g&&(r=rC("prehashed msgHash",l(r)));let v=p(r),w=d(i),E=[m(w),m(v)];if(null!=b&&!1!==b){let e=!0===b?n(o.BYTES):b;E.push(rC("extraEntropy",e))}return{seed:e9(...E),k2sig:function(t){let r=h(t);if(!s.isValidNot0(r))return;let n=s.inv(r),i=e.BASE.multiply(r).toAffine(),o=s.create(i.x);if(o===na)return;let c=s.create(n*s.create(v+o*w));if(c===na)return;let l=(i.x===o?0:2)|Number(i.y&nc),d=c;return f&&c>a>>nc&&(d=c>a>>nc?s.neg(c):c,l^=1),new u(o,d,l)}}}(r,c,l);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=e=>new Uint8Array(e),i=e=>Uint8Array.of(e),o=n(e),s=n(e),a=0,c=()=>{o.fill(1),s.fill(0),a=0},l=(...e)=>r(s,o,...e),u=(e=n(0))=>{s=l(i(0),e),o=l(),0!==e.length&&(s=l(i(1),e),o=l())},d=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(o=l()).slice();r.push(t),e+=o.length}return e9(...r)};return(e,t)=>{let r;for(c(),u(e);!(r=t(d()));)u();return c(),r}})(t.hash.outputLen,s.BYTES,i)(f,g)},verify:function(r,n,i,o=b){let a,c;n=rC("msgHash",n),i=rC("publicKey",i),ni(o);let{lowS:l,prehash:d,format:f}=o;if("strict"in o)throw Error("options.strict was renamed to lowS");if(void 0!==f&&!["compact","der","js"].includes(f))throw Error('format must be "compact", "der" or "js"');let h="string"==typeof r||eq(r),g=!h&&!f&&"object"==typeof r&&null!==r&&"bigint"==typeof r.r&&"bigint"==typeof r.s;if(!h&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g){if(void 0===f||"js"===f)a=new u(r.r,r.s);else throw Error("invalid format")}if(h){try{"compact"!==f&&(a=u.fromDER(r))}catch(e){if(!(e instanceof ns.Err))throw e}a||"der"===f||(a=u.fromCompact(r))}c=e.fromHex(i)}catch{return!1}if(!a||l&&a.hasHighS())return!1;d&&(n=t.hash(n));let{r:m,s:y}=a,v=p(n),w=s.inv(y),E=s.create(v*w),C=s.create(m*w),A=e.BASE.multiplyUnsafe(E).add(c.multiplyUnsafe(C));return!A.is0()&&s.create(A.x)===m},utils:{isValidPrivateKey(e){try{return d(e),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>(function(e,t,r=!1){let n=e.length,i=rH(t),o=rG(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let s=rU(r?rv(e):rb(e6(e)),t-rO)+rO;return r?rE(s,i):rw(s,i)})(n(rG(a)),a),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},Point:e,Signature:u})}(function(e,t={}){var r,n,i;let{Fp:o,Fn:s}=function(e,t,r={}){if(!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>rW))throw Error(`CURVE.${e} must be positive bigint`)}let n=r2(t.p,r.Fp),i=r2(t.n,r.Fn);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!n.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}("weierstrass",e,t),{h:a,n:c}=e;rN(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:l}=t;if(l&&(!o.is0(e.a)||"bigint"!=typeof l.beta||"function"!=typeof l.splitScalar))throw Error('invalid endo: expected "beta": bigint and "splitScalar": function');function u(){if(!o.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let d=t.toBytes||function(e,t,r){let{x:n,y:i}=t.toAffine(),s=o.toBytes(n);return(rm("isCompressed",r),r)?(u(),e9(nh(!o.isOdd(i)),s)):e9(Uint8Array.of(4),s,o.toBytes(i))},f=t.fromBytes||function(e){e$(e);let t=o.BYTES,r=t+1,n=2*t+1,i=e.length,s=e[0],a=e.subarray(1);if(i===r&&(2===s||3===s)){let e;let t=o.fromBytes(a);if(!o.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=h(t);try{e=o.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return u(),(1&s)==1!==o.isOdd(e)&&(e=o.neg(e)),{x:t,y:e}}if(i===n&&4===s){let e=o.fromBytes(a.subarray(0*t,1*t)),r=o.fromBytes(a.subarray(1*t,2*t));if(!p(e,r))throw Error("bad point: is not on curve");return{x:e,y:r}}throw Error(`bad point: got length ${i}, expected compressed=${r} or uncompressed=${n}`)},h=(r=e.a,n=e.b,function(e){let t=o.sqr(e),i=o.mul(t,e);return o.add(o.add(i,o.mul(e,r)),n)});function p(e,t){let r=o.sqr(t),n=h(e);return o.eql(r,n)}if(!p(e.Gx,e.Gy))throw Error("bad curve params: generator point");let g=o.mul(o.pow(e.a,nu),nd),m=o.mul(o.sqr(e.b),BigInt(27));if(o.is0(o.add(g,m)))throw Error("bad curve params: a or b");function y(e,t,r=!1){if(!o.isValid(t)||r&&o.is0(t))throw Error(`bad point coordinate ${e}`);return t}function b(e){if(!(e instanceof C))throw Error("ProjectivePoint expected")}let v=rS((e,t)=>{let{px:r,py:n,pz:i}=e;if(o.eql(i,o.ONE))return{x:r,y:n};let s=e.is0();null==t&&(t=s?o.ONE:o.inv(i));let a=o.mul(r,t),c=o.mul(n,t),l=o.mul(i,t);if(s)return{x:o.ZERO,y:o.ZERO};if(!o.eql(l,o.ONE))throw Error("invZ was invalid");return{x:a,y:c}}),w=rS(e=>{if(e.is0()){if(t.allowInfinityPoint&&!o.is0(e.py))return;throw Error("bad point: ZERO")}let{x:r,y:n}=e.toAffine();if(!o.isValid(r)||!o.isValid(n))throw Error("bad point: x or y not field elements");if(!p(r,n))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function E(e,t,r,n,i){return r=new C(o.mul(r.px,e),r.py,r.pz),t=rK(n,t),r=rK(i,r),t.add(r)}class C{constructor(e,t,r){this.px=y("x",e),this.py=y("y",t,!0),this.pz=y("z",r),Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!o.isValid(t)||!o.isValid(r))throw Error("invalid affine point");if(e instanceof C)throw Error("projective point not allowed");return o.is0(t)&&o.is0(r)?C.ZERO:new C(t,r,o.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){return function(e,t,r){let n=rq(e.Fp,r.map(e=>e.pz));return r.map((e,t)=>e.toAffine(n[t])).map(e.fromAffine)}(C,0,e)}static fromBytes(e){return e$(e),C.fromHex(e)}static fromHex(e){let t=C.fromAffine(f(rC("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){let r=nf(s,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return C.BASE.multiply(r(e))}static msm(e,t){return function(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,o=n.length;if(i!==o)throw Error("arrays of points and scalars must have equal length");let s=e.ZERO,a=function(e){let t;for(t=0;e>rp;e>>=rg,t+=1);return t}(BigInt(i)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=rI(c),u=Array(Number(l)+1).fill(s),d=Math.floor((t.BITS-1)/c)*c,f=s;for(let e=d;e>=0;e-=c){u.fill(s);for(let t=0;t<o;t++){let i=Number(n[t]>>BigInt(e)&l);u[i]=u[i].add(r[t])}let t=s;for(let e=u.length-1,r=s;e>0;e--)r=r.add(u[e]),t=t.add(r);if(f=f.add(t),0!==e)for(let e=0;e<c;e++)f=f.double()}return f}(C,s,e,t)}precompute(e=8,t=!0){return x.setWindowSize(this,e),t||this.multiply(nu),this}_setWindowSize(e){this.precompute(e)}assertValidity(){w(this)}hasEvenY(){let{y:e}=this.toAffine();if(!o.isOdd)throw Error("Field doesn't support isOdd");return!o.isOdd(e)}equals(e){b(e);let{px:t,py:r,pz:n}=this,{px:i,py:s,pz:a}=e,c=o.eql(o.mul(t,a),o.mul(i,n)),l=o.eql(o.mul(r,a),o.mul(s,n));return c&&l}negate(){return new C(this.px,o.neg(this.py),this.pz)}double(){let{a:t,b:r}=e,n=o.mul(r,nu),{px:i,py:s,pz:a}=this,c=o.ZERO,l=o.ZERO,u=o.ZERO,d=o.mul(i,i),f=o.mul(s,s),h=o.mul(a,a),p=o.mul(i,s);return p=o.add(p,p),u=o.mul(i,a),u=o.add(u,u),c=o.mul(t,u),l=o.mul(n,h),l=o.add(c,l),c=o.sub(f,l),l=o.add(f,l),l=o.mul(c,l),c=o.mul(p,c),u=o.mul(n,u),h=o.mul(t,h),p=o.sub(d,h),p=o.mul(t,p),p=o.add(p,u),u=o.add(d,d),d=o.add(u,d),d=o.add(d,h),d=o.mul(d,p),l=o.add(l,d),h=o.mul(s,a),h=o.add(h,h),d=o.mul(h,p),c=o.sub(c,d),u=o.mul(h,f),u=o.add(u,u),new C(c,l,u=o.add(u,u))}add(t){b(t);let{px:r,py:n,pz:i}=this,{px:s,py:a,pz:c}=t,l=o.ZERO,u=o.ZERO,d=o.ZERO,f=e.a,h=o.mul(e.b,nu),p=o.mul(r,s),g=o.mul(n,a),m=o.mul(i,c),y=o.add(r,n),v=o.add(s,a);y=o.mul(y,v),v=o.add(p,g),y=o.sub(y,v),v=o.add(r,i);let w=o.add(s,c);return v=o.mul(v,w),w=o.add(p,m),v=o.sub(v,w),w=o.add(n,i),l=o.add(a,c),w=o.mul(w,l),l=o.add(g,m),w=o.sub(w,l),d=o.mul(f,v),l=o.mul(h,m),d=o.add(l,d),l=o.sub(g,d),d=o.add(g,d),u=o.mul(l,d),g=o.add(p,p),g=o.add(g,p),m=o.mul(f,m),v=o.mul(h,v),g=o.add(g,m),m=o.sub(p,m),m=o.mul(f,m),v=o.add(v,m),p=o.mul(g,v),u=o.add(u,p),p=o.mul(w,v),l=o.mul(y,l),l=o.sub(l,p),p=o.mul(y,g),d=o.mul(w,d),new C(l,u,d=o.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(C.ZERO)}multiply(e){let r,n;let{endo:i}=t;if(!s.isValidNot0(e))throw Error("invalid scalar: out of range");let o=e=>x.wNAFCached(this,e,C.normalizeZ);if(i){let{k1neg:t,k1:s,k2neg:a,k2:c}=i.splitScalar(e),{p:l,f:u}=o(s),{p:d,f:f}=o(c);n=u.add(f),r=E(i.beta,l,d,t,a)}else{let{p:t,f:i}=o(e);r=t,n=i}return C.normalizeZ([r,n])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!s.isValid(e))throw Error("invalid scalar: out of range");if(e===na||this.is0())return C.ZERO;if(e===nc)return this;if(x.hasPrecomputes(this))return this.multiply(e);if(!r)return x.wNAFCachedUnsafe(this,e);{let{k1neg:t,k1:n,k2neg:i,k2:o}=r.splitScalar(e),{p1:s,p2:a}=function(e,t,r,n){let i=t,o=e.ZERO,s=e.ZERO;for(;r>rW||n>rW;)r&rV&&(o=o.add(i)),n&rV&&(s=s.add(i)),i=i.double(),r>>=rV,n>>=rV;return{p1:o,p2:s}}(C,this,n,o);return E(r.beta,s,a,t,i)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return v(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return a===nc||(e?e(C,this):x.wNAFCachedUnsafe(this,c).is0())}clearCofactor(){let{clearCofactor:e}=t;return a===nc?this:e?e(C,this):this.multiplyUnsafe(a)}toBytes(e=!0){return rm("isCompressed",e),this.assertValidity(),d(C,this,e)}toRawBytes(e=!0){return this.toBytes(e)}toHex(e=!0){return e6(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}C.BASE=new C(e.Gx,e.Gy,o.ONE),C.ZERO=new C(o.ZERO,o.ONE,o.ZERO),C.Fp=o,C.Fn=s;let A=s.BITS,x=(i=t.endo?Math.ceil(A/2):A,{constTimeNegate:rK,hasPrecomputes:e=>1!==r0(e),unsafeLadder(e,t,r=C.ZERO){let n=e;for(;t>rW;)t&rV&&(r=r.add(n)),n=n.double(),t>>=rV;return r},precomputeWindow(e,t){let{windows:r,windowSize:n}=rY(t,i),o=[],s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<n;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,t,r){let n=C.ZERO,o=C.BASE,s=rY(e,i);for(let e=0;e<s.windows;e++){let{nextN:i,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:d}=rJ(r,e,s);r=i,c?o=o.add(rK(u,t[d])):n=n.add(rK(l,t[a]))}return r1(r),{p:n,f:o}},wNAFUnsafe(e,t,r,n=C.ZERO){let o=rY(e,i);for(let e=0;e<o.windows&&r!==rW;e++){let{nextN:i,offset:s,isZero:a,isNeg:c}=rJ(r,e,o);if(r=i,!a){let e=t[s];n=n.add(c?e.negate():e)}}return r1(r),n},getPrecomputes(e,t,r){let n=rX.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),rX.set(t,n))),n},wNAFCached(e,t,r){let n=r0(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=r0(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,t){rZ(t,i),rQ.set(e,t),rX.delete(e)}});return C}(t,r),n,r);return Object.assign({},i,{ProjectivePoint:i.Point,CURVE:e})})({...e,hash:t});return{...r(t),create:r}}let ng={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},nm={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},ny={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},nb=r$(ng.p),nv=r$(nm.p),nw=r$(ny.p),nE=np({...ng,Fp:nb,lowS:!1},tk);np({...nm,Fp:nv,lowS:!1},tU),np({...ny,Fp:nw,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},tB);let nC="base10",nA="base16",nx="base64pad",nI="base64url",nN="utf8";function nS(){let e=tt(32);return(0,Y.BB)(e,nA)}function nP(e){let t=tk((0,Y.mL)(e,nN));return(0,Y.BB)(t,nA)}function nO(e){return(0,Y.mL)(`${e}`,nC)}function n_(e){return Number((0,Y.BB)(e,nC))}function nR(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function nT(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4;return t+"=".repeat(r)}function nk(e){if(2===n_(e.type))return(0,Y.BB)((0,Y.zo)([e.type,e.sealed]),nx);if(1===n_(e.type)){if(typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return(0,Y.BB)((0,Y.zo)([e.type,e.senderPublicKey,e.iv,e.sealed]),nx)}return(0,Y.BB)((0,Y.zo)([e.type,e.iv,e.sealed]),nx)}function nB(e){let t=(e.encoding||nx)===nI?nT(e.encoded):e.encoded,r=(0,Y.mL)(t,nx),n=r.slice(0,1);if(1===n_(n)){let e=r.slice(1,33),t=r.slice(33,45);return{type:n,sealed:r.slice(45),iv:t,senderPublicKey:e}}if(2===n_(n))return{type:n,sealed:r.slice(1),iv:tt(12)};let i=r.slice(1,13);return{type:n,sealed:r.slice(13),iv:i}}function nU(e){let t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function nM(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function nL(e){return e?.relay||{protocol:"irn"}}function nD(e){let t=J.iO[e];if(typeof t>"u")throw Error(`Relay Protocol not supported: ${e}`);return t}function nj(e){var t;if(!e.includes("wc:")){let t=em(e);null!=t&&t.includes("wc:")&&(e=t)}let r=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,r),o=e.substring(r+1,n).split("@"),s=new URLSearchParams("u">typeof n?e.substring(n):""),a={};s.forEach((e,t)=>{a[t]=e});let c="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:i,topic:(t=o[0]).startsWith("//")?t.substring(2):t,version:parseInt(o[1],10),symKey:a.symKey,relay:function(e,t="-"){let r={},n="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(n)){let i=t.replace(n,""),o=e[t];r[i]=o}}),r}(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function nF(e){let t=new URLSearchParams,r=function(e,t="-"){let r={};return Object.keys(e).forEach(n=>{e[n]&&(r["relay"+t+n]=e[n])}),r}(e.relay);Object.keys(r).sort().forEach(e=>{t.set(e,r[e])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));let n=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${n}`}Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let nq={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},nz={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function n$(e,t){let{message:r,code:n}=nz[e];return{message:t?`${r} ${t}`:r,code:n}}function nH(e,t){let{message:r,code:n}=nq[e];return{message:t?`${r} ${t}`:r,code:n}}function nG(e){return typeof e>"u"}function nW(e,t){return!!(t&&nG(e))||"string"==typeof e&&!!e.trim().length}function nV(e){return"u">typeof e}function nK(){let e=ei();return new Promise(t=>{switch(e){case ee.browser:t(en()&&navigator?.onLine);break;case ee.reactNative:t(nZ());break;case ee.node:default:t(!0)}})}async function nZ(){if(er()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo){let e=await (null==r.g?void 0:r.g.NetInfo.fetch());return e?.isConnected}return!0}var nY=r(38979),nJ=r(5276),nX=r(75646),nQ=r(82957).Buffer,n0=r(25566);let n1="core",n2=`wc@2:${n1}:`,n6={logger:"error"},n5={database:":memory:"},n8="client_ed25519_seed",n3=N.ONE_DAY,n4=N.SIX_HOURS,n9="irn",n7="wss://relay.walletconnect.org",ie={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},it={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},ir="2.21.7",ii={link_mode:"link_mode",relay:"relay"},io={inbound:"inbound",outbound:"outbound"},is="WALLETCONNECT_LINK_MODE_APPS",ia={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},ic=(N.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:N.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:N.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:N.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:N.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:N.ONE_DAY,prompt:!1,tag:0},res:{ttl:N.ONE_DAY,prompt:!1,tag:0}}}),il={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},iu={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},id={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},ih="https://verify.walletconnect.org",ip=ih,ig=`${ip}/v3`,im=["https://verify.walletconnect.com",ih],iy={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ib={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},iv={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},iw={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},iE={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},iC={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"};var iA=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*l+1>>>0,s=new Uint8Array(o);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,f=o-1;(0!==u||d<i)&&-1!==f;f--,d++)u+=a*s[f]>>>0,s[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var p=new Uint8Array(n+(o-h)),g=n;h!==o;)p[g++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*u+1>>>0,l=new Uint8Array(s);i!==o;){for(var d=t[i],f=0,h=s-1;(0!==d||f<n)&&-1!==h;h--,f++)d+=256*l[h]>>>0,l[h]=d%a>>>0,d=d/a>>>0;if(0!==d)throw Error("Non-zero carry");n=f,i++}for(var p=s-n;p!==s&&0===l[p];)p++;for(var g=c.repeat(r);p<s;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw Error(`Non-${t} character`)}}};let ix=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},iI=e=>new TextEncoder().encode(e),iN=e=>new TextDecoder().decode(e);class iS{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class iP{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return i_(this,e)}}class iO{constructor(e){this.decoders=e}or(e){return i_(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let i_=(e,t)=>new iO({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class iR{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new iS(e,t,r),this.decoder=new iP(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let iT=({name:e,prefix:t,encode:r,decode:n})=>new iR(e,t,r,n),ik=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=iA(r,t);return iT({prefix:e,name:t,encode:n,decode:e=>ix(i(e))})},iB=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let s=new Uint8Array(o*r/8|0),a=0,c=0,l=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);c=c<<r|o,(a+=r)>=8&&(a-=8,s[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw SyntaxError("Unexpected end of data");return s},iU=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},iM=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>iT({prefix:t,name:e,encode:e=>iU(e,n,r),decode:t=>iB(t,n,r,e)});var iL=Object.freeze({__proto__:null,identity:iT({prefix:"\0",name:"identity",encode:e=>iN(e),decode:e=>iI(e)})}),iD=Object.freeze({__proto__:null,base2:iM({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),ij=Object.freeze({__proto__:null,base8:iM({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),iF=Object.freeze({__proto__:null,base10:ik({prefix:"9",name:"base10",alphabet:"0123456789"})}),iq=Object.freeze({__proto__:null,base16:iM({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:iM({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let iz=iM({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),i$=iM({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),iH=iM({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),iG=iM({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),iW=iM({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),iV=iM({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});var iK=Object.freeze({__proto__:null,base32:iz,base32upper:i$,base32pad:iH,base32padupper:iG,base32hex:iW,base32hexupper:iV,base32hexpad:iM({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:iM({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:iM({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),iZ=Object.freeze({__proto__:null,base36:ik({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:ik({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),iY=Object.freeze({__proto__:null,base58btc:ik({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:ik({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let iJ=iM({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});var iX=Object.freeze({__proto__:null,base64:iJ,base64pad:iM({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:iM({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:iM({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let iQ=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),i0=iQ.reduce((e,t,r)=>(e[r]=t,e),[]),i1=iQ.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var i2=Object.freeze({__proto__:null,base256emoji:iT({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=i0[t],"")},decode:function(e){let t=[];for(let r of e){let e=i1[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function i6(e,t){var r,n=0,t=t||0,i=0,o=t,s=e.length;do{if(o>=s)throw i6.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return i6.bytes=o-t,n}var i5=function e(t,r,n){r=r||[],n=n||0;for(var i=n;t>=2147483648;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r};let i8=(e,t,r=0)=>(i5(e,t,r),t),i3=e=>e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10,i4=(e,t)=>{let r=t.byteLength,n=i3(e),i=n+i3(r),o=new Uint8Array(i+r);return i8(e,o,0),i8(r,o,n),o.set(t,i),new i9(e,r,t,o)};class i9{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let i7=({name:e,code:t,encode:r})=>new oe(e,t,r);class oe{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?i4(this.code,t):t.then(e=>i4(this.code,e))}throw Error("Unknown type, must be binary type")}}let ot=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var or=Object.freeze({__proto__:null,sha256:i7({name:"sha2-256",code:18,encode:ot("SHA-256")}),sha512:i7({name:"sha2-512",code:19,encode:ot("SHA-512")})}),on=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:ix,digest:e=>i4(0,ix(e))}});new TextEncoder,new TextDecoder;let oi={...iL,...iD,...ij,...iF,...iq,...iK,...iZ,...iY,...iX,...i2};function oo(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function os(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...or,...on});let oa=os("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),oc=os("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?oo(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),ol={utf8:oa,"utf-8":oa,hex:oi.base16,latin1:oc,ascii:oc,binary:oc,...oi};var ou=Object.defineProperty,od=(e,t,r)=>t in e?ou(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,of=(e,t,r)=>od(e,"symbol"!=typeof t?t+"":t,r);class oh{constructor(e,t){this.core=e,this.logger=t,of(this,"keychain",new Map),of(this,"name","keychain"),of(this,"version","0.3"),of(this,"initialized",!1),of(this,"storagePrefix",n2),of(this,"init",async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}}),of(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),of(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),of(this,"get",e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=n$("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}),of(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=(0,a.Ep)(t,this.name)}get context(){return(0,a.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,ea(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?ec(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=n$("NOT_INITIALIZED",this.name);throw Error(e)}}}var op=Object.defineProperty,og=(e,t,r)=>t in e?op(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,om=(e,t,r)=>og(e,"symbol"!=typeof t?t+"":t,r);class oy{constructor(e,t,r){this.core=e,this.logger=t,om(this,"name","crypto"),om(this,"keychain"),om(this,"randomSessionIdentifier",nS()),om(this,"initialized",!1),om(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),om(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),om(this,"getClientId",async()=>{this.isInitialized();let e=await this.getClientSeed(),t=P.Au(e);return P.bG(t.publicKey)}),om(this,"generateKeyPair",()=>{this.isInitialized();let e=function(){let e=nn.utils.randomPrivateKey(),t=nn.getPublicKey(e);return{privateKey:(0,Y.BB)(e,nA),publicKey:(0,Y.BB)(t,nA)}}();return this.setPrivateKey(e.publicKey,e.privateKey)}),om(this,"signJWT",async e=>{this.isInitialized();let t=await this.getClientSeed(),r=P.Au(t),n=this.randomSessionIdentifier;return await P.vf(n,e,n3,r)}),om(this,"generateSharedKey",(e,t,r)=>{this.isInitialized();let n=function(e,t){let r=rh(tk,nn.getSharedSecret((0,Y.mL)(e,nA),(0,Y.mL)(t,nA)),void 0,void 0,32);return(0,Y.BB)(r,nA)}(this.getPrivateKey(e),t);return this.setSymKey(n,r)}),om(this,"setSymKey",async(e,t)=>{this.isInitialized();let r=t||function(e){let t=tk((0,Y.mL)(e,nA));return(0,Y.BB)(t,nA)}(e);return await this.keychain.set(r,e),r}),om(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),om(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),om(this,"encode",async(e,t,r)=>{this.isInitialized();let n=nU(r),i=(0,S.safeJsonStringify)(t);if(2===n.type)return function(e,t){let r=nO(2),n=tt(12),i=nk({type:r,sealed:(0,Y.mL)(e,nN),iv:n});return t===nI?nR(i):i}(i,r?.encoding);if(nM(n)){let t=n.senderPublicKey,r=n.receiverPublicKey;e=await this.generateSharedKey(t,r)}let o=this.getSymKey(e),{type:s,senderPublicKey:a}=n;return function(e){let t=nO("u">typeof e.type?e.type:0);if(1===n_(t)&&typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let r="u">typeof e.senderPublicKey?(0,Y.mL)(e.senderPublicKey,nA):void 0,n="u">typeof e.iv?(0,Y.mL)(e.iv,nA):tt(12),i=nk({type:t,sealed:rc((0,Y.mL)(e.symKey,nA),n).encrypt((0,Y.mL)(e.message,nN)),iv:n,senderPublicKey:r});return e.encoding===nI?nR(i):i}({type:s,symKey:o,message:i,senderPublicKey:a,encoding:r?.encoding})}),om(this,"decode",async(e,t,r)=>{this.isInitialized();let n=function(e,t){let r=nB({encoded:e,encoding:t?.encoding});return nU({type:n_(r.type),senderPublicKey:"u">typeof r.senderPublicKey?(0,Y.BB)(r.senderPublicKey,nA):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,r);if(2===n.type){let e=function(e,t){let{sealed:r}=nB({encoded:e,encoding:t});return(0,Y.BB)(r,nN)}(t,r?.encoding);return(0,S.safeJsonParse)(e)}if(nM(n)){let t=n.receiverPublicKey,r=n.senderPublicKey;e=await this.generateSharedKey(t,r)}try{let n=this.getSymKey(e),i=function(e){let t=(0,Y.mL)(e.symKey,nA),{sealed:r,iv:n}=nB({encoded:e.encoded,encoding:e.encoding}),i=rc(t,n).decrypt(r);if(null===i)throw Error("Failed to decrypt");return(0,Y.BB)(i,nN)}({symKey:n,encoded:t,encoding:r?.encoding});return(0,S.safeJsonParse)(i)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}}),om(this,"getPayloadType",(e,t=nx)=>n_(nB({encoded:e,encoding:t}).type)),om(this,"getPayloadSenderPublicKey",(e,t=nx)=>{let r=nB({encoded:e,encoding:t});return r.senderPublicKey?(0,Y.BB)(r.senderPublicKey,nA):void 0}),this.core=e,this.logger=(0,a.Ep)(t,this.name),this.keychain=r||new oh(this.core,this.logger)}get context(){return(0,a.Fd)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(n8)}catch{e=nS(),await this.keychain.set(n8,e)}return function(e,t="utf8"){let r=ol[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?oo(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=n$("NOT_INITIALIZED",this.name);throw Error(e)}}}var ob=Object.defineProperty,ov=Object.defineProperties,ow=Object.getOwnPropertyDescriptors,oE=Object.getOwnPropertySymbols,oC=Object.prototype.hasOwnProperty,oA=Object.prototype.propertyIsEnumerable,ox=(e,t,r)=>t in e?ob(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oI=(e,t)=>{for(var r in t||(t={}))oC.call(t,r)&&ox(e,r,t[r]);if(oE)for(var r of oE(t))oA.call(t,r)&&ox(e,r,t[r]);return e},oN=(e,t)=>ov(e,ow(t)),oS=(e,t,r)=>ox(e,"symbol"!=typeof t?t+"":t,r);class oP extends y{constructor(e,t){super(e,t),this.logger=e,this.core=t,oS(this,"messages",new Map),oS(this,"messagesWithoutClientAck",new Map),oS(this,"name","messages"),oS(this,"version","0.3"),oS(this,"initialized",!1),oS(this,"storagePrefix",n2),oS(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e);let t=await this.getRelayerMessagesWithoutClientAck();"u">typeof t&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}}),oS(this,"set",async(e,t,r)=>{this.isInitialized();let n=nP(t),i=this.messages.get(e);if(typeof i>"u"&&(i={}),"u">typeof i[n])return n;if(i[n]=t,this.messages.set(e,i),r===io.inbound){let r=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,oN(oI({},r),{[n]:t}))}return await this.persist(),n}),oS(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),oS(this,"getWithoutAck",e=>{this.isInitialized();let t={};for(let r of e){let e=this.messagesWithoutClientAck.get(r)||{};t[r]=Object.values(e)}return t}),oS(this,"has",(e,t)=>(this.isInitialized(),"u">typeof this.get(e)[nP(t)])),oS(this,"ack",async(e,t)=>{this.isInitialized();let r=this.messagesWithoutClientAck.get(e);if(typeof r>"u")return;let n=nP(t);delete r[n],0===Object.keys(r).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,r),await this.persist()}),oS(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=(0,a.Ep)(e,this.name),this.core=t}get context(){return(0,a.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,ea(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,ea(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?ec(e):void 0}async getRelayerMessagesWithoutClientAck(){let e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return"u">typeof e?ec(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:e}=n$("NOT_INITIALIZED",this.name);throw Error(e)}}}var oO=Object.defineProperty,o_=Object.defineProperties,oR=Object.getOwnPropertyDescriptors,oT=Object.getOwnPropertySymbols,ok=Object.prototype.hasOwnProperty,oB=Object.prototype.propertyIsEnumerable,oU=(e,t,r)=>t in e?oO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oM=(e,t)=>{for(var r in t||(t={}))ok.call(t,r)&&oU(e,r,t[r]);if(oT)for(var r of oT(t))oB.call(t,r)&&oU(e,r,t[r]);return e},oL=(e,t)=>o_(e,oR(t)),oD=(e,t,r)=>oU(e,"symbol"!=typeof t?t+"":t,r);class oj extends b{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,oD(this,"events",new n.EventEmitter),oD(this,"name","publisher"),oD(this,"queue",new Map),oD(this,"publishTimeout",(0,N.toMiliseconds)(N.ONE_MINUTE)),oD(this,"initialPublishTimeout",(0,N.toMiliseconds)(15*N.ONE_SECOND)),oD(this,"needsTransportRestart",!1),oD(this,"publish",async(e,t,r)=>{var n,i,o,s,a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});let c=r?.ttl||n4,l=r?.prompt||!1,u=r?.tag||0,d=r?.id||(0,nJ.getBigIntRpcId)().toString(),f=nD(nL().protocol),h={id:d,method:r?.publishMethod||f.publish,params:oM({topic:e,message:t,ttl:c,prompt:l,tag:u,attestation:r?.attestation},r?.tvf&&{tvf:r.tvf})},p=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{nG(null==(n=h.params)?void 0:n.prompt)&&(null==(i=h.params)||delete i.prompt),nG(null==(o=h.params)?void 0:o.tag)&&(null==(s=h.params)||delete s.tag);let a=new Promise(async e=>{let t=({id:r})=>{var n;(null==(n=h.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(ie.publish,t),e())};this.relayer.events.on(ie.publish,t);let n=el(new Promise((e,t)=>{this.rpcPublish(h,r).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await n,this.events.removeListener(ie.publish,t)}catch(e){this.queue.set(d,{request:h,opts:r,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:e,message:t,opts:r}}),await el(a,this.publishTimeout,p)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(a=r?.internal)&&a.throwOnFailedPublish)throw e}finally{this.queue.delete(d)}}),oD(this,"publishCustom",async e=>{var t,r,n,i,o;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:e});let{payload:s,opts:a={}}=e,{attestation:c,tvf:l,publishMethod:u,prompt:d,tag:f,ttl:h=N.FIVE_MINUTES}=a,p=a.id||(0,nJ.getBigIntRpcId)().toString(),g=nD(nL().protocol),m=u||g.publish,y={id:p,method:m,params:oM(oL(oM({},s),{ttl:h,prompt:d,tag:f,attestation:c}),l)},b=`Failed to publish custom payload, please try again. id:${p} tag:${f}`;try{nG(null==(t=y.params)?void 0:t.prompt)&&(null==(r=y.params)||delete r.prompt),nG(null==(n=y.params)?void 0:n.tag)&&(null==(i=y.params)||delete i.tag);let e=new Promise(async e=>{let t=({id:r})=>{var n;(null==(n=y.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(ie.publish,t),e())};this.relayer.events.on(ie.publish,t);let r=el(new Promise((e,t)=>{this.rpcPublish(y,a).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${m} id:${p} tag:${f}`);try{await r,this.events.removeListener(ie.publish,t)}catch(e){this.queue.set(p,{request:y,opts:a,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,payload:s,opts:a}}),await el(e,this.publishTimeout,b)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(o=a?.internal)&&o.throwOnFailedPublish)throw e}finally{this.queue.delete(p)}}),oD(this,"on",(e,t)=>{this.events.on(e,t)}),oD(this,"once",(e,t)=>{this.events.once(e,t)}),oD(this,"off",(e,t)=>{this.events.off(e,t)}),oD(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=(0,a.Ep)(t,this.name),this.registerEventListeners()}get context(){return(0,a.Fd)(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});let r=await this.relayer.request(e);return this.relayer.events.emit(ie.publish,oM(oM({},e),t)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var r;let n=e.attempt+1;this.queue.set(t,oL(oM({},e),{attempt:n})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${null==(r=e.request.params)?void 0:r.tag}, attempt: ${n}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(o.Lx.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(ie.connection_stalled);return}this.checkQueue()}),this.relayer.on(ie.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var oF=Object.defineProperty,oq=(e,t,r)=>t in e?oF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oz=(e,t,r)=>oq(e,"symbol"!=typeof t?t+"":t,r);class o${constructor(){oz(this,"map",new Map),oz(this,"set",(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])}),oz(this,"get",e=>this.map.get(e)||[]),oz(this,"exists",(e,t)=>this.get(e).includes(t)),oz(this,"delete",(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let n=r.filter(e=>e!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)}),oz(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var oH=Object.defineProperty,oG=Object.defineProperties,oW=Object.getOwnPropertyDescriptors,oV=Object.getOwnPropertySymbols,oK=Object.prototype.hasOwnProperty,oZ=Object.prototype.propertyIsEnumerable,oY=(e,t,r)=>t in e?oH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oJ=(e,t)=>{for(var r in t||(t={}))oK.call(t,r)&&oY(e,r,t[r]);if(oV)for(var r of oV(t))oZ.call(t,r)&&oY(e,r,t[r]);return e},oX=(e,t)=>oG(e,oW(t)),oQ=(e,t,r)=>oY(e,"symbol"!=typeof t?t+"":t,r);class o0 extends E{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,oQ(this,"subscriptions",new Map),oQ(this,"topicMap",new o$),oQ(this,"events",new n.EventEmitter),oQ(this,"name","subscription"),oQ(this,"version","0.3"),oQ(this,"pending",new Map),oQ(this,"cached",[]),oQ(this,"initialized",!1),oQ(this,"storagePrefix",n2),oQ(this,"subscribeTimeout",(0,N.toMiliseconds)(N.ONE_MINUTE)),oQ(this,"initialSubscribeTimeout",(0,N.toMiliseconds)(15*N.ONE_SECOND)),oQ(this,"clientId"),oQ(this,"batchSubscribeTopicsLimit",500),oQ(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),oQ(this,"subscribe",async(e,t)=>{var r;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let n=nL(t),i={topic:e,relay:n,transportType:t?.transportType};null!=(r=t?.internal)&&r.skipSubscribe||this.pending.set(e,i);let o=await this.rpcSubscribe(e,n,t);return"string"==typeof o&&(this.onSubscribe(o,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),o}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}}),oQ(this,"unsubscribe",async(e,t)=>{this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),oQ(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),oQ(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),oQ(this,"on",(e,t)=>{this.events.on(e,t)}),oQ(this,"once",(e,t)=>{this.events.once(e,t)}),oQ(this,"off",(e,t)=>{this.events.off(e,t)}),oQ(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),oQ(this,"start",async()=>{await this.onConnect()}),oQ(this,"stop",async()=>{await this.onDisconnect()}),oQ(this,"restart",async()=>{await this.restore(),await this.onRestart()}),oQ(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),oQ(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(o.Lx.pulse,async()=>{await this.checkPending()}),this.events.on(ia.created,async e=>{let t=ia.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(ia.deleted,async e=>{let t=ia.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}),this.relayer=e,this.logger=(0,a.Ep)(t,this.name),this.clientId=""}get context(){return(0,a.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let n=nL(r);await this.restartToComplete({topic:e,id:t,relay:n}),await this.rpcUnsubscribe(e,t,n);let i=nH("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,r){var n,i;let o=await this.getSubscriptionId(e);if(null!=(n=r?.internal)&&n.skipSubscribe)return o;r&&r?.transportType!==ii.relay||await this.restartToComplete({topic:e,id:e,relay:t});let s={method:nD(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});let a=null==(i=r?.internal)?void 0:i.throwOnFailedPublish;try{if(r?.transportType===ii.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(e=>this.logger.warn(e))},(0,N.toMiliseconds)(N.ONE_SECOND)),o;let t=new Promise(async t=>{let r=n=>{n.topic===e&&(this.events.removeListener(ia.created,r),t(n.id))};this.events.on(ia.created,r);try{let n=await el(new Promise((e,t)=>{this.relayer.request(s).catch(e=>{this.logger.warn(e,e?.message),t(e)}).then(e)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(ia.created,r),t(n)}catch{}}),n=await el(t,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!n&&a)throw Error(`Subscribing to ${e} failed, please try again`);return n?o:null}catch(e){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ie.connection_stalled),a)throw e}return null}async rpcBatchSubscribe(e){if(!e.length)return;let t={method:nD(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await el(new Promise(e=>{this.relayer.request(t).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(ie.connection_stalled)}}async rpcBatchFetchMessages(e){let t;if(!e.length)return;let r={method:nD(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{t=await await el(new Promise((e,t)=>{this.relayer.request(r).catch(e=>{this.logger.warn(e),t(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(ie.connection_stalled)}return t}rpcUnsubscribe(e,t,r){let n={method:nD(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,oX(oJ({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,oJ({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,oJ({},t)),this.topicMap.set(t.topic,e),this.events.emit(ia.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=n$("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(ia.deleted,oX(oJ({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ia.sync)}async onRestart(){if(this.cached.length){let e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){let t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(ia.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(e=>{var t;return e.topic===(null==(t=this.subscriptions.get(e.id))?void 0:t.topic)})){let{message:e}=n$("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>oX(oJ({},e),{id:await this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){var t;if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await (t=(0,N.toMiliseconds)(N.ONE_SECOND),new Promise(e=>setTimeout(e,t))),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:e}=n$("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(e){this.relayer.connected||this.relayer.connecting||(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return nP(e+await this.getClientId())}}var o1=Object.defineProperty,o2=Object.getOwnPropertySymbols,o6=Object.prototype.hasOwnProperty,o5=Object.prototype.propertyIsEnumerable,o8=(e,t,r)=>t in e?o1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o3=(e,t)=>{for(var r in t||(t={}))o6.call(t,r)&&o8(e,r,t[r]);if(o2)for(var r of o2(t))o5.call(t,r)&&o8(e,r,t[r]);return e},o4=(e,t,r)=>o8(e,"symbol"!=typeof t?t+"":t,r);class o9 extends v{constructor(e){super(e),o4(this,"protocol","wc"),o4(this,"version",2),o4(this,"core"),o4(this,"logger"),o4(this,"events",new n.EventEmitter),o4(this,"provider"),o4(this,"messages"),o4(this,"subscriber"),o4(this,"publisher"),o4(this,"name","relayer"),o4(this,"transportExplicitlyClosed",!1),o4(this,"initialized",!1),o4(this,"connectionAttemptInProgress",!1),o4(this,"relayUrl"),o4(this,"projectId"),o4(this,"packageName"),o4(this,"bundleId"),o4(this,"hasExperiencedNetworkDisruption",!1),o4(this,"pingTimeout"),o4(this,"heartBeatTimeout",(0,N.toMiliseconds)(N.THIRTY_SECONDS+N.FIVE_SECONDS)),o4(this,"reconnectTimeout"),o4(this,"connectPromise"),o4(this,"reconnectInProgress",!1),o4(this,"requestsInFlight",[]),o4(this,"connectTimeout",(0,N.toMiliseconds)(15*N.ONE_SECOND)),o4(this,"request",async e=>{var t,r;this.logger.debug("Publishing Request Payload");let n=e.id||(0,nJ.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");let i=`${n}:${(null==(r=e.params)?void 0:r.tag)||""}`;this.requestsInFlight.push(i);let o=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),o}catch(e){throw this.logger.debug(`Failed to Publish Request: ${n}`),e}}),o4(this,"resetPingTimeout",()=>{et()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,r,n;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(n=null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.terminate)||n.call(r)}catch(e){this.logger.warn(e,e?.message)}},this.heartBeatTimeout))}),o4(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),o4(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \uD83D\uDEDC"),this.startPingTimeout(),this.events.emit(ie.connect)}),o4(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \uD83D\uDED1"),this.requestsInFlight=[],this.onProviderDisconnect()}),o4(this,"onProviderErrorHandler",e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit(ie.error,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),o4(this,"registerProviderListeners",()=>{this.provider.on(it.payload,this.onPayloadHandler),this.provider.on(it.connect,this.onConnectHandler),this.provider.on(it.disconnect,this.onDisconnectHandler),this.provider.on(it.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger="u">typeof e.logger&&"string"!=typeof e.logger?(0,a.Ep)(e.logger,this.name):(0,a.gw)((0,a.jI)({level:e.logger||"error"})),this.messages=new oP(this.logger,e.core),this.subscriber=new o0(this,this.logger),this.publisher=new oj(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||n7,er()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)&&(null==r.g?void 0:r.g.Platform.OS)==="android"?this.packageName=eo():er()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)&&(null==r.g?void 0:r.g.Platform.OS)==="ios"&&(this.bundleId=eo()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return(0,a.Fd)(this.logger)}get connected(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===1}get connecting(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===0||void 0!==this.connectPromise}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:ii.relay},io.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var r,n,i;this.isInitialized(),null!=t&&t.transportType&&t?.transportType!=="relay"||await this.toEstablishConnection();let o=typeof(null==(r=t?.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(n=t?.internal)?void 0:n.throwOnFailedPublish),s=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"",a,c=t=>{t.topic===e&&(this.subscriber.off(ia.created,c),a())};return await Promise.all([new Promise(e=>{a=e,this.subscriber.on(ia.created,c)}),new Promise(async(r,n)=>{s=await this.subscriber.subscribe(e,o3({internal:{throwOnFailedPublish:o}},t)).catch(e=>{o&&n(e)})||s,r()})]),s}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await el(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,r)=>{await this.connect(e).then(t).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await nK())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let t=e.sort((e,t)=>e.publishedAt-t.publishedAt);for(let e of(this.logger.debug(`Batch of ${t.length} message events sorted`),t))try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e,"Error while processing batch message event: "+e?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){let{topic:r}=e;if(!t.sessionExists){let e=ed(N.FIVE_MINUTES);await this.core.pairing.pairings.set(r,{topic:r,expiry:e,relay:{protocol:"irn"},active:!1})}this.events.emit(ie.message,e),await this.recordMessageEvent(e,io.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(e,t)=>{let r=()=>{t(Error("Connection interrupted while trying to connect"))};this.provider.once(it.disconnect,r),await el(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{this.provider.off(it.disconnect,r),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,r)=>{let n=()=>{t(Error("Connection interrupted while trying to subscribe"))};this.provider.once(it.disconnect,n),await this.subscriber.start().then(e).catch(r).finally(()=>{this.provider.off(it.disconnect,n)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(e){await this.subscriber.stop(),this.logger.warn({},e.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(e=>setTimeout(e,(0,N.toMiliseconds)(1*t))),t++}}startPingTimeout(){var e,t,r,n,i;if(et())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(n=null==(r=this.provider)?void 0:r.connection)?void 0:n.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(e){this.logger.warn(e,e?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new nY.r(new nX.Z(function({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:o,useOnCloseEvent:s,bundleId:a,packageName:c}){let l=r.split("?"),u=es(e,t,n),d=function(e,t){let r=new URLSearchParams(e);for(let e of Object.keys(t).sort())if(t.hasOwnProperty(e)){let n=t[e];void 0!==n&&r.set(e,n)}return r.toString()}(l[1]||"",{auth:i,ua:u,projectId:o,useOnCloseEvent:s||void 0,packageName:c||void 0,bundleId:a||void 0});return l[0]+"?"+d}({sdkVersion:ir,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){let{topic:r,message:n}=e;await this.messages.set(r,n,t)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;let n=this.messages.has(t,r);return n&&this.logger.warn(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,nJ.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:n,publishedAt:i,attestation:o}=t.data,s={topic:r,message:n,publishedAt:i,transportType:ii.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(o3({type:"event",event:t.id},s)),this.events.emit(t.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}else(0,nJ.isJsonRpcResponse)(e)&&this.events.emit(ie.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,io.inbound),this.events.emit(ie.message,e))}async acknowledgePayload(e){let t=(0,nJ.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(it.payload,this.onPayloadHandler),this.provider.off(it.connect,this.onConnectHandler),this.provider.off(it.disconnect,this.onDisconnectHandler),this.provider.off(it.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await nK();(function(e){switch(ei()){case ee.browser:!er()&&en()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)));break;case ee.reactNative:er()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo&&r.g?.NetInfo.addEventListener(t=>e(t?.isConnected));case ee.node:}})(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,e?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(o.Lx.pulse,async()=>{var e;if(!this.transportExplicitlyClosed&&!this.connected&&(!(en()&&(0,_.getDocument)())||(null==(e=(0,_.getDocument)())?void 0:e.visibilityState)==="visible"))try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(ie.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,N.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){let{message:e}=n$("NOT_INITIALIZED",this.name);throw Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function o7(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let st="[object Arguments]",sr="[object Object]";function sn(){}function si(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}var so=Object.defineProperty,ss=Object.getOwnPropertySymbols,sa=Object.prototype.hasOwnProperty,sc=Object.prototype.propertyIsEnumerable,sl=(e,t,r)=>t in e?so(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,su=(e,t)=>{for(var r in t||(t={}))sa.call(t,r)&&sl(e,r,t[r]);if(ss)for(var r of ss(t))sc.call(t,r)&&sl(e,r,t[r]);return e},sd=(e,t,r)=>sl(e,"symbol"!=typeof t?t+"":t,r);class sf extends w{constructor(e,t,r,n=n2,i){super(e,t,r,n),this.core=e,this.logger=t,this.name=r,sd(this,"map",new Map),sd(this,"version","0.3"),sd(this,"cached",[]),sd(this,"initialized",!1),sd(this,"getKey"),sd(this,"storagePrefix",n2),sd(this,"recentlyDeleted",[]),sd(this,"recentlyDeletedLimit",200),sd(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{var t;this.getKey&&null!==e&&!nG(e)?this.map.set(this.getKey(e),e):(null==(t=e?.proposer)?void 0:t.publicKey)?this.map.set(e.id,e):e?.topic&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),sd(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),sd(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),sd(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>(function e(t,r,n,i,o,s,a){let c=a(t,r,n,i,o,s);if(void 0!==c)return c;if(typeof t==typeof r)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return t===r;case"number":return t===r||Object.is(t,r)}return function t(r,n,i,o){if(Object.is(r,n))return!0;let s=se(r),a=se(n);if(s===st&&(s=sr),a===st&&(a=sr),s!==a)return!1;switch(s){case"[object String]":return r.toString()===n.toString();case"[object Number]":{let e=r.valueOf(),t=n.valueOf();return e===t||Number.isNaN(e)&&Number.isNaN(t)}case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(r.valueOf(),n.valueOf());case"[object RegExp]":return r.source===n.source&&r.flags===n.flags;case"[object Function]":return r===n}let c=(i=i??new Map).get(r),l=i.get(n);if(null!=c&&null!=l)return c===n;i.set(r,n),i.set(n,r);try{switch(s){case"[object Map]":if(r.size!==n.size)return!1;for(let[t,s]of r.entries())if(!n.has(t)||!e(s,n.get(t),t,r,n,i,o))return!1;return!0;case"[object Set]":{if(r.size!==n.size)return!1;let t=Array.from(r.values()),s=Array.from(n.values());for(let a=0;a<t.length;a++){let c=t[a],l=s.findIndex(t=>e(c,t,void 0,r,n,i,o));if(-1===l)return!1;s.splice(l,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if("u">typeof nQ&&nQ.isBuffer(r)!==nQ.isBuffer(n)||r.length!==n.length)return!1;for(let t=0;t<r.length;t++)if(!e(r[t],n[t],t,r,n,i,o))return!1;return!0;case"[object ArrayBuffer]":return r.byteLength===n.byteLength&&t(new Uint8Array(r),new Uint8Array(n),i,o);case"[object DataView]":return r.byteLength===n.byteLength&&r.byteOffset===n.byteOffset&&t(new Uint8Array(r),new Uint8Array(n),i,o);case"[object Error]":return r.name===n.name&&r.message===n.message;case sr:{if(!(t(r.constructor,n.constructor,i,o)||si(r)&&si(n)))return!1;let s=[...Object.keys(r),...o7(r)],a=[...Object.keys(n),...o7(n)];if(s.length!==a.length)return!1;for(let t=0;t<s.length;t++){let a=s[t],c=r[a];if(!Object.hasOwn(n,a))return!1;let l=n[a];if(!e(c,l,a,r,n,i,o))return!1}return!0}default:return!1}}finally{i.delete(r),i.delete(n)}}(t,r,s,a)})(t[r],e[r],void 0,void 0,void 0,void 0,sn))):this.values)),sd(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=su(su({},this.getData(e)),t);this.map.set(e,r),await this.persist()}),sd(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=(0,a.Ep)(t,this.name),this.storagePrefix=n,this.getKey=i}get context(){return(0,a.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){let{message:t}=n$("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),Error(t)}let{message:t}=n$("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=n$("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=n$("NOT_INITIALIZED",this.name);throw Error(e)}}}var sh=Object.defineProperty,sp=(e,t,r)=>t in e?sh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sg=(e,t,r)=>sp(e,"symbol"!=typeof t?t+"":t,r);class sm{constructor(e,t){this.core=e,this.logger=t,sg(this,"name","pairing"),sg(this,"version","0.3"),sg(this,"events",new(i())),sg(this,"pairings"),sg(this,"initialized",!1),sg(this,"storagePrefix",n2),sg(this,"ignoredPayloadTypes",[1]),sg(this,"registeredMethods",[]),sg(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),sg(this,"register",({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]}),sg(this,"create",async e=>{this.isInitialized();let t=nS(),r=await this.core.crypto.setSymKey(t),n=ed(N.FIVE_MINUTES),i={protocol:n9},o={topic:r,expiry:n,relay:i,active:!1,methods:e?.methods},s=nF({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:i,expiryTimestamp:n,methods:e?.methods});return this.events.emit(il.create,o),this.core.expirer.set(r,n),await this.pairings.set(r,o),await this.core.relayer.subscribe(r,{transportType:e?.transportType,internal:e?.internal}),{topic:r,uri:s}}),sg(this,"pair",async e=>{let t;this.isInitialized();let r=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:[iy.pairing_started]}});this.isValidPair(e,r);let{topic:n,symKey:i,relay:o,expiryTimestamp:s,methods:a}=nj(e.uri);if(r.props.properties.topic=n,r.addTrace(iy.pairing_uri_validation_success),r.addTrace(iy.pairing_uri_not_expired),this.pairings.keys.includes(n)){if(t=this.pairings.get(n),r.addTrace(iy.existing_pairing),t.active)throw r.setError(ib.active_pairing_already_exists),Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);r.addTrace(iy.pairing_not_expired)}let c=s||ed(N.FIVE_MINUTES),l={topic:n,relay:o,expiry:c,active:!1,methods:a};this.core.expirer.set(n,c),await this.pairings.set(n,l),r.addTrace(iy.store_new_pairing),e.activatePairing&&await this.activate({topic:n}),this.events.emit(il.create,l),r.addTrace(iy.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(i,n),r.addTrace(iy.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{r.setError(ib.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:o})}catch(e){throw r.setError(ib.subscribe_pairing_topic_failure),e}return r.addTrace(iy.subscribe_pairing_topic_success),l}),sg(this,"activate",async({topic:e})=>{this.isInitialized();let t=ed(N.FIVE_MINUTES);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})}),sg(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=function(e=N.FIVE_MINUTES,t){let r,n,i,o;let s=(0,N.toMiliseconds)(e||N.FIVE_MINUTES);return{resolve:e=>{i&&r&&(clearTimeout(i),r(e),o=Promise.resolve(e))},reject:e=>{i&&n&&(clearTimeout(i),n(e))},done:()=>new Promise((e,t)=>{if(o)return e(o);i=setTimeout(()=>{let e=Error(void 0);o=Promise.reject(e),t(e)},s),r=e,n=t})}}();this.events.once(eh("pairing_ping",e),({error:e})=>{e?i(e):n()}),await r()}}),sg(this,"updateExpiry",async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})}),sg(this,"updateMetadata",async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})}),sg(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),sg(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",nH("USER_DISCONNECTED")),await this.deletePairing(t))}),sg(this,"formatUriFromPairing",e=>{this.isInitialized();let{topic:t,relay:r,expiry:n,methods:i}=e,o=this.core.crypto.keychain.get(t);return nF({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:o,relay:r,expiryTimestamp:n,methods:i})}),sg(this,"sendRequest",async(e,t,r)=>{let n=(0,nJ.formatJsonRpcRequest)(t,r),i=await this.core.crypto.encode(e,n),o=ic[t].req;return this.core.history.set(e,n),this.core.relayer.publish(e,i,o),n.id}),sg(this,"sendResult",async(e,t,r)=>{let n=(0,nJ.formatJsonRpcResult)(e,r),i=await this.core.crypto.encode(t,n),o=ic[(await this.core.history.get(t,e)).request.method].res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(n)}),sg(this,"sendError",async(e,t,r)=>{let n=(0,nJ.formatJsonRpcError)(e,r),i=await this.core.crypto.encode(t,n),o=(await this.core.history.get(t,e)).request.method,s=ic[o]?ic[o].res:ic.unregistered_method.res;await this.core.relayer.publish(t,i,s),await this.core.history.resolve(n)}),sg(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,nH("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),sg(this,"cleanup",async()=>{let e=this.pairings.getAll().filter(e=>ef(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),sg(this,"onRelayEventRequest",async e=>{let{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,r);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,r);default:return await this.onUnknownRpcMethodRequest(t,r)}}),sg(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r}=e,n=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(n)}),sg(this,"onPairingPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(il.ping,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),sg(this,"onPairingPingResponse",(e,t)=>{let{id:r}=t;setTimeout(()=>{(0,nJ.isJsonRpcResult)(t)?this.events.emit(eh("pairing_ping",r),{}):(0,nJ.isJsonRpcError)(t)&&this.events.emit(eh("pairing_ping",r),{error:t.error})},500)}),sg(this,"onPairingDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(il.delete,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),sg(this,"onUnknownRpcMethodRequest",async(e,t)=>{let{id:r,method:n}=t;try{if(this.registeredMethods.includes(n))return;let t=nH("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),sg(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error(nH("WC_METHOD_UNSUPPORTED",e))}),sg(this,"isValidPair",(e,t)=>{var r;if(!nV(e)){let{message:r}=n$("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(ib.malformed_pairing_uri),Error(r)}if(!function(e){function t(e){try{return"u">typeof new URL(e)}catch{return!1}}try{if(nW(e,!1)){if(t(e))return!0;let r=em(e);return t(r)}}catch{}return!1}(e.uri)){let{message:r}=n$("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(ib.malformed_pairing_uri),Error(r)}let n=nj(e?.uri);if(!(null!=(r=n?.relay)&&r.protocol)){let{message:e}=n$("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(ib.malformed_pairing_uri),Error(e)}if(!(null!=n&&n.symKey)){let{message:e}=n$("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(ib.malformed_pairing_uri),Error(e)}if(null!=n&&n.expiryTimestamp&&(0,N.toMiliseconds)(n?.expiryTimestamp)<Date.now()){t.setError(ib.pairing_expired);let{message:e}=n$("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(e)}}),sg(this,"isValidPing",async e=>{if(!nV(e)){let{message:t}=n$("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),sg(this,"isValidDisconnect",async e=>{if(!nV(e)){let{message:t}=n$("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),sg(this,"isValidPairingTopic",async e=>{if(!nW(e,!1)){let{message:t}=n$("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=n$("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(ef(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=n$("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}),this.core=e,this.logger=(0,a.Ep)(t,this.name),this.pairings=new sf(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,a.Fd)(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=n$("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(ie.message,async e=>{let{topic:t,message:r,transportType:n}=e;if(this.pairings.keys.includes(t)&&n!==ii.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{let e=await this.core.crypto.decode(t,r);(0,nJ.isJsonRpcRequest)(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):(0,nJ.isJsonRpcResponse)(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,r)}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(id.expired,async e=>{let{topic:t}=function(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else if("id"===t&&Number.isInteger(Number(r)))n.id=Number(r);else throw Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(il.expire,{topic:t}))})}}var sy=Object.defineProperty,sb=(e,t,r)=>t in e?sy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sv=(e,t,r)=>sb(e,"symbol"!=typeof t?t+"":t,r);class sw extends m{constructor(e,t){super(e,t),this.core=e,this.logger=t,sv(this,"records",new Map),sv(this,"events",new n.EventEmitter),sv(this,"name","history"),sv(this,"version","0.3"),sv(this,"cached",[]),sv(this,"initialized",!1),sv(this,"storagePrefix",n2),sv(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),sv(this,"set",(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let n={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:ed(N.THIRTY_DAYS)};this.records.set(n.id,n),this.persist(),this.events.emit(iu.created,n)}),sv(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,nJ.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(iu.updated,t))}),sv(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),sv(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic!==e||"u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(iu.deleted,r))}),this.persist()}),sv(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),sv(this,"on",(e,t)=>{this.events.on(e,t)}),sv(this,"once",(e,t)=>{this.events.once(e,t)}),sv(this,"off",(e,t)=>{this.events.off(e,t)}),sv(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,a.Ep)(t,this.name)}get context(){return(0,a.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:(0,nJ.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=n$("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(iu.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=n$("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(iu.created,e=>{let t=iu.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(iu.updated,e=>{let t=iu.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(iu.deleted,e=>{let t=iu.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(o.Lx.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,N.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(iu.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=n$("NOT_INITIALIZED",this.name);throw Error(e)}}}var sE=Object.defineProperty,sC=(e,t,r)=>t in e?sE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sA=(e,t,r)=>sC(e,"symbol"!=typeof t?t+"":t,r);class sx extends C{constructor(e,t){super(e,t),this.core=e,this.logger=t,sA(this,"expirations",new Map),sA(this,"events",new n.EventEmitter),sA(this,"name","expirer"),sA(this,"version","0.3"),sA(this,"cached",[]),sA(this,"initialized",!1),sA(this,"storagePrefix",n2),sA(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),sA(this,"has",e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}}),sA(this,"set",(e,t)=>{this.isInitialized();let r=this.formatTarget(e),n={target:r,expiry:t};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(id.created,{target:r,expiration:n})}),sA(this,"get",e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)}),sA(this,"del",e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(id.deleted,{target:t,expiration:r})}}),sA(this,"on",(e,t)=>{this.events.on(e,t)}),sA(this,"once",(e,t)=>{this.events.once(e,t)}),sA(this,"off",(e,t)=>{this.events.off(e,t)}),sA(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,a.Ep)(t,this.name)}get context(){return(0,a.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return eu("topic",e);if("number"==typeof e)return eu("id",e);let{message:t}=n$("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(id.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=n$("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=n$("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,N.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(id.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(o.Lx.pulse,()=>this.checkExpirations()),this.events.on(id.created,e=>{let t=id.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(id.expired,e=>{let t=id.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(id.deleted,e=>{let t=id.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=n$("NOT_INITIALIZED",this.name);throw Error(e)}}}var sI=Object.defineProperty,sN=(e,t,r)=>t in e?sI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sS=(e,t,r)=>sN(e,"symbol"!=typeof t?t+"":t,r);class sP extends A{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,sS(this,"name","verify-api"),sS(this,"abortController"),sS(this,"isDevEnv"),sS(this,"verifyUrlV3",ig),sS(this,"storagePrefix",n2),sS(this,"version",2),sS(this,"publicKey"),sS(this,"fetchPromise"),sS(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,N.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),sS(this,"register",async e=>{if(!en()||this.isDevEnv)return;let t=window.location.origin,{id:r,decryptedId:n}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${r}&decryptedId=${n}`;try{let e=(0,_.getDocument)(),t=this.startAbortTimer(5*N.ONE_SECOND),n=await new Promise((n,o)=>{let s=()=>{window.removeEventListener("message",c),e.body.removeChild(a),o("attestation aborted")};this.abortController.signal.addEventListener("abort",s);let a=e.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",s,{signal:this.abortController.signal});let c=i=>{if(i.data&&"string"==typeof i.data)try{let o=JSON.parse(i.data);if("verify_attestation"===o.type){if((0,P.xp)(o.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",s),window.removeEventListener("message",c),n(null===o.attestation?"":o.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",n),n}catch(e){this.logger.warn(e)}return""}),sS(this,"resolve",async e=>{if(this.isDevEnv)return"";let{attestationId:t,hash:r,encryptedId:n}=e;if(""===t){this.logger.debug("resolve: attestationId is empty, skipping");return}if(t){if((0,P.xp)(t).payload.id!==n)return;let e=await this.isValidJwtAttestation(t);if(e){if(!e.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return e}}if(!r)return;let i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(r,i)}),sS(this,"fetchAttestation",async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);let r=this.startAbortTimer(5*N.ONE_SECOND),n=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0}),sS(this,"getVerifyUrl",e=>{let t=e||ip;return im.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${ip}`),t=ip),t}),sS(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let e=this.startAbortTimer(N.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}}),sS(this,"persistPublicKey",async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e}),sS(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),sS(this,"isValidJwtAttestation",async e=>{let t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}let r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}}),sS(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),sS(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{let t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});let e=await this.fetchPromise;return this.fetchPromise=void 0,e}),sS(this,"validateAttestation",(e,t)=>{let r=function(e,t){let[r,n,i]=e.split("."),o=Q.from(nT(i),"base64");if(64!==o.length)throw Error("Invalid signature length");let s=o.slice(0,32),a=o.slice(32,64),c=tk(`${r}.${n}`),l=function(e){let t=Q.from(e.x,"base64"),r=Q.from(e.y,"base64");return(0,Y.zo)([new Uint8Array([4]),t,r])}(t);if(!nE.verify((0,Y.zo)([s,a]),c,l))throw Error("Invalid signature");return(0,P.xp)(e).payload}(e,t.publicKey),n={hasExpired:(0,N.toMiliseconds)(r.exp)<Date.now(),payload:r};if(n.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:n.payload.origin,isScam:n.payload.isScam,isVerified:n.payload.isVerified}}),this.logger=(0,a.Ep)(t,this.name),this.abortController=new AbortController,this.isDevEnv=eg(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,a.Fd)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,N.toMiliseconds)(e))}}var sO=Object.defineProperty,s_=(e,t,r)=>t in e?sO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sR=(e,t,r)=>s_(e,"symbol"!=typeof t?t+"":t,r);class sT extends x{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,sR(this,"context","echo"),sR(this,"registerDeviceToken",async e=>{let{clientId:t,token:r,notificationType:n,enableEncrypted:i=!1}=e,o=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:n,token:r,always_raw:i})})}),this.logger=(0,a.Ep)(t,this.context)}}var sk=Object.defineProperty,sB=Object.getOwnPropertySymbols,sU=Object.prototype.hasOwnProperty,sM=Object.prototype.propertyIsEnumerable,sL=(e,t,r)=>t in e?sk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sD=(e,t)=>{for(var r in t||(t={}))sU.call(t,r)&&sL(e,r,t[r]);if(sB)for(var r of sB(t))sM.call(t,r)&&sL(e,r,t[r]);return e},sj=(e,t,r)=>sL(e,"symbol"!=typeof t?t+"":t,r);class sF extends I{constructor(e,t,r=!0){super(e,t,r),this.core=e,this.logger=t,sj(this,"context","event-client"),sj(this,"storagePrefix",n2),sj(this,"storageVersion",.1),sj(this,"events",new Map),sj(this,"shouldPersist",!1),sj(this,"init",async()=>{if(!eg())try{let e={eventId:ep(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:es(this.core.relayer.protocol,this.core.relayer.version,ir)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}}),sj(this,"createEvent",e=>{let{event:t="ERROR",type:r="",properties:{topic:n,trace:i}}=e,o=ep(),s=this.core.projectId||"",a=sD({eventId:o,timestamp:Date.now(),props:{event:t,type:r,properties:{topic:n,trace:i}},bundleId:s,domain:this.getAppDomain()},this.setMethods(o));return this.telemetryEnabled&&(this.events.set(o,a),this.shouldPersist=!0),a}),sj(this,"getEvent",e=>{let{eventId:t,topic:r}=e;if(t)return this.events.get(t);let n=Array.from(this.events.values()).find(e=>e.props.properties.topic===r);if(n)return sD(sD({},n),this.setMethods(n.eventId))}),sj(this,"deleteEvent",e=>{let{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),sj(this,"setEventListeners",()=>{this.core.heartbeat.on(o.Lx.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,N.fromMiliseconds)(Date.now())-(0,N.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),sj(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),sj(this,"addTrace",(e,t)=>{let r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)}),sj(this,"setError",(e,t)=>{let r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)}),sj(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),sj(this,"restore",async()=>{try{let e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,sD(sD({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}}),sj(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let e=[];for(let[t,r]of this.events)r.props.type&&e.push(r);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(let t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}}),sj(this,"sendEvent",async e=>{let t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${ir}${t}`,{method:"POST",body:JSON.stringify(e)})}),sj(this,"getAppDomain",()=>((0,R.D)()||{name:"",description:"",url:"",icons:[""]}).url),this.logger=(0,a.Ep)(t,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var sq=Object.defineProperty,sz=Object.getOwnPropertySymbols,s$=Object.prototype.hasOwnProperty,sH=Object.prototype.propertyIsEnumerable,sG=(e,t,r)=>t in e?sq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sW=(e,t)=>{for(var r in t||(t={}))s$.call(t,r)&&sG(e,r,t[r]);if(sz)for(var r of sz(t))sH.call(t,r)&&sG(e,r,t[r]);return e},sV=(e,t,r)=>sG(e,"symbol"!=typeof t?t+"":t,r);class sK extends f{constructor(e){var t;super(e),sV(this,"protocol","wc"),sV(this,"version",2),sV(this,"name",n1),sV(this,"relayUrl"),sV(this,"projectId"),sV(this,"customStoragePrefix"),sV(this,"events",new n.EventEmitter),sV(this,"logger"),sV(this,"heartbeat"),sV(this,"relayer"),sV(this,"crypto"),sV(this,"storage"),sV(this,"history"),sV(this,"expirer"),sV(this,"pairing"),sV(this,"verify"),sV(this,"echoClient"),sV(this,"linkModeSupportedApps"),sV(this,"eventClient"),sV(this,"initialized",!1),sV(this,"logChunkController"),sV(this,"on",(e,t)=>this.events.on(e,t)),sV(this,"once",(e,t)=>this.events.once(e,t)),sV(this,"off",(e,t)=>this.events.off(e,t)),sV(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),sV(this,"dispatchEnvelope",({topic:e,message:t,sessionExists:r})=>{if(!e||!t)return;let n={topic:e,message:t,publishedAt:Date.now(),transportType:ii.link_mode};this.relayer.onLinkMessageEvent(n,{sessionExists:r})});let r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(e){console.warn("Failed to copy global core",e)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||n7,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let i=(0,a.jI)({level:"string"==typeof e?.logger&&e.logger?e.logger:n6.logger,name:n1}),{logger:c,chunkLoggerController:l}=(0,a.Rt)({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=l,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,a.Ep)(c,this.name),this.heartbeat=new o.C$,this.crypto=new oy(this,this.logger,e?.keychain),this.history=new sw(this,this.logger),this.expirer=new sx(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new s.ZP(sW(sW({},n5),e?.storageOptions)),this.relayer=new o9({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new sm(this,this.logger),this.verify=new sP(this,this.logger,this.storage),this.echoClient=new sT(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new sF(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){let t=new sK(e);await t.initialize();let r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return(0,a.Fd)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(is,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(is)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;let t=`_walletConnectCore_${e}`,r=`${t}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[t]}catch(e){console.warn("Failed to get global WalletConnect core",e);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${(null==(t=e.opts)?void 0:t.customStoragePrefix)||""}`;globalThis[r]=e}catch(e){console.warn("Failed to set global WalletConnect core",e)}}isGlobalCoreDisabled(){try{return"u">typeof n0&&"true"===n0.env.DISABLE_GLOBAL_CORE}catch{return!0}}}let sZ=sK},48737:function(e,t,r){"use strict";r.d(t,{tQ:function(){return u},Vv:function(){return q}});class n extends Error{constructor(e,t={}){let r=t.cause instanceof n?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof n&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.0.8"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}}function i(e,t){let r=e.exec(t);return r?.groups}let o=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,a=/^\(.+?\).*?$/,c=/^tuple(?<array>(\[(\d*)\])*)$/;function l(e){let t="",r=e.length;for(let n=0;n<r;n++)t+=function e(t){let r=t.type;if(c.test(t.type)&&"components"in t){r="(";let n=t.components.length;for(let i=0;i<n;i++)r+=e(t.components[i]),i<n-1&&(r+=", ");let o=i(c,t.type);return r+=`)${o?.array??""}`,e({...t,type:r})}return("indexed"in t&&t.indexed&&(r=`${r} indexed`),t.name)?`${r} ${t.name}`:r}(e[n]),n!==r-1&&(t+=", ");return t}function u(e){return"function"===e.type?`function ${e.name}(${l(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${l(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${l(e.inputs)})`:"error"===e.type?`error ${e.name}(${l(e.inputs)})`:"constructor"===e.type?`constructor(${l(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?`fallback() external${"payable"===e.stateMutability?" payable":""}`:"receive() external payable"}let d=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/,f=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/,h=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/,p=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/,g=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/,m=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/,y=/^receive\(\) external payable$/,b=new Set(["indexed"]),v=new Set(["calldata","memory","storage"]);class w extends n{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class E extends n{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class C extends n{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class A extends n{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class x extends n{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class I extends n{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class N extends n{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class S extends n{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class P extends n{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class O extends n{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class _ extends n{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class R extends n{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}let T=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),k=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,B=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,U=/^u?int$/;function M(e,t){var r,n;let c;let l=function(e,t,r){let n="";if(r)for(let e of Object.entries(r)){if(!e)continue;let t="";for(let r of e[1])t+=`[${r.type}${r.name?`:${r.name}`:""}]`;n+=`(${e[0]}{${t}})`}return t?`${t}:${e}${n}`:e}(e,t?.type,t?.structs);if(T.has(l))return T.get(l);let u=a.test(e),d=i(u?B:k,e);if(!d)throw new C({param:e});if(d.name&&("address"===(r=d.name)||"bool"===r||"function"===r||"string"===r||"tuple"===r||o.test(r)||s.test(r)||j.test(r)))throw new A({param:e,name:d.name});let f=d.name?{name:d.name}:{},h="indexed"===d.modifier?{indexed:!0}:{},p=t?.structs??{},g={};if(u){c="tuple";let e=L(d.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(M(e[n],{structs:p}));g={components:t}}else if(d.type in p)c="tuple",g={components:p[d.type]};else if(U.test(d.type))c=`${d.type}256`;else if(c=d.type,t?.type!=="struct"&&!D(c))throw new E({type:c});if(d.modifier){if(!t?.modifiers?.has?.(d.modifier))throw new x({param:e,type:t?.type,modifier:d.modifier});if(v.has(d.modifier)&&(n=c,!d.array&&"bytes"!==n&&"string"!==n&&"tuple"!==n))throw new I({param:e,type:t?.type,modifier:d.modifier})}let m={type:`${c}${d.array??""}`,...f,...h,...g};return T.set(l,m),m}function L(e,t=[],r="",n=0){let i=e.trim().length;for(let o=0;o<i;o++){let i=e[o],s=e.slice(o+1);switch(i){case",":return 0===n?L(s,[...t,r.trim()]):L(s,t,`${r}${i}`,n);case"(":return L(s,t,`${r}${i}`,n+1);case")":return L(s,t,`${r}${i}`,n-1);default:return L(s,t,`${r}${i}`,n)}}if(""===r)return t;if(0!==n)throw new R({current:r,depth:n});return t.push(r.trim()),t}function D(e){return"address"===e||"bool"===e||"function"===e||"string"===e||o.test(e)||s.test(e)}let j=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/,F=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function q(e){let t=function(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!p.test(r))continue;let o=i(p,r);if(!o)throw new S({signature:r,type:"struct"});let s=o.properties.split(";"),a=[],c=s.length;for(let e=0;e<c;e++){let t=s[e].trim();if(!t)continue;let r=M(t,{type:"struct"});a.push(r)}if(!a.length)throw new O({signature:r});t[o.name]=a}let n={},o=Object.entries(t),s=o.length;for(let e=0;e<s;e++){let[r,s]=o[e];n[r]=function e(t,r,n=new Set){let o=[],s=t.length;for(let c=0;c<s;c++){let s=t[c];if(a.test(s.type))o.push(s);else{let t=i(F,s.type);if(!t?.type)throw new N({abiParameter:s});let{array:a,type:c}=t;if(c in r){if(n.has(c))throw new _({type:c});o.push({...s,type:`tuple${a??""}`,components:e(r[c]??[],r,new Set([...n,c]))})}else if(D(c))o.push(s);else throw new w({type:c})}}return o}(s,t)}return n}(e),r=[],n=e.length;for(let o=0;o<n;o++){let n=e[o];p.test(n)||r.push(function(e,t={}){if(h.test(e))return function(e,t={}){let r=i(h,e);if(!r)throw new S({signature:e,type:"function"});let n=L(r.parameters),o=[],s=n.length;for(let e=0;e<s;e++)o.push(M(n[e],{modifiers:v,structs:t,type:"function"}));let a=[];if(r.returns){let e=L(r.returns),n=e.length;for(let r=0;r<n;r++)a.push(M(e[r],{modifiers:v,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:o,outputs:a}}(e,t);if(f.test(e))return function(e,t={}){let r=i(f,e);if(!r)throw new S({signature:e,type:"event"});let n=L(r.parameters),o=[],s=n.length;for(let e=0;e<s;e++)o.push(M(n[e],{modifiers:b,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:o}}(e,t);if(d.test(e))return function(e,t={}){let r=i(d,e);if(!r)throw new S({signature:e,type:"error"});let n=L(r.parameters),o=[],s=n.length;for(let e=0;e<s;e++)o.push(M(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:o}}(e,t);if(g.test(e))return function(e,t={}){let r=i(g,e);if(!r)throw new S({signature:e,type:"constructor"});let n=L(r.parameters),o=[],s=n.length;for(let e=0;e<s;e++)o.push(M(n[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:o}}(e,t);if(m.test(e))return function(e){let t=i(m,e);if(!t)throw new S({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}(e);if(y.test(e))return{type:"receive",stateMutability:"payable"};throw new P({signature:e})}(n,t))}return r}},43788:function(e,t,r){"use strict";r.d(t,{o:function(){return o}});var n=r(46248);function i(e){return{address:e.address,amount:n.xS(e.amount),index:n.xS(e.index),validatorIndex:n.xS(e.validatorIndex)}}function o(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:n.xS(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:n.xS(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:n.xS(e.gasLimit)},..."bigint"==typeof e.number&&{number:n.xS(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:n.xS(e.prevRandao)},..."bigint"==typeof e.time&&{time:n.xS(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(i)}}}},81424:function(e,t,r){"use strict";r.d(t,{$s:function(){return f},Dp:function(){return c},M6:function(){return d},dp:function(){return u},mL:function(){return l}}),r(8839);var n=r(37214),i=r(46248);r(20272);var o=r(559),s=r(6250);let a=new TextEncoder;function c(e){return e instanceof Uint8Array?e:"string"==typeof e?function(e,t={}){let{size:r}=t,a=e;r&&(s.Yf(e,r),a=i.eh(e,r));let c=a.slice(2);c.length%2&&(c=`0${c}`);let l=c.length/2,u=new Uint8Array(l);for(let e=0,t=0;e<l;e++){let r=o.DN(c.charCodeAt(t++)),i=o.DN(c.charCodeAt(t++));if(void 0===r||void 0===i)throw new n.G(`Invalid byte sequence ("${c[t-2]}${c[t-1]}" in "${c}").`);u[e]=16*r+i}return u}(e):e instanceof Uint8Array?e:new Uint8Array(e)}function l(e,t={}){let{size:r}=t,n=a.encode(e);return"number"==typeof r?(o.Yf(n,r),o.vk(n,{dir:"right",size:r})):n}function u(e){return e.length}class d extends n.G{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class f extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}},37214:function(e,t,r){"use strict";r.d(t,{G:function(){return n}});class n extends Error{constructor(e,t={}){let r=(()=>{if(t.cause instanceof n){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),i=t.cause instanceof n&&t.cause.docsPath||t.docsPath,o=`https://oxlib.sh${i??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}},46248:function(e,t,r){"use strict";r.d(t,{$s:function(){return b},Dp:function(){return c},M6:function(){return y},O3:function(){return l},Q_:function(){return h},dp:function(){return g},eh:function(){return p},mL:function(){return f},xS:function(){return d},xv:function(){return u},zo:function(){return a}}),r(8839),r(81424);var n=r(37214);r(20272),r(559);var i=r(6250);let o=new TextEncoder,s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function c(e){return e instanceof Uint8Array?u(e):Array.isArray(e)?u(new Uint8Array(e)):e}function l(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(i.Yf(r,t.size),h(r,t.size)):r}function u(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=s[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(i.Yf(n,t.size),p(n,t.size)):n}function d(e,t={}){let r;let{signed:n,size:i}=t,o=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let s="bigint"==typeof r&&n?-r-1n:0;if(r&&o>r||o<s){let t="bigint"==typeof e?"n":"";throw new m({max:r?`${r}${t}`:void 0,min:`${s}${t}`,signed:n,size:i,value:`${e}${t}`})}let a=(n&&o<0?(1n<<BigInt(8*i))+BigInt(o):o).toString(16),c=`0x${a}`;return i?h(c,i):c}function f(e,t={}){return u(o.encode(e),t)}function h(e,t){return i.vk(e,{dir:"left",size:t})}function p(e,t){return i.vk(e,{dir:"right",size:t})}function g(e){return Math.ceil((e.length-2)/2)}class m extends n.G{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number \`${i}\` is not in safe${n?` ${8*n}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class y extends n.G{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class b extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}},20272:function(e,t,r){"use strict";function n(e,t,r){return JSON.stringify(e,(e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+"#__bigint":r,r)}r.d(t,{P:function(){return n}})},559:function(e,t,r){"use strict";r.d(t,{DN:function(){return s},Yf:function(){return i},vk:function(){return a}});var n=r(81424);function i(e,t){if(n.dp(e)>t)throw new n.M6({givenSize:n.dp(e),maxSize:t})}let o={zero:48,nine:57,A:65,F:70,a:97,f:102};function s(e){return e>=o.zero&&e<=o.nine?e-o.zero:e>=o.A&&e<=o.F?e-(o.A-10):e>=o.a&&e<=o.f?e-(o.a-10):void 0}function a(e,t={}){let{dir:r,size:i=32}=t;if(0===i)return e;if(e.length>i)throw new n.$s({size:e.length,targetSize:i,type:"Bytes"});let o=new Uint8Array(i);for(let t=0;t<i;t++){let n="right"===r;o[n?t:i-t-1]=e[n?t:e.length-t-1]}return o}},6250:function(e,t,r){"use strict";r.d(t,{Yf:function(){return i},vk:function(){return o}});var n=r(46248);function i(e,t){if(n.dp(e)>t)throw new n.M6({givenSize:n.dp(e),maxSize:t})}function o(e,t={}){let{dir:r,size:i=32}=t;if(0===i)return e;let o=e.replace("0x","");if(o.length>2*i)throw new n.$s({size:Math.ceil(o.length/2),targetSize:i,type:"Hex"});return`0x${o["right"===r?"padEnd":"padStart"](2*i,"0")}`}},8839:function(e,t,r){"use strict";var n=r(88835);n.gk,n.k8,n.ci,n.Md,n.eV,n.nr,n._t,n.O6,n.iY},78816:function(e,t,r){"use strict";function n(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}r.d(t,{T:function(){return n}})},99475:function(e,t,r){"use strict";r.d(t,{R:function(){return C}});var n=r(48737),i=r(43788),o=r(78816),s=r(89891),a=r(92250),c=r(20111),l=r(92378),u=r(72553),d=r(59780),f=r(45527),h=r(48988),p=r(14122),g=r(32003),m=r(1190),y=r(30498),b=r(90597),v=r(50277),w=r(34360),E=r(33494);async function C(e,t){let{account:s=e.account,authorizationList:d,batch:h=!!e.batch?.multicall,blockNumber:p,blockTag:v="latest",accessList:C,blobs:x,blockOverrides:I,code:N,data:S,factory:P,factoryData:O,gas:_,gasPrice:R,maxFeePerBlobGas:T,maxFeePerGas:k,maxPriorityFeePerGas:B,nonce:U,to:M,value:L,stateOverride:D,...j}=t,F=s?(0,o.T)(s):void 0;if(N&&(P||O))throw new c.G("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(N&&M)throw new c.G("Cannot provide both `code` & `to` as parameters.");let q=N&&S,z=P&&O&&M&&S,$=q||z,H=q?function(e){let{code:t,data:r}=e;return(0,f.w)({abi:(0,n.Vv)(["constructor(bytes, bytes)"]),bytecode:a.NO,args:[t,r]})}({code:N,data:S}):z?function(e){let{data:t,factory:r,factoryData:i,to:o}=e;return(0,f.w)({abi:(0,n.Vv)(["constructor(address, bytes, address, bytes)"]),bytecode:a.pG,args:[o,t,r,i]})}({data:S,factory:P,factoryData:O,to:M}):S;try{(0,E.F)(t);let r=("bigint"==typeof p?(0,g.eC)(p):void 0)||v,n=I?i.o(I):void 0,o=(0,w.mF)(D),s=e.chain?.formatters?.transactionRequest?.format,a=(s||b.tG)({...(0,y.K)(j,{format:s}),from:F?.address,accessList:C,authorizationList:d,blobs:x,data:H,gas:_,gasPrice:R,maxFeePerBlobGas:T,maxFeePerGas:k,maxPriorityFeePerGas:B,nonce:U,to:$?void 0:M,value:L});if(h&&function({request:e}){let{data:t,to:r,...n}=e;return!(!t||t.startsWith("0x82ad56cb"))&&!!r&&!(Object.values(n).filter(e=>void 0!==e).length>0)}({request:a})&&!o&&!n)try{return await A(e,{...a,blockNumber:p,blockTag:v})}catch(e){if(!(e instanceof l.pZ)&&!(e instanceof l.mm))throw e}let c=(()=>{let e=[a,r];return o&&n?[...e,o,n]:o?[...e,o]:n?[...e,{},n]:e})(),u=await e.request({method:"eth_call",params:c});if("0x"===u)return{data:void 0};return{data:u}}catch(s){let n=function(e){if(!(e instanceof c.G))return;let t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(s),{offchainLookup:i,offchainLookupSignature:o}=await Promise.resolve().then(r.bind(r,65206));if(!1!==e.ccipRead&&n?.slice(0,10)===o&&M)return{data:await i(e,{data:n,to:M})};if($&&n?.slice(0,10)==="0x101bb98d")throw new u.Mo({factory:P});throw(0,m.P)(s,{...t,account:F,chain:e.chain})}}async function A(e,t){let{batchSize:r=1024,wait:n=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:i,blockTag:o="latest",data:a,multicallAddress:c,to:f}=t,m=c;if(!m){if(!e.chain)throw new l.pZ;m=(0,p.L)({blockNumber:i,chain:e.chain,contract:"multicall3"})}let y=("bigint"==typeof i?(0,g.eC)(i):void 0)||o,{schedule:b}=(0,v.S)({id:`${e.uid}.${y}`,wait:n,shouldSplitBatch:e=>e.reduce((e,{data:t})=>e+(t.length-2),0)>2*r,fn:async t=>{let r=t.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),n=(0,h.R)({abi:s.F8,args:[r],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{data:n,to:m},y]});return(0,d.k)({abi:s.F8,args:[r],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:w,success:E}]=await b({data:a,to:f});if(!E)throw new u.VQ({data:w});return"0x"===w?{data:void 0}:{data:w}}},89891:function(e,t,r){"use strict";r.d(t,{F8:function(){return n},Yi:function(){return i}});let n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],i=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],o=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}];[...o],[...o]},92250:function(e,t,r){"use strict";r.d(t,{NO:function(){return n},pG:function(){return i}});let n="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",i="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe"},18399:function(e,t,r){"use strict";r.d(t,{zL:function(){return n}});let n=2n**256n-1n},814:function(e,t,r){"use strict";r.d(t,{$:function(){return n},Up:function(){return i},hZ:function(){return o}});let n={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},o={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},49841:function(e,t,r){"use strict";r.d(t,{Zn:function(){return i},ez:function(){return n}});let n={gwei:9,wei:18},i={ether:-9,wei:9}},34781:function(e,t,r){"use strict";r.d(t,{CI:function(){return E},M4:function(){return d},MS:function(){return p},MX:function(){return y},S4:function(){return v},Zh:function(){return h},cO:function(){return a},dh:function(){return w},eF:function(){return b},fM:function(){return s},fs:function(){return f},gr:function(){return u},hn:function(){return C},wM:function(){return A},wb:function(){return l},xB:function(){return c},xL:function(){return m},yP:function(){return g}});var n=r(10063),i=r(73458),o=r(20111);class s extends o.G{constructor({docsPath:e}){super("A constructor was not found on the ABI.\nMake sure you are using the correct ABI and that the constructor exists on it.",{docsPath:e,name:"AbiConstructorNotFoundError"})}}class a extends o.G{constructor({docsPath:e}){super("Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.\nMake sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.",{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class c extends o.G{constructor({data:e,params:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${(0,n.h)(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class l extends o.G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class u extends o.G{constructor({expectedLength:e,givenLength:t,type:r}){super(`ABI encoding array length mismatch for type ${r}.
Expected length: ${e}
Given length: ${t}`,{name:"AbiEncodingArrayLengthMismatchError"})}}class d extends o.G{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,i.d)(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class f extends o.G{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding params/values length mismatch.
Expected length (params): ${e}
Given length (values): ${t}`,{name:"AbiEncodingLengthMismatchError"})}}class h extends o.G{constructor(e,{docsPath:t}){super(`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).
Cannot encode error result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the inputs exist on it.`,{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class p extends o.G{constructor(e,{docsPath:t}={}){super(`Error ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.`,{docsPath:t,name:"AbiErrorNotFoundError"})}}class g extends o.G{constructor(e,{docsPath:t}){super(`Encoded error signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.
You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class m extends o.G{constructor(e,{docsPath:t}={}){super(`Function ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t,name:"AbiFunctionNotFoundError"})}}class y extends o.G{constructor(e,{docsPath:t}){super(`Function "${e}" does not contain any \`outputs\` on ABI.
Cannot decode function result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class b extends o.G{constructor(e,{docsPath:t}){super(`Encoded function signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.
You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class v extends o.G{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${(0,n.t)(e.abiItem)}\`, and`,`\`${t.type}\` in \`${(0,n.t)(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class w extends o.G{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid encoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiEncodingType"})}}class E extends o.G{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid decoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiDecodingType"})}}class C extends o.G{constructor(e){super(`Value "${e}" is not a valid array.`,{name:"InvalidArrayError"})}}class A extends o.G{constructor(e){super(`"${e}" is not a valid definition type.
Valid types: "function", "event", "error"`,{name:"InvalidDefinitionTypeError"})}}},76363:function(e,t,r){"use strict";r.d(t,{b:function(){return i}});var n=r(20111);class i extends n.G{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}},20111:function(e,t,r){"use strict";r.d(t,{G:function(){return o}});let n="2.31.0",i={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${n}`};class o extends Error{constructor(e,t={}){let r=t.cause instanceof o?t.cause.details:t.cause?.message?t.cause.message:t.details,s=t.cause instanceof o&&t.cause.docsPath||t.docsPath,a=i.getDocsUrl?.({...t,docsPath:s});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...i.version?[`Version: ${i.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=n}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}},92378:function(e,t,r){"use strict";r.d(t,{mm:function(){return i},pZ:function(){return o}});var n=r(20111);class i extends n.G{constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class o extends n.G{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}},72553:function(e,t,r){"use strict";r.d(t,{Mo:function(){return u},VQ:function(){return d},cg:function(){return l}});var n=r(78816);r(814),r(10829),r(10063),r(73488),r(11558);var i=r(30859),o=r(26737);r(34781);var s=r(20111),a=r(89053),c=r(91950);r(89450);class l extends s.G{constructor(e,{account:t,docsPath:r,chain:s,data:l,gas:u,gasPrice:d,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:g,value:m,stateOverride:y}){let b=t?(0,n.T)(t):void 0,v=(0,c.xr)({from:b?.address,to:g,value:void 0!==m&&`${(0,i.d)(m)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:l,gas:u,gasPrice:void 0!==d&&`${(0,o.o)(d)} gwei`,maxFeePerGas:void 0!==f&&`${(0,o.o)(f)} gwei`,maxPriorityFeePerGas:void 0!==h&&`${(0,o.o)(h)} gwei`,nonce:p});y&&(v+=`
${(0,a.Bj)(y)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class u extends s.G{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class d extends s.G{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},68672:function(e,t,r){"use strict";r.d(t,{KD:function(){return s},T_:function(){return i},lQ:function(){return o}});var n=r(20111);class i extends n.G{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class o extends n.G{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class s extends n.G{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}},30906:function(e,t,r){"use strict";r.d(t,{$s:function(){return o},W_:function(){return s},mV:function(){return i}});var n=r(20111);class i extends n.G{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class o extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class s extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}},5385:function(e,t,r){"use strict";r.d(t,{J5:function(){return i},M6:function(){return s},yr:function(){return o}});var n=r(20111);class i extends n.G{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class o extends n.G{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class s extends n.G{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}},3262:function(e,t,r){"use strict";r.d(t,{C_:function(){return d},G$:function(){return a},Hh:function(){return s},M_:function(){return o},WF:function(){return f},ZI:function(){return c},cj:function(){return m},cs:function(){return g},dR:function(){return h},pZ:function(){return p},se:function(){return u},vU:function(){return l}});var n=r(26737),i=r(20111);class o extends i.G{constructor({cause:e,message:t}={}){let r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class s extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.o)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class a extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.o)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class c extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class l extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.
Try increasing the nonce or find the latest nonce with \`getTransactionCount\`.`,{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class u extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class d extends i.G{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class f extends i.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class h extends i.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class p extends i.G{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class g extends i.G{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,n.o)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${(0,n.o)(r)} gwei`:""}).`,{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(g,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class m extends i.G{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}},89722:function(e,t,r){"use strict";r.d(t,{Gg:function(){return s},W5:function(){return c},bs:function(){return a}});var n=r(93313),i=r(20111),o=r(89450);class s extends i.G{constructor({body:e,cause:t,details:r,headers:i,status:s,url:a}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${(0,o.G)(a)}`,e&&`Request body: ${(0,n.P)(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=a}}class a extends i.G{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,o.G)(r)}`,`Request body: ${(0,n.P)(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class c extends i.G{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,o.G)(t)}`,`Request body: ${(0,n.P)(e)}`],name:"TimeoutError"})}}},68199:function(e,t,r){"use strict";var n=r(20111),i=r(89722);class o extends n.G{constructor(e,{code:t,docsPath:r,metaMessages:n,name:o,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof i.bs?e.code:t??-1}}class s extends o{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class a extends o{constructor(e){super(e,{code:a.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class c extends o{constructor(e){super(e,{code:c.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class l extends o{constructor(e,{method:t}={}){super(e,{code:l.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class u extends o{constructor(e){super(e,{code:u.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class d extends o{constructor(e){super(e,{code:d.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class f extends o{constructor(e){super(e,{code:f.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class h extends o{constructor(e){super(e,{code:h.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class p extends o{constructor(e){super(e,{code:p.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class g extends o{constructor(e){super(e,{code:g.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class m extends o{constructor(e,{method:t}={}){super(e,{code:m.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class y extends o{constructor(e){super(e,{code:y.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class b extends o{constructor(e){super(e,{code:b.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class v extends s{constructor(e){super(e,{code:v.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class w extends s{constructor(e){super(e,{code:w.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class E extends s{constructor(e,{method:t}={}){super(e,{code:E.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class C extends s{constructor(e){super(e,{code:C.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class A extends s{constructor(e){super(e,{code:A.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class x extends s{constructor(e){super(e,{code:x.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class I extends s{constructor(e){super(e,{code:I.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class N extends s{constructor(e){super(e,{code:N.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(N,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class S extends s{constructor(e){super(e,{code:S.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class P extends s{constructor(e){super(e,{code:P.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class O extends s{constructor(e){super(e,{code:O.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class _ extends s{constructor(e){super(e,{code:_.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class R extends s{constructor(e){super(e,{code:R.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(R,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760})},89053:function(e,t,r){"use strict";r.d(t,{Bj:function(){return a},Nc:function(){return i},Z8:function(){return o}});var n=r(20111);class i extends n.G{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class o extends n.G{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function s(e){return e.reduce((e,{slot:t,value:r})=>`${e}        ${t}: ${r}
`,"")}function a(e){return e.reduce((e,{address:t,...r})=>{let n=`${e}    ${t}:
`;return r.nonce&&(n+=`      nonce: ${r.nonce}
`),r.balance&&(n+=`      balance: ${r.balance}
`),r.code&&(n+=`      code: ${r.code}
`),r.state&&(n+="      state:\n"+s(r.state)),r.stateDiff&&(n+="      stateDiff:\n"+s(r.stateDiff)),n},"  State Override:\n").slice(0,-1)}},91950:function(e,t,r){"use strict";r.d(t,{xY:function(){return o},xr:function(){return i}}),r(30859),r(26737);var n=r(20111);function i(e){let t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),r=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`).join("\n")}class o extends n.G{constructor(){super("Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.\nUse `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others.",{name:"FeeConflictError"})}}},89450:function(e,t,r){"use strict";r.d(t,{C:function(){return n},G:function(){return i}});let n=e=>e,i=e=>e},99418:function(e,t,r){"use strict";r.d(t,{r:function(){return h}});var n=r(34781),i=r(9215),o=r(28072),s=r(73458),a=r(84655),c=r(96852),l=r(39251),u=r(56490),d=r(32003),f=r(18535);function h(e,t){let r="string"==typeof t?(0,u.nr)(t):t,h=(0,o.q)(r);if(0===(0,s.d)(r)&&e.length>0)throw new n.wb;if((0,s.d)(t)&&32>(0,s.d)(t))throw new n.xB({data:"string"==typeof t?t:(0,d.ci)(t),params:e,size:(0,s.d)(t)});let g=0,m=[];for(let t=0;t<e.length;++t){let r=e[t];h.setPosition(g);let[o,s]=function e(t,r,{staticPosition:o}){let s=(0,f.S)(r.type);if(s){let[n,i]=s;return function(t,r,{length:n,staticPosition:i}){if(!n){let n=i+(0,l.tm)(t.readBytes(32)),o=n+32;t.setPosition(n);let s=(0,l.tm)(t.readBytes(32)),a=p(r),c=0,u=[];for(let n=0;n<s;++n){t.setPosition(o+(a?32*n:c));let[i,s]=e(t,r,{staticPosition:o});c+=s,u.push(i)}return t.setPosition(i+32),[u,32]}if(p(r)){let o=i+(0,l.tm)(t.readBytes(32)),s=[];for(let i=0;i<n;++i){t.setPosition(o+32*i);let[n]=e(t,r,{staticPosition:o});s.push(n)}return t.setPosition(i+32),[s,32]}let o=0,s=[];for(let a=0;a<n;++a){let[n,a]=e(t,r,{staticPosition:i+o});o+=a,s.push(n)}return[s,o]}(t,{...r,type:i},{length:n,staticPosition:o})}if("tuple"===r.type)return function(t,r,{staticPosition:n}){let i=0===r.components.length||r.components.some(({name:e})=>!e),o=i?[]:{},s=0;if(p(r)){let a=n+(0,l.tm)(t.readBytes(32));for(let n=0;n<r.components.length;++n){let c=r.components[n];t.setPosition(a+s);let[l,u]=e(t,c,{staticPosition:a});s+=u,o[i?n:c?.name]=l}return t.setPosition(n+32),[o,32]}for(let a=0;a<r.components.length;++a){let c=r.components[a],[l,u]=e(t,c,{staticPosition:n});o[i?a:c?.name]=l,s+=u}return[o,s]}(t,r,{staticPosition:o});if("address"===r.type)return function(e){let t=e.readBytes(32);return[(0,i.x)((0,d.ci)((0,a.T4)(t,-20))),32]}(t);if("bool"===r.type)return[(0,l.Lj)(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[n,i]=t.type.split("bytes");if(!i){let t=(0,l.tm)(e.readBytes(32));e.setPosition(r+t);let n=(0,l.tm)(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];let i=e.readBytes(n);return e.setPosition(r+32),[(0,d.ci)(i),32]}return[(0,d.ci)(e.readBytes(Number.parseInt(i),32)),32]}(t,r,{staticPosition:o});if(r.type.startsWith("uint")||r.type.startsWith("int"))return function(e,t){let r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256"),i=e.readBytes(32);return[n>48?(0,l.v3)(i,{signed:r}):(0,l.tm)(i,{signed:r}),32]}(t,r);if("string"===r.type)return function(e,{staticPosition:t}){let r=(0,l.tm)(e.readBytes(32));e.setPosition(t+r);let n=(0,l.tm)(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];let i=e.readBytes(n,32),o=(0,l.d3)((0,c.f)(i));return e.setPosition(t+32),[o,32]}(t,{staticPosition:o});throw new n.CI(r.type,{docsPath:"/docs/contract/decodeAbiParameters"})}(h,r,{staticPosition:0});g+=s,m.push(o)}return m}function p(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(p);let r=(0,f.S)(e.type);return!!(r&&p({...e,type:r[1]}))}},10829:function(e,t,r){"use strict";r.d(t,{p:function(){return l}});var n=r(814),i=r(34781),o=r(84655),s=r(71525),a=r(99418),c=r(10063);function l(e){let{abi:t,data:r}=e,l=(0,o.tP)(r,0,4);if("0x"===l)throw new i.wb;let u=[...t||[],n.Up,n.hZ].find(e=>"error"===e.type&&l===(0,s.C)((0,c.t)(e)));if(!u)throw new i.yP(l,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:u,args:"inputs"in u&&u.inputs&&u.inputs.length>0?(0,a.r)(u.inputs,(0,o.tP)(r,4)):void 0,errorName:u.name}}},50677:function(e,t,r){"use strict";r.d(t,{p:function(){return c}});var n=r(34781),i=r(84655),o=r(71525),s=r(99418),a=r(10063);function c(e){let{abi:t,data:r}=e,c=(0,i.tP)(r,0,4),l=t.find(e=>"function"===e.type&&c===(0,o.C)((0,a.t)(e)));if(!l)throw new n.eF(c,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:l.name,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,s.r)(l.inputs,(0,i.tP)(r,4)):void 0}}},59780:function(e,t,r){"use strict";r.d(t,{k:function(){return a}});var n=r(34781),i=r(99418),o=r(11558);let s="/docs/contract/decodeFunctionResult";function a(e){let{abi:t,args:r,functionName:a,data:c}=e,l=t[0];if(a){let e=(0,o.mE)({abi:t,args:r,name:a});if(!e)throw new n.xL(a,{docsPath:s});l=e}if("function"!==l.type)throw new n.xL(void 0,{docsPath:s});if(!l.outputs)throw new n.MX(l.name,{docsPath:s});let u=(0,i.r)(l.outputs,c);return u&&u.length>1?u:u&&1===u.length?u[0]:void 0}},18535:function(e,t,r){"use strict";r.d(t,{E:function(){return p},S:function(){return m}});var n=r(34781),i=r(76363),o=r(20111),s=r(5385),a=r(19089),c=r(2372),l=r(9609),u=r(73458),d=r(84655),f=r(32003),h=r(47034);function p(e,t){if(e.length!==t.length)throw new n.fs({expectedLength:e.length,givenLength:t.length});let r=g(function({params:e,values:t}){let r=[];for(let p=0;p<e.length;p++)r.push(function e({param:t,value:r}){let p=m(t.type);if(p){let[i,o]=p;return function(t,{length:r,param:i}){let o=null===r;if(!Array.isArray(t))throw new n.hn(t);if(!o&&t.length!==r)throw new n.gr({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let s=!1,a=[];for(let r=0;r<t.length;r++){let n=e({param:i,value:t[r]});n.dynamic&&(s=!0),a.push(n)}if(o||s){let e=g(a);if(o){let t=(0,f.eC)(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?(0,c.zo)([t,e]):t}}if(s)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,c.zo)(a.map(({encoded:e})=>e))}}(r,{length:i,param:{...t,type:o}})}if("tuple"===t.type)return function(t,{param:r}){let n=!1,i=[];for(let o=0;o<r.components.length;o++){let s=r.components[o],a=Array.isArray(t)?o:s.name,c=e({param:s,value:t[a]});i.push(c),c.dynamic&&(n=!0)}return{dynamic:n,encoded:n?g(i):(0,c.zo)(i.map(({encoded:e})=>e))}}(r,{param:t});if("address"===t.type)return function(e){if(!(0,a.U)(e))throw new i.b({address:e});return{dynamic:!1,encoded:(0,l.gc)(e.toLowerCase())}}(r);if("bool"===t.type)return function(e){if("boolean"!=typeof e)throw new o.G(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,l.gc)((0,f.C4)(e))}}(r);if(t.type.startsWith("uint")||t.type.startsWith("int")){let e=t.type.startsWith("int"),[,,n="256"]=h.lh.exec(t.type)??[];return function(e,{signed:t,size:r=256}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new s.J5({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:(0,f.eC)(e,{size:32,signed:t})}}(r,{signed:e,size:Number(n)})}if(t.type.startsWith("bytes"))return function(e,{param:t}){let[,r]=t.type.split("bytes"),i=(0,u.d)(e);if(!r){let t=e;return i%32!=0&&(t=(0,l.gc)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,c.zo)([(0,l.gc)((0,f.eC)(i,{size:32})),t])}}if(i!==Number.parseInt(r))throw new n.M4({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:(0,l.gc)(e,{dir:"right"})}}(r,{param:t});if("string"===t.type)return function(e){let t=(0,f.$G)(e),r=Math.ceil((0,u.d)(t)/32),n=[];for(let e=0;e<r;e++)n.push((0,l.gc)((0,d.tP)(t,32*e,(e+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,c.zo)([(0,l.gc)((0,f.eC)((0,u.d)(t),{size:32})),...n])}}(r);throw new n.dh(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}({param:e[p],value:t[p]}));return r}({params:e,values:t}));return 0===r.length?"0x":r}function g(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=(0,u.d)(i)}let r=[],n=[],i=0;for(let o=0;o<e.length;o++){let{dynamic:s,encoded:a}=e[o];s?(r.push((0,f.eC)(t+i,{size:32})),n.push(a),i+=(0,u.d)(a)):r.push(a)}return(0,c.zo)([...r,...n])}function m(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},45527:function(e,t,r){"use strict";r.d(t,{w:function(){return a}});var n=r(34781),i=r(2372),o=r(18535);let s="/docs/contract/encodeDeployData";function a(e){let{abi:t,args:r,bytecode:a}=e;if(!r||0===r.length)return a;let c=t.find(e=>"type"in e&&"constructor"===e.type);if(!c)throw new n.fM({docsPath:s});if(!("inputs"in c)||!c.inputs||0===c.inputs.length)throw new n.cO({docsPath:s});let l=(0,o.E)(c.inputs,r);return(0,i.SM)([a,l])}},70349:function(e,t,r){"use strict";r.d(t,{M:function(){return u}});var n=r(34781),i=r(2372),o=r(71525),s=r(18535),a=r(10063),c=r(11558);let l="/docs/contract/encodeErrorResult";function u(e){let{abi:t,errorName:r,args:u}=e,d=t[0];if(r){let e=(0,c.mE)({abi:t,args:u,name:r});if(!e)throw new n.MS(r,{docsPath:l});d=e}if("error"!==d.type)throw new n.MS(void 0,{docsPath:l});let f=(0,a.t)(d),h=(0,o.C)(f),p="0x";if(u&&u.length>0){if(!d.inputs)throw new n.Zh(d.name,{docsPath:l});p=(0,s.E)(d.inputs,u)}return(0,i.SM)([h,p])}},48988:function(e,t,r){"use strict";r.d(t,{R:function(){return s}});var n=r(2372),i=r(18535),o=r(70229);function s(e){let{args:t}=e,{abi:r,functionName:s}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:(0,o.m)(e),a=r[0],c="inputs"in a&&a.inputs?(0,i.E)(a.inputs,t??[]):void 0;return(0,n.SM)([s,c??"0x"])}},8174:function(e,t,r){"use strict";r.d(t,{R:function(){return a}});var n=r(34781),i=r(18535),o=r(11558);let s="/docs/contract/encodeFunctionResult";function a(e){let{abi:t,functionName:r,result:a}=e,c=t[0];if(r){let e=(0,o.mE)({abi:t,name:r});if(!e)throw new n.xL(r,{docsPath:s});c=e}if("function"!==c.type)throw new n.xL(void 0,{docsPath:s});if(!c.outputs)throw new n.MX(c.name,{docsPath:s});let l=(()=>{if(0===c.outputs.length)return[];if(1===c.outputs.length)return[a];if(Array.isArray(a))return a;throw new n.hn(a)})();return(0,i.E)(c.outputs,l)}},10063:function(e,t,r){"use strict";r.d(t,{h:function(){return o},t:function(){return i}});var n=r(34781);function i(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new n.wM(e.type);return`${e.name}(${o(e.inputs,{includeName:t})})`}function o(e,{includeName:t=!1}={}){return e?e.map(e=>(function(e,{includeName:t}){return e.type.startsWith("tuple")?`(${o(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")})(e,{includeName:t})).join(t?", ":","):""}},73488:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(93313);function i({abiItem:e,args:t,includeFunctionName:r=!0,includeName:i=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((e,r)=>`${i&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?(0,n.P)(t[r]):t[r]}`).join(", ")})`}},11558:function(e,t,r){"use strict";r.d(t,{mE:function(){return c}});var n=r(34781),i=r(57448),o=r(19089),s=r(83395),a=r(71525);function c(e){let t;let{abi:r,args:c=[],name:l}=e,u=(0,i.v)(l,{strict:!1}),d=r.filter(e=>u?"function"===e.type?(0,a.C)(e)===l:"event"===e.type&&(0,s.n)(e)===l:"name"in e&&e.name===l);if(0!==d.length){if(1===d.length)return d[0];for(let e of d)if("inputs"in e){if(!c||0===c.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===c.length&&c.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return(0,o.U)(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(t&&"inputs"in t&&t.inputs){let r=function e(t,r,n){for(let i in t){let s=t[i],a=r[i];if("tuple"===s.type&&"tuple"===a.type&&"components"in s&&"components"in a)return e(s.components,a.components,n[i]);let c=[s.type,a.type];if(c.includes("address")&&c.includes("bytes20")||(c.includes("address")&&c.includes("string")||c.includes("address")&&c.includes("bytes"))&&(0,o.U)(n[i],{strict:!1}))return c}}(e.inputs,t.inputs,c);if(r)throw new n.S4({abiItem:e,type:r[0]},{abiItem:t,type:r[1]})}t=e}}return t||d[0]}}},70229:function(e,t,r){"use strict";r.d(t,{m:function(){return c}});var n=r(34781),i=r(71525),o=r(10063),s=r(11558);let a="/docs/contract/encodeFunctionData";function c(e){let{abi:t,args:r,functionName:c}=e,l=t[0];if(c){let e=(0,s.mE)({abi:t,args:r,name:c});if(!e)throw new n.xL(c,{docsPath:a});l=e}if("function"!==l.type)throw new n.xL(void 0,{docsPath:a});return{abi:[l],functionName:(0,i.C)((0,o.t)(l))}}},9215:function(e,t,r){"use strict";r.d(t,{x:function(){return a}}),r(76363);var n=r(56490),i=r(28782),o=r(1522);r(19089);let s=new o.k(8192);function a(e,t){if(s.has(`${e}.${t}`))return s.get(`${e}.${t}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),o=(0,i.w)((0,n.qX)(r),"bytes"),a=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)o[e>>1]>>4>=8&&a[e]&&(a[e]=a[e].toUpperCase()),(15&o[e>>1])>=8&&a[e+1]&&(a[e+1]=a[e+1].toUpperCase());let c=`0x${a.join("")}`;return s.set(`${e}.${t}`,c),c}},19089:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});var n=r(1522),i=r(9215);let o=/^0x[a-fA-F0-9]{40}$/,s=new n.k(8192);function a(e,t){let{strict:r=!0}=t??{},n=`${e}.${r}`;if(s.has(n))return s.get(n);let a=!!o.test(e)&&(e.toLowerCase()===e||!r||(0,i.x)(e)===e);return s.set(n,a),a}},86239:function(e,t,r){"use strict";r.d(t,{E:function(){return o}});var n=r(76363),i=r(19089);function o(e,t){if(!(0,i.U)(e,{strict:!1}))throw new n.b({address:e});if(!(0,i.U)(t,{strict:!1}))throw new n.b({address:t});return e.toLowerCase()===t.toLowerCase()}},65206:function(e,t,r){"use strict";r.d(t,{offchainLookup:function(){return v},offchainLookupSignature:function(){return y}});var n=r(99475),i=r(93313),o=r(20111),s=r(89450);class a extends o.G{constructor({callbackSelector:e,cause:t,data:r,extraData:n,sender:i,urls:o}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(e=>`    ${(0,s.G)(e)}`)],`  Sender: ${i}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${n}`].flat(),name:"OffchainLookupError"})}}class c extends o.G{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,s.G)(t)}`,`Response: ${(0,i.P)(e)}`],name:"OffchainLookupResponseMalformedError"})}}class l extends o.G{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}var u=r(89722),d=r(10829),f=r(18535),h=r(86239),p=r(2372),g=r(57448),m=r(67539);let y="0x556f1830",b={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function v(e,{blockNumber:t,blockTag:r,data:i,to:o}){let{args:s}=(0,d.p)({data:i,abi:[b]}),[c,u,g,y,v]=s,{ccipRead:E}=e,C=E&&"function"==typeof E?.request?E.request:w;try{if(!(0,h.E)(o,c))throw new l({sender:c,to:o});let i=u.includes(m.M)?await (0,m.w)({data:g,ccipRequest:C}):await C({data:g,sender:c,urls:u}),{data:s}=await (0,n.R)(e,{blockNumber:t,blockTag:r,data:(0,p.zo)([y,(0,f.E)([{type:"bytes"},{type:"bytes"}],[i,v])]),to:o});return s}catch(e){throw new a({callbackSelector:y,cause:e,data:i,extraData:v,sender:c,urls:u})}}async function w({data:e,sender:t,urls:r}){let n=Error("An unknown error occurred.");for(let o=0;o<r.length;o++){let s=r[o],a=s.includes("{data}")?"GET":"POST",l="POST"===a?{data:e,sender:t}:void 0,d="POST"===a?{"Content-Type":"application/json"}:{};try{let r;let o=await fetch(s.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(l),headers:d,method:a});if(r=o.headers.get("Content-Type")?.startsWith("application/json")?(await o.json()).data:await o.text(),!o.ok){n=new u.Gg({body:l,details:r?.error?(0,i.P)(r.error):o.statusText,headers:o.headers,status:o.status,url:s});continue}if(!(0,g.v)(r)){n=new c({result:r,url:s});continue}return r}catch(e){n=new u.Gg({body:l,details:e.message,url:s})}}throw n}},14122:function(e,t,r){"use strict";r.d(t,{L:function(){return i}});var n=r(92378);function i({blockNumber:e,chain:t,contract:r}){let i=t?.contracts?.[r];if(!i)throw new n.mm({chain:t,contract:{name:r}});if(e&&i.blockCreated&&i.blockCreated>e)throw new n.mm({blockNumber:e,chain:t,contract:{name:r,blockCreated:i.blockCreated}});return i.address}},28072:function(e,t,r){"use strict";r.d(t,{q:function(){return o}});var n=r(68672);let i={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new n.KD({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new n.lQ({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new n.T_({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new n.T_({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function o(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(i);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}},2372:function(e,t,r){"use strict";function n(e){return"string"==typeof e[0]?i(e):function(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}(e)}function i(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}r.d(t,{SM:function(){return i},zo:function(){return n}})},57448:function(e,t,r){"use strict";function n(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}r.d(t,{v:function(){return n}})},9609:function(e,t,r){"use strict";r.d(t,{gc:function(){return o},vk:function(){return i}});var n=r(30906);function i(e,{dir:t,size:r=32}={}){return"string"==typeof e?o(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new n.$s({size:e.length,targetSize:r,type:"bytes"});let i=new Uint8Array(r);for(let n=0;n<r;n++){let o="right"===t;i[o?n:r-n-1]=e[o?n:e.length-n-1]}return i}(e,{dir:t,size:r})}function o(e,{dir:t,size:r=32}={}){if(null===r)return e;let i=e.replace("0x","");if(i.length>2*r)throw new n.$s({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i["right"===t?"padEnd":"padStart"](2*r,"0")}`}},73458:function(e,t,r){"use strict";r.d(t,{d:function(){return i}});var n=r(57448);function i(e){return(0,n.v)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},84655:function(e,t,r){"use strict";r.d(t,{T4:function(){return l},tP:function(){return s}});var n=r(30906),i=r(57448),o=r(73458);function s(e,t,r,{strict:n}={}){return(0,i.v)(e,{strict:!1})?function(e,t,r,{strict:n}={}){a(e,t);let i=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&c(i,t,r),i}(e,t,r,{strict:n}):l(e,t,r,{strict:n})}function a(e,t){if("number"==typeof t&&t>0&&t>(0,o.d)(e)-1)throw new n.mV({offset:t,position:"start",size:(0,o.d)(e)})}function c(e,t,r){if("number"==typeof t&&"number"==typeof r&&(0,o.d)(e)!==r-t)throw new n.mV({offset:r,position:"end",size:(0,o.d)(e)})}function l(e,t,r,{strict:n}={}){a(e,t);let i=e.slice(t,r);return n&&c(i,t,r),i}},96852:function(e,t,r){"use strict";function n(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,n=0;for(let e=0;e<r.length-1&&"0"===r["left"===t?e:r.length-e-1].toString();e++)n++;return(r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e)?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}r.d(t,{f:function(){return n}})},39251:function(e,t,r){"use strict";r.d(t,{Lj:function(){return c},d3:function(){return u},tm:function(){return l},v3:function(){return a}});var n=r(5385),i=r(96852),o=r(30490),s=r(32003);function a(e,t={}){void 0!==t.size&&(0,o.Yf)(e,{size:t.size});let r=(0,s.ci)(e,t);return(0,o.y_)(r,t)}function c(e,t={}){let r=e;if(void 0!==t.size&&((0,o.Yf)(r,{size:t.size}),r=(0,i.f)(r)),r.length>1||r[0]>1)throw new n.yr(r);return!!r[0]}function l(e,t={}){void 0!==t.size&&(0,o.Yf)(e,{size:t.size});let r=(0,s.ci)(e,t);return(0,o.ly)(r,t)}function u(e,t={}){let r=e;return void 0!==t.size&&((0,o.Yf)(r,{size:t.size}),r=(0,i.f)(r,{dir:"right"})),new TextDecoder().decode(r)}},30490:function(e,t,r){"use strict";r.d(t,{Yf:function(){return o},ly:function(){return a},y_:function(){return s}});var n=r(5385),i=r(73458);function o(e,{size:t}){if((0,i.d)(e)>t)throw new n.M6({givenSize:(0,i.d)(e),maxSize:t})}function s(e,t={}){let{signed:r}=t;t.size&&o(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function a(e,t={}){return Number(s(e,t))}r(96852),r(56490)},56490:function(e,t,r){"use strict";r.d(t,{O0:function(){return l},nr:function(){return f},qX:function(){return h}});var n=r(20111),i=r(57448),o=r(9609),s=r(30490),a=r(32003);let c=new TextEncoder;function l(e,t={}){return"number"==typeof e||"bigint"==typeof e?f((0,a.eC)(e,t)):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?((0,s.Yf)(r,{size:t.size}),(0,o.vk)(r,{size:t.size})):r}(e,t):(0,i.v)(e)?f(e,t):h(e,t)}let u={zero:48,nine:57,A:65,F:70,a:97,f:102};function d(e){return e>=u.zero&&e<=u.nine?e-u.zero:e>=u.A&&e<=u.F?e-(u.A-10):e>=u.a&&e<=u.f?e-(u.a-10):void 0}function f(e,t={}){let r=e;t.size&&((0,s.Yf)(r,{size:t.size}),r=(0,o.vk)(r,{dir:"right",size:t.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);let a=i.length/2,c=new Uint8Array(a);for(let e=0,t=0;e<a;e++){let r=d(i.charCodeAt(t++)),o=d(i.charCodeAt(t++));if(void 0===r||void 0===o)throw new n.G(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);c[e]=16*r+o}return c}function h(e,t={}){let r=c.encode(e);return"number"==typeof t.size?((0,s.Yf)(r,{size:t.size}),(0,o.vk)(r,{dir:"right",size:t.size})):r}},32003:function(e,t,r){"use strict";r.d(t,{$G:function(){return f},C4:function(){return c},NC:function(){return a},ci:function(){return l},eC:function(){return u}});var n=r(5385),i=r(9609),o=r(30490);let s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(e,t={}){return"number"==typeof e||"bigint"==typeof e?u(e,t):"string"==typeof e?f(e,t):"boolean"==typeof e?c(e,t):l(e,t)}function c(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?((0,o.Yf)(r,{size:t.size}),(0,i.vk)(r,{size:t.size})):r}function l(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=s[e[t]];let n=`0x${r}`;return"number"==typeof t.size?((0,o.Yf)(n,{size:t.size}),(0,i.vk)(n,{dir:"right",size:t.size})):n}function u(e,t={}){let r;let{signed:o,size:s}=t,a=BigInt(e);s?r=o?(1n<<8n*BigInt(s)-1n)-1n:2n**(8n*BigInt(s))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let c="bigint"==typeof r&&o?-r-1n:0;if(r&&a>r||a<c){let t="bigint"==typeof e?"n":"";throw new n.J5({max:r?`${r}${t}`:void 0,min:`${c}${t}`,signed:o,size:s,value:`${e}${t}`})}let l=`0x${(o&&a<0?(1n<<BigInt(8*s))+BigInt(a):a).toString(16)}`;return s?(0,i.vk)(l,{size:s}):l}let d=new TextEncoder;function f(e,t={}){return l(d.encode(e),t)}},67539:function(e,t,r){"use strict";r.d(t,{M:function(){return c},w:function(){return l}});var n=r(89891),i=r(814),o=r(50677),s=r(70349),a=r(8174);let c="x-batch-gateway:true";async function l(e){let{data:t,ccipRequest:r}=e,{args:[c]}=(0,o.p)({abi:n.Yi,data:t}),l=[],u=[];return await Promise.all(c.map(async(e,t)=>{try{u[t]=await r(e),l[t]=!1}catch(e){l[t]=!0,u[t]="HttpRequestError"===e.name&&e.status?(0,s.M)({abi:n.Yi,errorName:"HttpError",args:[e.status,e.shortMessage]}):(0,s.M)({abi:[i.Up],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}})),(0,a.R)({abi:n.Yi,functionName:"query",result:[l,u]})}},1190:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var n=r(72553),i=r(3262),o=r(37850);function s(e,{docsPath:t,...r}){let s=(()=>{let t=(0,o.k)(e,r);return t instanceof i.cj?e:t})();return new n.cg(s,{docsPath:t,...r})}},37850:function(e,t,r){"use strict";r.d(t,{k:function(){return o}});var n=r(20111),i=r(3262);function o(e,t){let r=(e.details||"").toLowerCase(),o=e instanceof n.G?e.walk(e=>e?.code===i.M_.code):e;return o instanceof n.G?new i.M_({cause:e,message:o.details}):i.M_.nodeMessage.test(r)?new i.M_({cause:e,message:e.details}):i.Hh.nodeMessage.test(r)?new i.Hh({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.G$.nodeMessage.test(r)?new i.G$({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.ZI.nodeMessage.test(r)?new i.ZI({cause:e,nonce:t?.nonce}):i.vU.nodeMessage.test(r)?new i.vU({cause:e,nonce:t?.nonce}):i.se.nodeMessage.test(r)?new i.se({cause:e,nonce:t?.nonce}):i.C_.nodeMessage.test(r)?new i.C_({cause:e}):i.WF.nodeMessage.test(r)?new i.WF({cause:e,gas:t?.gas}):i.dR.nodeMessage.test(r)?new i.dR({cause:e,gas:t?.gas}):i.pZ.nodeMessage.test(r)?new i.pZ({cause:e}):i.cs.nodeMessage.test(r)?new i.cs({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new i.cj({cause:e})}r(89722),r(68199)},30498:function(e,t,r){"use strict";function n(e,{format:t}){if(!t)return{};let r={};return!function t(n){for(let i of Object.keys(n))i in e&&(r[i]=e[i]),n[i]&&"object"==typeof n[i]&&!Array.isArray(n[i])&&t(n[i])}(t(e||{})),r}r.d(t,{K:function(){return n}})},94008:function(e,t,r){},90597:function(e,t,r){"use strict";r.d(t,{tG:function(){return o}});var n=r(32003);r(94008);let i={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function o(e){let t={};return void 0!==e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?(0,n.eC)(BigInt(e.r)):e.r,s:e.s?(0,n.eC)(BigInt(e.s)):e.s,chainId:(0,n.eC)(e.chainId),nonce:(0,n.eC)(e.nonce),...void 0!==e.yParity?{yParity:(0,n.eC)(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:(0,n.eC)(e.v)}:{}}))),void 0!==e.accessList&&(t.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?t.blobs=e.blobs.map(e=>(0,n.ci)(e)):t.blobs=e.blobs),void 0!==e.data&&(t.data=e.data),void 0!==e.from&&(t.from=e.from),void 0!==e.gas&&(t.gas=(0,n.eC)(e.gas)),void 0!==e.gasPrice&&(t.gasPrice=(0,n.eC)(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=(0,n.eC)(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(t.maxFeePerGas=(0,n.eC)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=(0,n.eC)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(t.nonce=(0,n.eC)(e.nonce)),void 0!==e.to&&(t.to=e.to),void 0!==e.type&&(t.type=i[e.type]),void 0!==e.value&&(t.value=(0,n.eC)(e.value)),t}},28782:function(e,t,r){"use strict";r.d(t,{w:function(){return a}});var n=r(76087),i=r(57448),o=r(56490),s=r(32003);function a(e,t){let r=(0,n.fr)((0,i.v)(e,{strict:!1})?(0,o.O0)(e):e);return"bytes"===(t||"hex")?r:(0,s.NC)(r)}},83395:function(e,t,r){"use strict";r.d(t,{n:function(){return n}});let n=r(69610).r},71525:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var n=r(84655),i=r(69610);let o=e=>(0,n.tP)((0,i.r)(e),0,4)},41709:function(e,t,r){"use strict";r.d(t,{W:function(){return o}});var n=r(48737),i=r(20111);let o=e=>(function(e){let t=!0,r="",n=0,o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i];if(["(",")",","].includes(a)&&(t=!0),"("===a&&n++,")"===a&&n--,t){if(0===n){if(" "===a&&["event","function",""].includes(o))o="";else if(o+=a,")"===a){s=!0;break}continue}if(" "===a){","!==e[i-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}o+=a,r+=a}}if(!s)throw new i.G("Unable to normalize signature.");return o})("string"==typeof e?e:(0,n.tQ)(e))},69610:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(56490),i=r(28782);let o=e=>(0,i.w)((0,n.O0)(e));var s=r(41709);function a(e){return o((0,s.W)(e))}},1522:function(e,t,r){"use strict";r.d(t,{k:function(){return n}});class n extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}},50277:function(e,t,r){"use strict";r.d(t,{S:function(){return o}});var n=r(95912);let i=new Map;function o({fn:e,id:t,shouldSplitBatch:r,wait:o=0,sort:s}){let a=async()=>{let t=u();c();let r=t.map(({args:e})=>e);0!==r.length&&e(r).then(e=>{s&&Array.isArray(e)&&e.sort(s);for(let r=0;r<t.length;r++){let{resolve:n}=t[r];n?.([e[r],e])}}).catch(e=>{for(let r=0;r<t.length;r++){let{reject:n}=t[r];n?.(e)}})},c=()=>i.delete(t),l=()=>u().map(({args:e})=>e),u=()=>i.get(t)||[],d=e=>i.set(t,[...u(),e]);return{flush:c,async schedule(e){let{promise:t,resolve:i,reject:s}=(0,n.n)();return(r?.([...l(),e])&&a(),u().length>0)?d({args:e,resolve:i,reject:s}):(d({args:e,resolve:i,reject:s}),setTimeout(a,o)),t}}}},95912:function(e,t,r){"use strict";function n(){let e=()=>void 0,t=()=>void 0;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}r.d(t,{n:function(){return n}})},47034:function(e,t,r){"use strict";r.d(t,{lh:function(){return n}});let n=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/},34360:function(e,t,r){"use strict";r.d(t,{mF:function(){return l}});var n=r(76363),i=r(30906),o=r(89053),s=r(19089),a=r(32003);function c(e){if(e&&0!==e.length)return e.reduce((e,{slot:t,value:r})=>{if(66!==t.length)throw new i.W_({size:t.length,targetSize:66,type:"hex"});if(66!==r.length)throw new i.W_({size:r.length,targetSize:66,type:"hex"});return e[t]=r,e},{})}function l(e){if(!e)return;let t={};for(let{address:r,...i}of e){if(!(0,s.U)(r,{strict:!1}))throw new n.b({address:r});if(t[r])throw new o.Nc({address:r});t[r]=function(e){let{balance:t,nonce:r,state:n,stateDiff:i,code:s}=e,l={};if(void 0!==s&&(l.code=s),void 0!==t&&(l.balance=(0,a.eC)(t)),void 0!==r&&(l.nonce=(0,a.eC)(r)),void 0!==n&&(l.state=c(n)),void 0!==i){if(l.state)throw new o.Z8;l.stateDiff=c(i)}return l}(i)}return t}},93313:function(e,t,r){"use strict";r.d(t,{P:function(){return n}});let n=(e,t,r)=>JSON.stringify(e,(e,r)=>{let n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n},r)},33494:function(e,t,r){"use strict";r.d(t,{F:function(){return l}});var n=r(78816),i=r(18399),o=r(76363),s=r(3262),a=r(91950),c=r(19089);function l(e){let{account:t,gasPrice:r,maxFeePerGas:l,maxPriorityFeePerGas:u,to:d}=e,f=t?(0,n.T)(t):void 0;if(f&&!(0,c.U)(f.address))throw new o.b({address:f.address});if(d&&!(0,c.U)(d))throw new o.b({address:d});if(void 0!==r&&(void 0!==l||void 0!==u))throw new a.xY;if(l&&l>i.zL)throw new s.Hh({maxFeePerGas:l});if(u&&l&&u>l)throw new s.cs({maxFeePerGas:l,maxPriorityFeePerGas:u})}},30859:function(e,t,r){"use strict";r.d(t,{d:function(){return o}});var n=r(49841),i=r(98426);function o(e,t="wei"){return(0,i.b)(e,n.ez[t])}},26737:function(e,t,r){"use strict";r.d(t,{o:function(){return o}});var n=r(49841),i=r(98426);function o(e,t="wei"){return(0,i.b)(e,n.Zn[t])}},98426:function(e,t,r){"use strict";function n(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[i,o]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return o=o.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${o?`.${o}`:""}`}r.d(t,{b:function(){return n}})},15273:function(e,t,r){"use strict";r.d(t,{secp256k1:function(){return eA}});var n=r(95423),i=r(88835),o=r(35979);let s=BigInt(0),a=BigInt(1);function c(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function l(e){if(!c(e))throw Error("Uint8Array expected")}function u(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function d(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function f(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?s:BigInt("0x"+e)}let h="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,p=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function g(e){if(l(e),h)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=p[e[r]];return t}let m={_0:48,_9:57,A:65,F:70,a:97,f:102};function y(e){return e>=m._0&&e<=m._9?e-m._0:e>=m.A&&e<=m.F?e-(m.A-10):e>=m.a&&e<=m.f?e-(m.a-10):void 0}function b(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(h)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=y(e.charCodeAt(i)),o=y(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function v(e){return f(g(e))}function w(e){return l(e),f(g(Uint8Array.from(e).reverse()))}function E(e,t){return b(e.toString(16).padStart(2*t,"0"))}function C(e,t){return E(e,t).reverse()}function A(e,t,r){let n;if("string"==typeof t)try{n=b(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(c(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function x(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];l(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let I=e=>"bigint"==typeof e&&s<=e;function N(e,t,r){return I(e)&&I(t)&&I(r)&&t<=e&&e<r}function S(e,t,r,n){if(!N(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let P=e=>(a<<BigInt(e))-a,O=e=>new Uint8Array(e),_=e=>Uint8Array.from(e),R={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||c(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function T(e,t,r={}){let n=(t,r,n)=>{let i=R[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function k(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}let B=BigInt(0),U=BigInt(1),M=BigInt(2),L=BigInt(3),D=BigInt(4),j=BigInt(5),F=BigInt(8);function q(e,t){let r=e%t;return r>=B?r:t+r}function z(e,t,r){let n=e;for(;t-- >B;)n*=n,n%=r;return n}function $(e,t){if(e===B)throw Error("invert: expected non-zero number");if(t<=B)throw Error("invert: expected positive modulus, got "+t);let r=q(e,t),n=t,i=B,o=U,s=U,a=B;for(;r!==B;){let e=n/r,t=n%r,c=i-s*e,l=o-a*e;n=r,r=t,i=s,o=a,s=c,a=l}if(n!==U)throw Error("invert: does not exist");return q(i,t)}function H(e,t){let r=(e.ORDER+U)/D,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function G(e,t){let r=(e.ORDER-j)/F,n=e.mul(t,M),i=e.pow(n,r),o=e.mul(t,i),s=e.mul(e.mul(o,M),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw Error("Cannot find square root");return a}let W=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function V(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function K(e,t){let r=(e.ORDER-U)/M,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!s)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function Z(e,t){void 0!==t&&(0,i.k8)(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Y(e,t,r=!1,n={}){let i;if(e<=B)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=Z(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:s,MASK:P(o),ZERO:B,ONE:U,create:t=>q(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return B<=t&&t<e},is0:e=>e===B,isOdd:e=>(e&U)===U,neg:t=>q(-t,e),eql:(e,t)=>e===t,sqr:t=>q(t*t,e),add:(t,r)=>q(t+r,e),sub:(t,r)=>q(t-r,e),mul:(t,r)=>q(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<B)throw Error("invalid exponent, negatives unsupported");if(r===B)return e.ONE;if(r===U)return t;let n=e.ONE,i=t;for(;r>B;)r&U&&(n=e.mul(n,i)),i=e.sqr(i),r>>=U;return n})(a,e,t),div:(t,r)=>q(t*$(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>$(t,e),sqrt:n.sqrt||(t=>(!i&&(i=e%D===L?H:e%F===j?G:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-U,r=0;for(;t%M===B;)t/=M,r++;let n=M,i=Y(e);for(;1===K(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return H;let o=i.pow(n,t),s=(t+U)/M;return function(e,n){if(e.is0(n))return n;if(1!==K(e,n))throw Error("Cannot find square root");let i=r,a=e.mul(e.ONE,o),c=e.pow(n,t),l=e.pow(n,s);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=U<<BigInt(i-t-1),o=e.pow(a,n);i=t,a=e.sqr(o),c=e.mul(c,a),l=e.mul(l,o)}return l}}(e)),i(a,t))),toBytes:e=>r?C(e,s):E(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?w(e):v(e)},invertBatch:e=>V(a,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(a)}function J(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function X(e){let t=J(e);return t+Math.ceil(t/2)}let Q=BigInt(0),ee=BigInt(1);function et(e,t){let r=t.negate();return e?r:t}function er(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function en(e,t){er(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:P(e),maxNumber:i,shiftBy:BigInt(e)}}function ei(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r,a=Number(e&i),c=e>>s;a>n&&(a-=o,c+=ee);let l=t*n,u=l+Math.abs(a)-1;return{nextN:c,offset:u,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}let eo=new WeakMap,es=new WeakMap;function ea(e){return es.get(e)||1}function ec(e){return T(e.Fp,W.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),T(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Z(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function el(e){void 0!==e.lowS&&u("lowS",e.lowS),void 0!==e.prehash&&u("prehash",e.prehash)}class eu extends Error{constructor(e=""){super(e)}}let ed={Err:eu,_tlv:{encode:(e,t)=>{let{Err:r}=ed;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=d(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?d(i.length/2|128):"";return d(e)+o+i+t},decode(e,t){let{Err:r}=ed,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let s=t.subarray(n,n+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=ed;if(e<ef)throw new t("integer: negative integers are not allowed");let r=d(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ed;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return v(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=ed,i=A("signature",e),{v:o,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=ed,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},ef=BigInt(0),eh=BigInt(1),ep=(BigInt(2),BigInt(3)),eg=BigInt(4),em=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ey=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eb=BigInt(0),ev=BigInt(1),ew=BigInt(2),eE=(e,t)=>(e+t/ew)/t,eC=Y(em,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),c=e*e*e%em,l=c*c*e%em,u=z(l,t,em)*l%em,d=z(u,t,em)*l%em,f=z(d,ew,em)*c%em,h=z(f,n,em)*f%em,p=z(h,i,em)*h%em,g=z(p,s,em)*p%em,m=z(g,a,em)*g%em,y=z(m,s,em)*p%em,b=z(y,t,em)*l%em,v=z(b,o,em)*h%em,w=z(v,r,em)*c%em,E=z(w,ew,em);if(!eC.eql(eC.sqr(E),e))throw Error("Cannot find square root");return E}}),eA=function(e,t){let r=t=>(function(e){let t=function(e){let t=ec(e);return T(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:i,nBitLength:o}=t,l=r.BYTES+1,d=2*r.BYTES+1;function f(e){return q(e,n)}let{ProjectivePoint:h,normPrivateKeyToScalar:p,weierstrassEquation:m,isWithinCurveOrder:y}=function(e){var t;let r=function(e){let t=ec(e);T(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=r,i=Y(r.n,r.nBitLength),o=r.toBytes||((e,t,r)=>{let i=t.toAffine();return x(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),l=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function d(e){let{a:t,b:i}=r,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,t)),i)}function f(e,t){let r=n.sqr(t),i=d(e);return n.eql(r,i)}if(!f(r.Gx,r.Gy))throw Error("bad curve params: generator point");let h=n.mul(n.pow(r.a,ep),eg),p=n.mul(n.sqr(r.b),BigInt(27));if(n.is0(n.add(h,p)))throw Error("bad curve params: a or b");function m(e){let t;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:s}=r;if(n&&"bigint"!=typeof e){if(c(e)&&(e=g(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:v(A("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(t=q(t,s)),S("private key",t,eh,s),t}function y(e){if(!(e instanceof E))throw Error("ProjectivePoint expected")}let b=k((e,t)=>{let{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};let s=e.is0();null==t&&(t=s?n.ONE:n.inv(o));let a=n.mul(r,t),c=n.mul(i,t),l=n.mul(o,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw Error("invZ was invalid");return{x:a,y:c}}),w=k(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");if(!f(t,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class E{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof E)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?E.ZERO:new E(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=V(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(E.fromAffine)}static fromHex(e){let t=E.fromAffine(l(A("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return E.BASE.multiply(m(e))}static msm(e,t){return function(e,t,r,n){!function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,o=n.length;if(i!==o)throw Error("arrays of points and scalars must have equal length");let c=e.ZERO,l=function(e){let t;for(t=0;e>s;e>>=a,t+=1);return t}(BigInt(i)),u=1;l>12?u=l-3:l>4?u=l-2:l>0&&(u=2);let d=P(u),f=Array(Number(d)+1).fill(c),h=Math.floor((t.BITS-1)/u)*u,p=c;for(let e=h;e>=0;e-=u){f.fill(c);for(let t=0;t<o;t++){let i=Number(n[t]>>BigInt(e)&d);f[i]=f[i].add(r[t])}let t=c;for(let e=f.length-1,r=c;e>0;e--)r=r.add(f[e]),t=t.add(r);if(p=p.add(t),0!==e)for(let e=0;e<u;e++)p=p.double()}return p}(E,i,e,t)}_setWindowSize(e){O.setWindowSize(this,e)}assertValidity(){w(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){y(e);let{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(o,i)),l=n.eql(n.mul(r,a),n.mul(s,i));return c&&l}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,ep),{px:o,py:s,pz:a}=this,c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(o,o),f=n.mul(s,s),h=n.mul(a,a),p=n.mul(o,s);return p=n.add(p,p),u=n.mul(o,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,h),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(p,c),u=n.mul(i,u),h=n.mul(e,h),p=n.sub(d,h),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,h),d=n.mul(d,p),l=n.add(l,d),h=n.mul(s,a),h=n.add(h,h),d=n.mul(h,p),c=n.sub(c,d),u=n.mul(h,f),u=n.add(u,u),new E(c,l,u=n.add(u,u))}add(e){y(e);let{px:t,py:i,pz:o}=this,{px:s,py:a,pz:c}=e,l=n.ZERO,u=n.ZERO,d=n.ZERO,f=r.a,h=n.mul(r.b,ep),p=n.mul(t,s),g=n.mul(i,a),m=n.mul(o,c),b=n.add(t,i),v=n.add(s,a);b=n.mul(b,v),v=n.add(p,g),b=n.sub(b,v),v=n.add(t,o);let w=n.add(s,c);return v=n.mul(v,w),w=n.add(p,m),v=n.sub(v,w),w=n.add(i,o),l=n.add(a,c),w=n.mul(w,l),l=n.add(g,m),w=n.sub(w,l),d=n.mul(f,v),l=n.mul(h,m),d=n.add(l,d),l=n.sub(g,d),d=n.add(g,d),u=n.mul(l,d),g=n.add(p,p),g=n.add(g,p),m=n.mul(f,m),v=n.mul(h,v),g=n.add(g,m),m=n.sub(p,m),m=n.mul(f,m),v=n.add(v,m),p=n.mul(g,v),u=n.add(u,p),p=n.mul(w,v),l=n.mul(b,l),l=n.sub(l,p),p=n.mul(b,g),d=n.mul(w,d),new E(l,u,d=n.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(E.ZERO)}wNAF(e){return O.wNAFCached(this,e,E.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;S("scalar",e,ef,i);let o=E.ZERO;if(e===ef)return o;if(this.is0()||e===eh)return this;if(!t||O.hasPrecomputes(this))return O.wNAFCachedUnsafe(this,e,E.normalizeZ);let{k1neg:s,k1:a,k2neg:c,k2:l}=t.splitScalar(e),u=o,d=o,f=this;for(;a>ef||l>ef;)a&eh&&(u=u.add(f)),l&eh&&(d=d.add(f)),f=f.double(),a>>=eh,l>>=eh;return s&&(u=u.negate()),c&&(d=d.negate()),d=new E(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i;let{endo:o,n:s}=r;if(S("scalar",e,eh,s),o){let{k1neg:r,k1:s,k2neg:a,k2:c}=o.splitScalar(e),{p:l,f:u}=this.wNAF(s),{p:d,f:f}=this.wNAF(c);l=O.constTimeNegate(r,l),d=O.constTimeNegate(a,d),d=new E(n.mul(d.px,o.beta),d.py,d.pz),t=l.add(d),i=u.add(f)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return E.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=E.BASE,i=(e,t)=>t!==ef&&t!==eh&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return b(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===eh)return!0;if(t)return t(E,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===eh?this:t?t(E,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return u("isCompressed",e),this.assertValidity(),o(E,this,e)}toHex(e=!0){return u("isCompressed",e),g(this.toRawBytes(e))}}E.BASE=new E(r.Gx,r.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO);let{endo:C,nBitLength:I}=r,O=(t=C?Math.ceil(I/2):I,{constTimeNegate:et,hasPrecomputes:e=>1!==ea(e),unsafeLadder(e,t,r=E.ZERO){let n=e;for(;t>Q;)t&ee&&(r=r.add(n)),n=n.double(),t>>=ee;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=en(r,t),o=[],s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,r,n){let i=E.ZERO,o=E.BASE,s=en(e,t);for(let e=0;e<s.windows;e++){let{nextN:t,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:d}=ei(n,e,s);n=t,c?o=o.add(et(u,r[d])):i=i.add(et(l,r[a]))}return{p:i,f:o}},wNAFUnsafe(e,r,n,i=E.ZERO){let o=en(e,t);for(let e=0;e<o.windows&&n!==Q;e++){let{nextN:t,offset:s,isZero:a,isNeg:c}=ei(n,e,o);if(n=t,!a){let e=r[s];i=i.add(c?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=eo.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&eo.set(t,r(n))),n},wNAFCached(e,t,r){let n=ea(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=ea(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){er(r,t),es.set(e,r),eo.delete(e)}});return{CURVE:r,ProjectivePoint:E,normPrivateKeyToScalar:m,weierstrassEquation:d,isWithinCurveOrder:function(e){return N(e,eh,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),o=r.toBytes(i.x);return(u("isCompressed",n),n)?x(Uint8Array.from([t.hasEvenY()?2:3]),o):x(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],i=e.subarray(1);if(t===l&&(2===n||3===n)){let e;let t=v(i);if(!N(t,eh,r.ORDER))throw Error("Point is not on curve");let o=m(t);try{e=r.sqrt(o)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&eh)===eh)&&(e=r.neg(e)),{x:t,y:e}}if(t===d&&4===n)return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+l+", or uncompressed "+d+", got "+t)}}),I=(e,t,r)=>v(e.slice(t,r));class R{constructor(e,t,r){S("r",e,eh,n),S("s",t,eh,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){return new R(I(e=A("compactSignature",e,2*i),0,i),I(e,i,2*i))}static fromDER(e){let{r:t,s:r}=ed.toSig(A("DER",e));return new R(t,r)}assertValidity(){}addRecoveryBit(e){return new R(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:o,recovery:s}=this,a=L(A("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");let c=2===s||3===s?i+t.n:i;if(c>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let l=(1&s)==0?"02":"03",u=h.fromHex(l+g(E(c,r.BYTES))),d=$(c,n),p=f(-a*d),m=f(o*d),y=h.BASE.multiplyAndAddUnsafe(u,p,m);if(!y)throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>n>>eh}normalizeS(){return this.hasHighS()?new R(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return b(this.toDERHex())}toDERHex(){return ed.hexFromSig(this)}toCompactRawBytes(){return b(this.toCompactHex())}toCompactHex(){return g(E(this.r,i))+g(E(this.s,i))}}function B(e){if("bigint"==typeof e)return!1;if(e instanceof h)return!0;let n=A("key",e).length,o=r.BYTES,s=o+1;if(!t.allowedPrivateKeyLengths&&i!==s)return n===s||n===2*o+1}let M=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=v(e),r=8*e.length-o;return r>0?t>>BigInt(r):t},L=t.bits2int_modN||function(e){return f(M(e))},D=P(o);function j(e){return S("num < 2^"+o,e,ef,D),E(e,i)}let F={lowS:t.lowS,prehash:!1},z={lowS:t.lowS,prehash:!1};return h.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return h.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===B(e))throw Error("first arg must be private key");if(!1===B(t))throw Error("second arg must be public key");return h.fromHex(t).multiply(p(e)).toRawBytes(r)},sign:function(e,i,o=F){let{seed:s,k2sig:a}=function(e,i,o=F){if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:s,randomBytes:a}=t,{lowS:c,prehash:l,extraEntropy:u}=o;null==c&&(c=!0),e=A("msgHash",e),el(o),l&&(e=A("prehashed msgHash",s(e)));let d=L(e),g=p(i),m=[j(g),j(d)];if(null!=u&&!1!==u){let e=!0===u?a(r.BYTES):u;m.push(A("extraEntropy",e))}return{seed:x(...m),k2sig:function(e){let t=M(e);if(!y(t))return;let r=$(t,n),i=h.BASE.multiply(t).toAffine(),o=f(i.x);if(o===ef)return;let s=f(r*f(d+o*g));if(s===ef)return;let a=(i.x===o?0:2)|Number(i.y&eh),l=s;if(c&&s>n>>eh)l=s>n>>eh?f(-s):s,a^=1;return new R(o,l,a)}}}(e,i,o);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=O(e),i=O(e),o=0,s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),c=(e=O(0))=>{i=a(_([0]),e),n=a(),0!==e.length&&(i=a(_([1]),e),n=a())},l=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=a()).slice();r.push(t),e+=n.length}return x(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(l()));)c();return s(),r}})(t.hash.outputLen,t.nByteLength,t.hmac)(s,a)},verify:function(e,r,i,o=z){let s,a;r=A("msgHash",r),i=A("publicKey",i);let{lowS:l,prehash:u,format:d}=o;if(el(o),"strict"in o)throw Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw Error("format must be compact or der");let p="string"==typeof e||c(e),g=!p&&!d&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!p&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(a=new R(e.r,e.s)),p){try{"compact"!==d&&(a=R.fromDER(e))}catch(e){if(!(e instanceof ed.Err))throw e}a||"der"===d||(a=R.fromCompact(e))}s=h.fromHex(i)}catch(e){return!1}if(!a||l&&a.hasHighS())return!1;u&&(r=t.hash(r));let{r:m,s:y}=a,b=L(r),v=$(y,n),w=f(b*v),E=f(m*v),C=h.BASE.multiplyAndAddUnsafe(s,w,E)?.toAffine();return!!C&&f(C.x)===m},ProjectivePoint:h,Signature:R,utils:{isValidPrivateKey(e){try{return p(e),!0}catch(e){return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let e=X(t.n);return function(e,t,r=!1){let n=e.length,i=J(t),o=X(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let s=q(r?w(e):v(e),t-U)+U;return r?C(s,i):E(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=h.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>(0,o.b)(t,e,(0,i.eV)(...r)),randomBytes:i.O6});return{...r(t),create:r}}({a:eb,b:BigInt(7),Fp:eC,n:ey,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ev*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=eE(t*e,ey),s=eE(-r*e,ey),a=q(e-o*t-s*n,ey),c=q(-o*r-s*t,ey),l=a>i,u=c>i;if(l&&(a=ey-a),u&&(c=ey-c),a>i||c>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:a,k2neg:u,k2:c}}}},n.JQ)},30345:function(e,t,r){"use strict";r.d(t,{FA:function(){return y},bq:function(){return g},gY:function(){return k},Em:function(){return h},p1:function(){return m},C6:function(){return O},uB:function(){return U},mr:function(){return D},uJ:function(){return M},Vk:function(){return L},tU:function(){return F},$U:function(){return j}});var n=r(71096),i=r.n(n),o=r(70939),s=r.n(o),a=r(45721),c=r.n(a),l=r(96961),u=r.n(l);i().extend(c()),i().extend(u());let d={...s(),name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}},f=["January","February","March","April","May","June","July","August","September","October","November","December"];i().locale("en-web3-modal",d);let h={getMonthNameByIndex:e=>f[e],getYear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date().toISOString();return i()(e).year()},getRelativeDateFromNow:e=>i()(e).locale("en-web3-modal").fromNow(!0),formatDate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD MMM";return i()(e).format(t)}};var p=r(25566);let g={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(void 0!==p&&void 0!==p.env?p.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},m={caipNetworkIdToNumber:e=>e?Number(e.split(":")[1]):void 0,parseEvmChainId(e){return"string"==typeof e?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace:(e,t)=>(null==e?void 0:e.filter(e=>e.chainNamespace===t))||[],getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){var r;if(!t)return;let n=e.find(e=>e.caipNetworkId===t);if(n)return n.name;let[i]=t.split(":");return(null===(r=g.CHAIN_NAME_MAP)||void 0===r?void 0:r[i])||void 0}},y=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var b="[big.js] ",v=b+"Invalid ",w=v+"decimal places",E=v+"rounding mode",C=b+"Division by zero",A={},x=void 0,I=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function N(e,t,r,n){var i=e.c;if(r===x&&(r=e.constructor.RM),0!==r&&1!==r&&2!==r&&3!==r)throw Error(E);if(t<1)n=3===r&&(n||!!i[0])||0===t&&(1===r&&i[0]>=5||2===r&&(i[0]>5||5===i[0]&&(n||i[1]!==x))),i.length=1,n?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(n=1===r&&i[t]>=5||2===r&&(i[t]>5||5===i[t]&&(n||i[t+1]!==x||1&i[t-1]))||3===r&&(n||!!i[0]),i.length=t,n){for(;++i[--t]>9;)if(i[t]=0,0===t){++e.e,i.unshift(1);break}}for(t=i.length;!i[--t];)i.pop()}return e}function S(e,t,r){var n=e.e,i=e.c.join(""),o=i.length;if(t)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0){if(++n>o)for(n-=o;n--;)i+="0";else n<o&&(i=i.slice(0,n)+"."+i.slice(n))}else o>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&r?"-"+i:i}A.abs=function(){var e=new this.constructor(this);return e.s=1,e},A.cmp=function(e){var t,r=this.c,n=(e=new this.constructor(e)).c,i=this.s,o=e.s,s=this.e,a=e.e;if(!r[0]||!n[0])return r[0]?i:n[0]?-o:0;if(i!=o)return i;if(t=i<0,s!=a)return s>a^t?1:-1;for(i=-1,o=(s=r.length)<(a=n.length)?s:a;++i<o;)if(r[i]!=n[i])return r[i]>n[i]^t?1:-1;return s==a?0:s>a^t?1:-1},A.div=function(e){var t=this.constructor,r=this.c,n=(e=new t(e)).c,i=this.s==e.s?1:-1,o=t.DP;if(o!==~~o||o<0||o>1e6)throw Error(w);if(!n[0])throw Error(C);if(!r[0])return e.s=i,e.c=[e.e=0],e;var s,a,c,l,u,d=n.slice(),f=s=n.length,h=r.length,p=r.slice(0,s),g=p.length,m=e,y=m.c=[],b=0,v=o+(m.e=this.e-e.e)+1;for(m.s=i,i=v<0?0:v,d.unshift(0);g++<s;)p.push(0);do{for(c=0;c<10;c++){if(s!=(g=p.length))l=s>g?1:-1;else for(u=-1,l=0;++u<s;)if(n[u]!=p[u]){l=n[u]>p[u]?1:-1;break}if(l<0){for(a=g==s?n:d;g;){if(p[--g]<a[g]){for(u=g;u&&!p[--u];)p[u]=9;--p[u],p[g]+=10}p[g]-=a[g]}for(;!p[0];)p.shift()}else break}y[b++]=l?c:++c,p[0]&&l?p[g]=r[f]||0:p=[r[f]]}while((f++<h||p[0]!==x)&&i--);return!y[0]&&1!=b&&(y.shift(),m.e--,v--),b>v&&N(m,v,t.RM,p[0]!==x),m},A.eq=function(e){return 0===this.cmp(e)},A.gt=function(e){return this.cmp(e)>0},A.gte=function(e){return this.cmp(e)>-1},A.lt=function(e){return 0>this.cmp(e)},A.lte=function(e){return 1>this.cmp(e)},A.minus=A.sub=function(e){var t,r,n,i,o=this.constructor,s=this.s,a=(e=new o(e)).s;if(s!=a)return e.s=-a,this.plus(e);var c=this.c.slice(),l=this.e,u=e.c,d=e.e;if(!c[0]||!u[0])return u[0]?e.s=-a:c[0]?e=new o(this):e.s=1,e;if(s=l-d){for((i=s<0)?(s=-s,n=c):(d=l,n=u),n.reverse(),a=s;a--;)n.push(0);n.reverse()}else for(r=((i=c.length<u.length)?c:u).length,s=a=0;a<r;a++)if(c[a]!=u[a]){i=c[a]<u[a];break}if(i&&(n=c,c=u,u=n,e.s=-e.s),(a=(r=u.length)-(t=c.length))>0)for(;a--;)c[t++]=0;for(a=t;r>s;){if(c[--r]<u[r]){for(t=r;t&&!c[--t];)c[t]=9;--c[t],c[r]+=10}c[r]-=u[r]}for(;0===c[--a];)c.pop();for(;0===c[0];)c.shift(),--d;return c[0]||(e.s=1,c=[d=0]),e.c=c,e.e=d,e},A.mod=function(e){var t,r=this,n=r.constructor,i=r.s,o=(e=new n(e)).s;if(!e.c[0])throw Error(C);return(r.s=e.s=1,t=1==e.cmp(r),r.s=i,e.s=o,t)?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=i,n.RM=o,this.minus(r.times(e)))},A.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},A.plus=A.add=function(e){var t,r,n,i=this.constructor;if(e=new i(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var o=this.e,s=this.c,a=e.e,c=e.c;if(!s[0]||!c[0])return c[0]||(s[0]?e=new i(this):e.s=this.s),e;if(s=s.slice(),t=o-a){for(t>0?(a=o,n=c):(t=-t,n=s),n.reverse();t--;)n.push(0);n.reverse()}for(s.length-c.length<0&&(n=c,c=s,s=n),t=c.length,r=0;t;s[t]%=10)r=(s[--t]=s[t]+c[t]+r)/10|0;for(r&&(s.unshift(r),++a),t=s.length;0===s[--t];)s.pop();return e.c=s,e.e=a,e},A.pow=function(e){var t=this,r=new t.constructor("1"),n=r,i=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(v+"exponent");for(i&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return i?r.div(n):n},A.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(v+"precision");return N(new this.constructor(this),e,t)},A.round=function(e,t){if(e===x)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(w);return N(new this.constructor(this),e+this.e+1,t)},A.sqrt=function(){var e,t,r,n=this.constructor,i=this.s,o=this.e,s=new n("0.5");if(!this.c[0])return new n(this);if(i<0)throw Error(b+"No square root");0===(i=Math.sqrt(+S(this,!0,!0)))||i===1/0?((t=this.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new n(((i=Math.sqrt(t))==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):e=new n(i+""),o=e.e+(n.DP+=4);do r=e,e=s.times(r.plus(this.div(r)));while(r.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return N(e,(n.DP-=4)+e.e+1,n.RM)},A.times=A.mul=function(e){var t,r=this.constructor,n=this.c,i=(e=new r(e)).c,o=n.length,s=i.length,a=this.e,c=e.e;if(e.s=this.s==e.s?1:-1,!n[0]||!i[0])return e.c=[e.e=0],e;for(e.e=a+c,o<s&&(t=n,n=i,i=t,c=o,o=s,s=c),t=Array(c=o+s);c--;)t[c]=0;for(a=s;a--;){for(s=0,c=o+a;c>a;)s=t[c]+i[a]*n[c-a-1]+s,t[c--]=s%10,s=s/10|0;t[c]=s}for(s?++e.e:t.shift(),a=t.length;!t[--a];)t.pop();return e.c=t,e},A.toExponential=function(e,t){var r=this,n=r.c[0];if(e!==x){if(e!==~~e||e<0||e>1e6)throw Error(w);for(r=N(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return S(r,!0,!!n)},A.toFixed=function(e,t){var r=this,n=r.c[0];if(e!==x){if(e!==~~e||e<0||e>1e6)throw Error(w);for(r=N(new r.constructor(r),e+r.e+1,t),e=e+r.e+1;r.c.length<e;)r.c.push(0)}return S(r,!1,!!n)},A[Symbol.for("nodejs.util.inspect.custom")]=A.toJSON=A.toString=function(){var e=this.constructor;return S(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},A.toNumber=function(){var e=+S(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(b+"Imprecise conversion");return e},A.toPrecision=function(e,t){var r=this,n=r.constructor,i=r.c[0];if(e!==x){if(e!==~~e||e<1||e>1e6)throw Error(v+"precision");for(r=N(new n(r),e,t);r.c.length<e;)r.c.push(0)}return S(r,e<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)},A.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(b+"valueOf disallowed");return S(this,this.e<=e.NE||this.e>=e.PE,!0)};var P=function e(){function t(r){if(!(this instanceof t))return r===x?e():new t(r);if(r instanceof t)this.s=r.s,this.e=r.e,this.c=r.c.slice();else{if("string"!=typeof r){if(!0===t.strict&&"bigint"!=typeof r)throw TypeError(v+"value");r=0===r&&1/r<0?"-0":String(r)}!function(e,t){var r,n,i;if(!I.test(t))throw Error(v+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),i=t.length,n=0;n<i&&"0"==t.charAt(n);)++n;if(n==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=r-n-1,e.c=[],r=0;n<=i;)e.c[r++]=+t.charAt(n++)}}(this,r)}this.constructor=t}return t.prototype=A,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();let O={bigNumber:e=>new P(e||0),multiply(e,t){if(void 0===e||void 0===t)return new P(0);let r=new P(e),n=new P(t);return r.times(n)},toFixed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===e||""===e?new P(0).toFixed(t):new P(e).toFixed(t)},formatNumberToLocalString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===e||""===e?"0.00":"number"==typeof e?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"})},parseLocalStringToNumber:e=>void 0===e||""===e?0:new P(e.replace(/,/gu,"")).toNumber()},_=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],R=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],T=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],k={getERC20Abi:e=>g.USDT_CONTRACT_ADDRESSES.includes(e)?T:_,getSwapAbi:()=>R};class B{on(e,t){var r;B.eventListeners.has(e)||B.eventListeners.set(e,new Set),null===(r=B.eventListeners.get(e))||void 0===r||r.add(t)}off(e,t){let r=B.eventListeners.get(e);r&&r.delete(t)}emit(e,t){let r=B.eventListeners.get(e);r&&r.forEach(e=>e(t))}clear(e){B.eventListeners.delete(e)}clearAll(){B.eventListeners.clear()}}B.eventListeners=new Map;let U={validateCaipAddress(e){var t;if((null===(t=e.split(":"))||void 0===t?void 0:t.length)!==3)throw Error("Invalid CAIP Address");return e},parseCaipAddress(e){let t=e.split(":");if(3!==t.length)throw Error("Invalid CAIP-10 address: ".concat(e));let[r,n,i]=t;if(!r||!n||!i)throw Error("Invalid CAIP-10 address: ".concat(e));return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(e){let t=e.split(":");if(2!==t.length)throw Error("Invalid CAIP-2 network id: ".concat(e));let[r,n]=t;if(!r||!n)throw Error("Invalid CAIP-2 network id: ".concat(e));return{chainNamespace:r,chainId:n}}},M={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function L(e){if(!e)throw Error("Namespace is required for CONNECTED_CONNECTOR_ID");return"@appkit/".concat(e,":connected_connector_id")}let D={setItem(e,t){j()&&void 0!==t&&localStorage.setItem(e,t)},getItem(e){if(j())return localStorage.getItem(e)||void 0},removeItem(e){j()&&localStorage.removeItem(e)},clear(){j()&&localStorage.clear()}};function j(){return"undefined"!=typeof window&&"undefined"!=typeof localStorage}function F(e,t){return"light"===t?{"--w3m-accent":(null==e?void 0:e["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(null==e?void 0:e["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}},24617:function(e,t,r){"use strict";r.d(t,{Ni:function(){return a.AccountController},AlertController:function(){return M.B},ApiController:function(){return p.Q},WM:function(){return N.W},fz:function(){return Z.f},Lr:function(){return g.L},RY:function(){return c.R},ConnectionController:function(){return C.l},f3:function(){return A.f},ConnectorController:function(){return x.ConnectorController},bq:function(){return f.bq},j1:function(){return k.j},a:function(){return V},Xs:function(){return O.X},IN:function(){return o.I},E5:function(){return r9},ph:function(){return E},OptionsController:function(){return m.OptionsController},Ie:function(){return P.I},RouterController:function(){return s.RouterController},wf:function(){return r4},Si:function(){return q.S},SnackController:function(){return I.K},MO:function(){return G.M},nY:function(){return F},ThemeController:function(){return S.u},fw:function(){return $},r9:function(){return T.r9}});var n,i,o=r(42415),s=r(17418),a=r(83334),c=r(88538),l=r(96768),u=r(82853),d=r(30345),f=r(16678),h=r(2217),p=r(36282),g=r(7987),m=r(42046);let y={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},b={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},v={providers:f.gy,selectedProvider:null,error:null,purchaseCurrency:y,paymentCurrency:b,purchaseCurrencies:[y],paymentCurrencies:[],quotesLoading:!1},w=(0,l.sj)(v),E=(0,h.P)({state:w,subscribe:e=>(0,l.Ld)(w,()=>e(w)),subscribeKey:(e,t)=>(0,u.VW)(w,e,t),setSelectedProvider(e){if(e&&"meld"===e.name){var t,r,n;let i=c.R.state.activeChain,o=i===d.bq.CHAIN.SOLANA?"SOL":"USDC",s=i&&null!==(n=null===(r=c.R.state.chains.get(i))||void 0===r?void 0:null===(t=r.accountState)||void 0===t?void 0:t.address)&&void 0!==n?n:"",a=new URL(e.url);a.searchParams.append("publicKey",f.a$),a.searchParams.append("destinationCurrencyCode",o),a.searchParams.append("walletAddress",s),a.searchParams.append("externalCustomerId",m.OptionsController.state.projectId),w.selectedProvider={...e,url:a.toString()}}else w.selectedProvider=e},setOnrampProviders(e){if(Array.isArray(e)&&e.every(e=>"string"==typeof e)){let t=f.gy.filter(t=>e.includes(t.name));w.providers=t}else w.providers=[]},setPurchaseCurrency(e){w.purchaseCurrency=e},setPaymentCurrency(e){w.paymentCurrency=e},setPurchaseAmount(e){E.state.purchaseAmount=e},setPaymentAmount(e){E.state.paymentAmount=e},async getAvailableCurrencies(){let e=await g.L.getOnrampOptions();w.purchaseCurrencies=e.purchaseCurrencies,w.paymentCurrencies=e.paymentCurrencies,w.paymentCurrency=e.paymentCurrencies[0]||b,w.purchaseCurrency=e.purchaseCurrencies[0]||y,await p.Q.fetchCurrencyImages(e.paymentCurrencies.map(e=>e.id)),await p.Q.fetchTokenImages(e.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){w.quotesLoading=!0;try{var e,t;let r=await g.L.getOnrampQuote({purchaseCurrency:w.purchaseCurrency,paymentCurrency:w.paymentCurrency,amount:(null===(e=w.paymentAmount)||void 0===e?void 0:e.toString())||"0",network:null===(t=w.purchaseCurrency)||void 0===t?void 0:t.symbol});return w.quotesLoading=!1,w.purchaseAmount=Number(null==r?void 0:r.purchaseAmount.amount),r}catch(e){return w.error=e.message,w.quotesLoading=!1,null}finally{w.quotesLoading=!1}},resetState(){w.selectedProvider=null,w.error=null,w.purchaseCurrency=y,w.paymentCurrency=b,w.purchaseCurrencies=[y],w.paymentCurrencies=[],w.paymentAmount=void 0,w.purchaseAmount=void 0,w.quotesLoading=!1}});var C=r(27948),A=r(98018),x=r(65326);r(32682);var I=r(61047),N=r(47664),S=r(53949),P=r(93767),O=r(66800);r(68707);var _=r(65314),R=r(12312),T=r(60153),k=r(5615),B=r(59500);let U={getGasPriceInEther:(e,t)=>Number(t*e)/1e18,getGasPriceInUSD(e,t,r){let n=U.getGasPriceInEther(t,r);return d.C6.bigNumber(e).times(n).toNumber()},getPriceImpact(e){let{sourceTokenAmount:t,sourceTokenPriceInUSD:r,toTokenPriceInUSD:n,toTokenAmount:i}=e,o=d.C6.bigNumber(t).times(r),s=d.C6.bigNumber(i).times(n);return o.minus(s).div(o).times(100).toNumber()},getMaxSlippage(e,t){let r=d.C6.bigNumber(e).div(100);return d.C6.multiply(t,r).toNumber()},getProviderFee(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.0085;return d.C6.bigNumber(e).times(t).toString()},isInsufficientNetworkTokenForGas:(e,t)=>!!d.C6.bigNumber(e).eq(0)||d.C6.bigNumber(d.C6.bigNumber(t||"0")).gt(e),isInsufficientSourceTokenForSwap(e,t,r){var n,i;let o=null==r?void 0:null===(i=r.find(e=>e.address===t))||void 0===i?void 0:null===(n=i.quantity)||void 0===n?void 0:n.numeric;return d.C6.bigNumber(o||"0").lt(e)}};var M=r(83801);let L={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:f.bq.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},D=(0,l.sj)({...L}),j={state:D,subscribe:e=>(0,l.Ld)(D,()=>e(D)),subscribeKey:(e,t)=>(0,u.VW)(D,e,t),getParams(){var e,t,r,n,i,o,s,l,u;let f=c.R.state.activeChain,h=null!==(u=a.AccountController.getCaipAddress(f))&&void 0!==u?u:c.R.state.activeCaipAddress,p=k.j.getPlainAddress(h),g=(0,T.EO)(),m=x.ConnectorController.getConnectorId(c.R.state.activeChain);if(!p)throw Error("No address found to swap the tokens from.");let y=!(null===(e=D.toToken)||void 0===e?void 0:e.address)||!(null===(t=D.toToken)||void 0===t?void 0:t.decimals),b=!(null===(r=D.sourceToken)||void 0===r?void 0:r.address)||!(null===(n=D.sourceToken)||void 0===n?void 0:n.decimals)||!d.C6.bigNumber(D.sourceTokenAmount).gt(0),v=!D.sourceTokenAmount;return{networkAddress:g,fromAddress:p,fromCaipAddress:h,sourceTokenAddress:null===(i=D.sourceToken)||void 0===i?void 0:i.address,toTokenAddress:null===(o=D.toToken)||void 0===o?void 0:o.address,toTokenAmount:D.toTokenAmount,toTokenDecimals:null===(s=D.toToken)||void 0===s?void 0:s.decimals,sourceTokenAmount:D.sourceTokenAmount,sourceTokenDecimals:null===(l=D.sourceToken)||void 0===l?void 0:l.decimals,invalidToToken:y,invalidSourceToken:b,invalidSourceTokenAmount:v,availableToSwap:h&&!y&&!b&&!v,isAuthConnector:m===d.bq.CONNECTOR_ID.AUTH}},setSourceToken(e){if(!e){D.sourceToken=e,D.sourceTokenAmount="",D.sourceTokenPriceInUSD=0;return}D.sourceToken=e,F.setTokenPrice(e.address,"sourceToken")},setSourceTokenAmount(e){D.sourceTokenAmount=e},setToToken(e){if(!e){D.toToken=e,D.toTokenAmount="",D.toTokenPriceInUSD=0;return}D.toToken=e,F.setTokenPrice(e.address,"toToken")},setToTokenAmount(e){D.toTokenAmount=e?d.C6.toFixed(e,6):""},async setTokenPrice(e,t){let r=D.tokensPriceMap[e]||0;r||(D.loadingPrices=!0,r=await F.getAddressPrice(e)),"sourceToken"===t?D.sourceTokenPriceInUSD=r:"toToken"===t&&(D.toTokenPriceInUSD=r),D.loadingPrices&&(D.loadingPrices=!1),F.getParams().availableToSwap&&F.swapTokens()},switchTokens(){if(D.initializing||!D.initialized)return;let e=D.toToken?{...D.toToken}:void 0,t=D.sourceToken?{...D.sourceToken}:void 0,r=e&&""===D.toTokenAmount?"1":D.toTokenAmount;F.setSourceToken(e),F.setToToken(t),F.setSourceTokenAmount(r),F.setToTokenAmount(""),F.swapTokens()},resetState(){D.myTokensWithBalance=L.myTokensWithBalance,D.tokensPriceMap=L.tokensPriceMap,D.initialized=L.initialized,D.initializing=L.initializing,D.sourceToken=L.sourceToken,D.sourceTokenAmount=L.sourceTokenAmount,D.sourceTokenPriceInUSD=L.sourceTokenPriceInUSD,D.toToken=L.toToken,D.toTokenAmount=L.toTokenAmount,D.toTokenPriceInUSD=L.toTokenPriceInUSD,D.networkPrice=L.networkPrice,D.networkTokenSymbol=L.networkTokenSymbol,D.networkBalanceInUSD=L.networkBalanceInUSD,D.inputError=L.inputError},resetValues(){var e;let{networkAddress:t}=F.getParams(),r=null===(e=D.tokens)||void 0===e?void 0:e.find(e=>e.address===t);F.setSourceToken(r),F.setToToken(void 0)},getApprovalLoadingState:()=>D.loadingApprovalTransaction,clearError(){D.transactionError=void 0},async initializeState(){if(!D.initializing){if(D.initializing=!0,!D.initialized)try{await F.fetchTokens(),D.initialized=!0}catch(e){D.initialized=!1,I.K.showError("Failed to initialize swap"),s.RouterController.goBack()}D.initializing=!1}},async fetchTokens(){var e;let{networkAddress:t}=F.getParams();await F.getNetworkTokenPrice(),await F.getMyTokensWithBalance();let r=null===(e=D.myTokensWithBalance)||void 0===e?void 0:e.find(e=>e.address===t);r&&(D.networkTokenSymbol=r.symbol,F.setSourceToken(r),F.setSourceTokenAmount("0"))},async getTokenList(){var e;let t=null===(e=c.R.state.activeCaipNetwork)||void 0===e?void 0:e.caipNetworkId;if(D.caipNetworkId!==t||!D.tokens)try{D.tokensLoading=!0;let e=await B.n.getTokenList(t);D.tokens=e,D.caipNetworkId=t,D.popularTokens=e.sort((e,t)=>e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0),D.suggestedTokens=e.filter(e=>!!f.bq.SWAP_SUGGESTED_TOKENS.includes(e.symbol))}catch(e){D.tokens=[],D.popularTokens=[],D.suggestedTokens=[]}finally{D.tokensLoading=!1}},async getAddressPrice(e){var t,r;let n=D.tokensPriceMap[e];if(n)return n;let i=await g.L.fetchTokenPrice({addresses:[e]}),o=(null==i?void 0:i.fungibles)||[],s=[...D.tokens||[],...D.myTokensWithBalance||[]],a=null==s?void 0:null===(t=s.find(t=>t.address===e))||void 0===t?void 0:t.symbol,c=parseFloat(((null===(r=o.find(e=>e.symbol.toLowerCase()===(null==a?void 0:a.toLowerCase())))||void 0===r?void 0:r.price)||0).toString());return D.tokensPriceMap[e]=c,c},async getNetworkTokenPrice(){var e;let{networkAddress:t}=F.getParams(),r=null===(e=(await g.L.fetchTokenPrice({addresses:[t]}).catch(()=>(I.K.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles)||void 0===e?void 0:e[0],n=(null==r?void 0:r.price.toString())||"0";D.tokensPriceMap[t]=parseFloat(n),D.networkTokenSymbol=(null==r?void 0:r.symbol)||"",D.networkPrice=n},async getMyTokensWithBalance(e){let t=await R.Q.getMyTokensWithBalance(e),r=B.n.mapBalancesToSwapTokens(t);r&&(await F.getInitialGasPrice(),F.setBalances(r))},setBalances(e){let{networkAddress:t}=F.getParams(),r=c.R.state.activeCaipNetwork;if(!r)return;let n=e.find(e=>e.address===t);e.forEach(e=>{D.tokensPriceMap[e.address]=e.price||0}),D.myTokensWithBalance=e.filter(e=>e.address.startsWith(r.caipNetworkId)),D.networkBalanceInUSD=n?d.C6.multiply(n.quantity.numeric,n.price).toString():"0"},async getInitialGasPrice(){var e,t,r,n;let i=await B.n.fetchGasPrice();if(!i)return{gasPrice:null,gasPriceInUSD:null};switch(null===(t=c.R.state)||void 0===t?void 0:null===(e=t.activeCaipNetwork)||void 0===e?void 0:e.chainNamespace){case d.bq.CHAIN.SOLANA:return D.gasFee=null!==(r=i.standard)&&void 0!==r?r:"0",D.gasPriceInUSD=d.C6.multiply(i.standard,D.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(D.gasFee),gasPriceInUSD:Number(D.gasPriceInUSD)};case d.bq.CHAIN.EVM:default:let o=null!==(n=i.standard)&&void 0!==n?n:"0",s=BigInt(o),a=BigInt(15e4),l=U.getGasPriceInUSD(D.networkPrice,a,s);return D.gasFee=o,D.gasPriceInUSD=l,{gasPrice:s,gasPriceInUSD:l}}},async swapTokens(){let e=a.AccountController.state.address,t=D.sourceToken,r=D.toToken,n=d.C6.bigNumber(D.sourceTokenAmount).gt(0);if(n||F.setToTokenAmount(""),!r||!t||D.loadingPrices||!n)return;D.loadingQuote=!0;let i=d.C6.bigNumber(D.sourceTokenAmount).times(10**t.decimals).round(0);try{var o,s;let n=await g.L.fetchSwapQuote({userAddress:e,from:t.address,to:r.address,gasPrice:D.gasFee,amount:i.toString()});D.loadingQuote=!1;let a=null==n?void 0:null===(s=n.quotes)||void 0===s?void 0:null===(o=s[0])||void 0===o?void 0:o.toAmount;if(!a){M.B.open({displayMessage:"Incorrect amount",debugMessage:"Please enter a valid amount"},"error");return}let c=d.C6.bigNumber(a).div(10**r.decimals).toString();F.setToTokenAmount(c),F.hasInsufficientToken(D.sourceTokenAmount,t.address)?D.inputError="Insufficient balance":(D.inputError=void 0,F.setTransactionDetails())}catch(e){D.loadingQuote=!1,D.inputError="Insufficient balance"}},async getTransaction(){let{fromCaipAddress:e,availableToSwap:t}=F.getParams(),r=D.sourceToken,n=D.toToken;if(e&&t&&r&&n&&!D.loadingQuote)try{let t;return D.loadingBuildTransaction=!0,t=await B.n.fetchSwapAllowance({userAddress:e,tokenAddress:r.address,sourceTokenAmount:D.sourceTokenAmount,sourceTokenDecimals:r.decimals})?await F.createSwapTransaction():await F.createAllowanceTransaction(),D.loadingBuildTransaction=!1,D.fetchError=!1,t}catch(e){s.RouterController.goBack(),I.K.showError("Failed to check allowance"),D.loadingBuildTransaction=!1,D.approvalTransaction=void 0,D.swapTransaction=void 0,D.fetchError=!0;return}},async createAllowanceTransaction(){let{fromCaipAddress:e,sourceTokenAddress:t,toTokenAddress:r}=F.getParams();if(e&&r){if(!t)throw Error("createAllowanceTransaction - No source token address found.");try{let n=await g.L.generateApproveCalldata({from:t,to:r,userAddress:e}),i=k.j.getPlainAddress(n.tx.from);if(!i)throw Error("SwapController:createAllowanceTransaction - address is required");let o={data:n.tx.data,to:i,gasPrice:BigInt(n.tx.eip155.gasPrice),value:BigInt(n.tx.value),toAmount:D.toTokenAmount};return D.swapTransaction=void 0,D.approvalTransaction={data:o.data,to:o.to,gasPrice:o.gasPrice,value:o.value,toAmount:o.toAmount},{data:o.data,to:o.to,gasPrice:o.gasPrice,value:o.value,toAmount:o.toAmount}}catch(e){s.RouterController.goBack(),I.K.showError("Failed to create approval transaction"),D.approvalTransaction=void 0,D.swapTransaction=void 0,D.fetchError=!0;return}}},async createSwapTransaction(){var e;let{networkAddress:t,fromCaipAddress:r,sourceTokenAmount:n}=F.getParams(),i=D.sourceToken,o=D.toToken;if(!r||!n||!i||!o)return;let a=null===(e=C.l.parseUnits(n,i.decimals))||void 0===e?void 0:e.toString();try{let e=await g.L.generateSwapCalldata({userAddress:r,from:i.address,to:o.address,amount:a,disableEstimate:!0}),n=i.address===t,s=BigInt(e.tx.eip155.gas),c=BigInt(e.tx.eip155.gasPrice),l=k.j.getPlainAddress(e.tx.to);if(!l)throw Error("SwapController:createSwapTransaction - address is required");let u={data:e.tx.data,to:l,gas:s,gasPrice:c,value:n?BigInt(null!=a?a:"0"):BigInt("0"),toAmount:D.toTokenAmount};return D.gasPriceInUSD=U.getGasPriceInUSD(D.networkPrice,s,c),D.approvalTransaction=void 0,D.swapTransaction=u,u}catch(e){s.RouterController.goBack(),I.K.showError("Failed to create transaction"),D.approvalTransaction=void 0,D.swapTransaction=void 0,D.fetchError=!0;return}},onEmbeddedWalletApprovalSuccess(){I.K.showLoading("Approve limit increase in your wallet"),s.RouterController.replace("SwapPreview")},async sendTransactionForApproval(e){let{fromAddress:t,isAuthConnector:r}=F.getParams();D.loadingApprovalTransaction=!0,r?s.RouterController.pushTransactionStack({onSuccess:F.onEmbeddedWalletApprovalSuccess}):I.K.showLoading("Approve limit increase in your wallet");try{await C.l.sendTransaction({address:t,to:e.to,data:e.data,value:e.value,chainNamespace:d.bq.CHAIN.EVM}),await F.swapTokens(),await F.getTransaction(),D.approvalTransaction=void 0,D.loadingApprovalTransaction=!1}catch(e){var n,i,o;D.transactionError=null==e?void 0:e.displayMessage,D.loadingApprovalTransaction=!1,I.K.showError((null==e?void 0:e.displayMessage)||"Transaction error"),O.X.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:(null==e?void 0:e.displayMessage)||(null==e?void 0:e.message)||"Unknown",network:(null===(n=c.R.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId)||"",swapFromToken:(null===(i=F.state.sourceToken)||void 0===i?void 0:i.symbol)||"",swapToToken:(null===(o=F.state.toToken)||void 0===o?void 0:o.symbol)||"",swapFromAmount:F.state.sourceTokenAmount||"",swapToAmount:F.state.toTokenAmount||"",isSmartAccount:(0,T.r9)(d.bq.CHAIN.EVM)===_.y.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(e){var t,r,n,i,o,a,l,u,f,h,p,g;if(!e)return;let{fromAddress:m,toTokenAmount:y,isAuthConnector:b}=F.getParams();D.loadingTransaction=!0;let v="Swapping ".concat(null===(t=D.sourceToken)||void 0===t?void 0:t.symbol," to ").concat(d.C6.formatNumberToLocalString(y,3)," ").concat(null===(r=D.toToken)||void 0===r?void 0:r.symbol),w="Swapped ".concat(null===(n=D.sourceToken)||void 0===n?void 0:n.symbol," to ").concat(d.C6.formatNumberToLocalString(y,3)," ").concat(null===(i=D.toToken)||void 0===i?void 0:i.symbol);b?s.RouterController.pushTransactionStack({onSuccess(){s.RouterController.replace("Account"),I.K.showLoading(v),j.resetState()}}):I.K.showLoading("Confirm transaction in your wallet");try{let t=[null===(o=D.sourceToken)||void 0===o?void 0:o.address,null===(a=D.toToken)||void 0===a?void 0:a.address].join(","),r=await C.l.sendTransaction({address:m,to:e.to,data:e.data,value:e.value,chainNamespace:d.bq.CHAIN.EVM});return D.loadingTransaction=!1,I.K.showSuccess(w),O.X.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:(null===(l=c.R.state.activeCaipNetwork)||void 0===l?void 0:l.caipNetworkId)||"",swapFromToken:(null===(u=F.state.sourceToken)||void 0===u?void 0:u.symbol)||"",swapToToken:(null===(f=F.state.toToken)||void 0===f?void 0:f.symbol)||"",swapFromAmount:F.state.sourceTokenAmount||"",swapToAmount:F.state.toTokenAmount||"",isSmartAccount:(0,T.r9)(d.bq.CHAIN.EVM)===_.y.ACCOUNT_TYPES.SMART_ACCOUNT}}),j.resetState(),b||s.RouterController.replace("Account"),j.getMyTokensWithBalance(t),r}catch(e){D.transactionError=null==e?void 0:e.displayMessage,D.loadingTransaction=!1,I.K.showError((null==e?void 0:e.displayMessage)||"Transaction error"),O.X.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:(null==e?void 0:e.displayMessage)||(null==e?void 0:e.message)||"Unknown",network:(null===(h=c.R.state.activeCaipNetwork)||void 0===h?void 0:h.caipNetworkId)||"",swapFromToken:(null===(p=F.state.sourceToken)||void 0===p?void 0:p.symbol)||"",swapToToken:(null===(g=F.state.toToken)||void 0===g?void 0:g.symbol)||"",swapFromAmount:F.state.sourceTokenAmount||"",swapToAmount:F.state.toTokenAmount||"",isSmartAccount:(0,T.r9)(d.bq.CHAIN.EVM)===_.y.ACCOUNT_TYPES.SMART_ACCOUNT}});return}},hasInsufficientToken:(e,t)=>U.isInsufficientSourceTokenForSwap(e,t,D.myTokensWithBalance),setTransactionDetails(){let{toTokenAddress:e,toTokenDecimals:t}=F.getParams();e&&t&&(D.gasPriceInUSD=U.getGasPriceInUSD(D.networkPrice,BigInt(D.gasFee),BigInt(15e4)),D.priceImpact=U.getPriceImpact({sourceTokenAmount:D.sourceTokenAmount,sourceTokenPriceInUSD:D.sourceTokenPriceInUSD,toTokenPriceInUSD:D.toTokenPriceInUSD,toTokenAmount:D.toTokenAmount}),D.maxSlippage=U.getMaxSlippage(D.slippage,D.toTokenAmount),D.providerFee=U.getProviderFee(D.sourceTokenAmount))}},F=(0,h.P)(j);var q=r(82207);let z=(0,l.sj)({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),$=(0,h.P)({state:z,subscribe:e=>(0,l.Ld)(z,()=>e(z)),subscribeKey:(e,t)=>(0,u.VW)(z,e,t),showTooltip(e){let{message:t,triggerRect:r,variant:n}=e;z.open=!0,z.message=t,z.triggerRect=r,z.variant=n},hide(){z.open=!1,z.message="",z.triggerRect={width:0,height:0,top:0,left:0}}}),H={convertEVMChainIdToCoinType(e){if(e>=2147483648)throw Error("Invalid chainId");return(2147483648|e)>>>0}};var G=r(87251);let W=(0,l.sj)({suggestions:[],loading:!1}),V=(0,h.P)({state:W,subscribe:e=>(0,l.Ld)(W,()=>e(W)),subscribeKey:(e,t)=>(0,u.VW)(W,e,t),async resolveName(e){try{return await g.L.lookupEnsName(e)}catch(e){var t,r;throw Error((null==e?void 0:null===(r=e.reasons)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.description)||"Error resolving name")}},async isNameRegistered(e){try{return await g.L.lookupEnsName(e),!0}catch(e){return!1}},async getSuggestions(e){try{W.loading=!0,W.suggestions=[];let t=await g.L.getEnsNameSuggestions(e);return W.suggestions=t.suggestions||[],W.suggestions}catch(e){throw Error(V.parseEnsApiError(e,"Error fetching name suggestions"))}finally{W.loading=!1}},async getNamesForAddress(e){try{if(!c.R.state.activeCaipNetwork)return[];let t=G.M.getEnsFromCacheForAddress(e);if(t)return t;let r=await g.L.reverseLookupEnsName({address:e});return G.M.updateEnsCache({address:e,ens:r,timestamp:Date.now()}),r}catch(e){throw Error(V.parseEnsApiError(e,"Error fetching names for address"))}},async registerName(e){let t=c.R.state.activeCaipNetwork,r=a.AccountController.state.address,n=x.ConnectorController.getAuthConnector();if(!t)throw Error("Network not found");if(!r||!n)throw Error("Address or auth connector not found");W.loading=!0;try{let n=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});s.RouterController.pushTransactionStack({onCancel(){s.RouterController.replace("RegisterAccountName")}});let i=await C.l.signMessage(n);W.loading=!1;let o=t.id;if(!o)throw Error("Network not found");let c=H.convertEVMChainIdToCoinType(Number(o));await g.L.registerEnsName({coinType:c,address:r,signature:i,message:n}),a.AccountController.setProfileName(e,t.chainNamespace),G.M.updateEnsCache({address:r,ens:[{name:e,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),s.RouterController.replace("RegisterAccountNameSuccess")}catch(r){let t=V.parseEnsApiError(r,"Error registering name ".concat(e));throw s.RouterController.replace("RegisterAccountName"),Error(t)}finally{W.loading=!1}},validateName:e=>/^[a-zA-Z0-9-]{4,}$/u.test(e),parseEnsApiError(e,t){var r,n;return(null==e?void 0:null===(n=e.reasons)||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.description)||t}});r(73204),(0,l.sj)({isLegalCheckboxChecked:!1});class K extends Error{}(0,l.sj)({paymentAsset:null,amount:10,tokenAmount:0,priceLoading:!1,error:null,exchanges:[],isLoading:!1,currentPayment:void 0,isPaymentInProgress:!1,paymentId:"",assets:[]});var Z=r(47301);r(8385),r(30808),r(15133),r(58020),r(55445),r(65383);var Y=r(40537);r(76454),r(3897),r(56076),r(17607),r(7223),r(17310),r(62016),r(28068),r(56028),r(94718),r(2662);var J=r(92869);r(89438),r(65786),r(67226),r(19507),r(69911),r(10790),r(90337),r(64639),r(90645),r(72986),r(91883),r(55546),r(12434),r(43811),r(37323),r(64915),r(90398),r(85249),r(62575),r(12709),r(76144),r(12426),r(69789),r(2785),r(64271),r(30665),r(95633),r(15189),r(38210),new(r(71703)).k(128),r(78794),r(98393),r(25616),(0,J.eC)(0,{size:32}),r(16067),r(63822),r(67663),r(33526),r(32935),RegExp("(?<protocol>https?:\\/\\/[^\\/]*|ipfs:\\/|ipns:\\/|ar:\\/)?(?<root>\\/)?(?<subpath>ipfs\\/|ipns\\/)?(?<target>[\\w\\-.]+)(?<subtarget>\\/.*)?"),RegExp("^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\\/(?<target>[\\w\\-.]+))?(?<subtarget>\\/.*)?$"),r(91535),r(96934),r(83421),r(46495),r(39460),r(14231),r(36909),r(41637),r(1095),r(20569),r(40476),r(77880),r(9059),r(25968),r(53604),r(25215),r(37720),r(92090),r(17373),r(87981),r(12167),r(61684),r(98167),r(38780),r(54166),r(31391),RegExp("^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\\/\\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\\n)(?<address>0x[a-fA-F0-9]{40})\\n\\n(?:(?<statement>.*)\\n\\n)?"),RegExp("(?:URI: (?<uri>.+))\\n(?:Version: (?<version>.+))\\n(?:Chain ID: (?<chainId>\\d+))\\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\\n(?:Issued At: (?<issuedAt>.+))(?:\\nExpiration Time: (?<expirationTime>.+))?(?:\\nNot Before: (?<notBefore>.+))?(?:\\nRequest ID: (?<requestId>.+))?"),r(76555),r(29751),r(71847),r(54414),r(54003),r(46905),r(46633),r(47159),r(21086),r(84041),r(25566),r(84398).lW,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let X=BigInt(4294967296-1),Q=BigInt(32);function ee(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?{h:Number(e&X),l:Number(e>>Q&X)}:{h:0|Number(e>>Q&X),l:0|Number(e&X)}}function et(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:r,l:s}=ee(e[o],t);[n[o],i[o]]=[r,s]}return[n,i]}let er=(e,t,r)=>e>>>r,en=(e,t,r)=>e<<32-r|t>>>r,ei=(e,t,r)=>e>>>r|t<<32-r,eo=(e,t,r)=>e<<32-r|t>>>r,es=(e,t,r)=>e<<64-r|t>>>r-32,ea=(e,t,r)=>e>>>r-32|t<<64-r,ec=(e,t)=>t,el=(e,t)=>e,eu=(e,t,r)=>e<<r|t>>>32-r,ed=(e,t,r)=>t<<r|e>>>32-r,ef=(e,t,r)=>t<<r-32|e>>>64-r,eh=(e,t,r)=>e<<r-32|t>>>64-r;function ep(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}}let eg=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),em=(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,ey=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),eb=(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,ev=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),ew=(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0,eE="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function eC(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function eA(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function ex(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!eC(e))throw Error("Uint8Array expected");if(r.length>0&&!r.includes(e.length))throw Error("Uint8Array expected of length "+r+", got length="+e.length)}function eI(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function eN(e,t){ex(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function eS(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function eP(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let e=0;e<t.length;e++)t[e].fill(0)}function eO(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function e_(e,t){return e<<32-t|e>>>t}let eR=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function eT(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}let ek=eR?e=>e:e=>eT(e),eB=eR?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=eT(e[t]);return e},eU="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,eM=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function eL(e){if(ex(e),eU)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=eM[e[r]];return t}let eD={_0:48,_9:57,A:65,F:70,a:97,f:102};function ej(e){return e>=eD._0&&e<=eD._9?e-eD._0:e>=eD.A&&e<=eD.F?e-(eD.A-10):e>=eD.a&&e<=eD.f?e-(eD.a-10):void 0}function eF(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(eU)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=ej(e.charCodeAt(i)),o=ej(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function eq(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),ex(e),e}function ez(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=0;for(let e=0;e<t.length;e++){let r=t[e];ex(r),n+=r.length}let i=new Uint8Array(n);for(let e=0,r=0;e<t.length;e++){let n=t[e];i.set(n,r),r+=n.length}return i}class e${}function eH(e){let t=t=>e().update(eq(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function eG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(eE&&"function"==typeof eE.getRandomValues)return eE.getRandomValues(new Uint8Array(e));if(eE&&"function"==typeof eE.randomBytes)return Uint8Array.from(eE.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}let eW=BigInt(0),eV=BigInt(1),eK=BigInt(2),eZ=BigInt(7),eY=BigInt(256),eJ=BigInt(113),eX=[],eQ=[],e0=[];for(let e=0,t=eV,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],eX.push(2*(5*n+r)),eQ.push((e+1)*(e+2)/2%64);let i=eW;for(let e=0;e<7;e++)(t=(t<<eV^(t>>eZ)*eJ)%eY)&eK&&(i^=eV<<(eV<<BigInt(e))-eV);e0.push(i)}let e1=et(e0,!0),e2=e1[0],e6=e1[1],e5=(e,t,r)=>r>32?ef(e,t,r):eu(e,t,r),e8=(e,t,r)=>r>32?eh(e,t,r):ed(e,t,r);class e3 extends e${clone(){return this._cloneInto()}keccak(){eB(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],s=r[i+1],a=e5(o,s,1)^r[n],c=e8(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=eQ[r],o=e5(t,i,n),s=e8(t,i,n),a=eX[r];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=e2[n],e[1]^=e6[n]}eP(r)}(this.state32,this.rounds),eB(this.state32),this.posOut=0,this.pos=0}update(e){eI(this),ex(e=eq(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){eI(this,!1),ex(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return eA(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(eN(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,eP(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new e3(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,eA(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=eS(this.state)}}eH(()=>new e3(136,1,32));class e4 extends e${update(e){eI(this),ex(e=eq(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let o=0;o<i;){let s=Math.min(n-this.pos,i-o);if(s===n){let t=eO(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){eI(this),eN(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,eP(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+l,a,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=eO(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=a/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.destroyed=o,e.finished=i,e.length=n,e.pos=s,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=eO(this.buffer)}}let e9=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),e7=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),te=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),tt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tr=new Uint32Array(64);class tn extends e4{get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)tr[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=tr[e-15],r=tr[e-2],n=e_(t,7)^e_(t,18)^t>>>3,i=e_(r,17)^e_(r,19)^r>>>10;tr[e]=i+tr[e-7]+n+tr[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){var u,d,f,h;let t=l+(e_(s,6)^e_(s,11)^e_(s,25))+((u=s)&a^~u&c)+tt[e]+tr[e]|0,p=(e_(r,2)^e_(r,13)^e_(r,22))+((d=r)&(f=n)^d&(h=i)^f&h)|0;l=c,c=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+p|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,o,s,a,c,l)}roundClean(){eP(tr)}destroy(){this.set(0,0,0,0,0,0,0,0),eP(this.buffer)}constructor(e=32){super(64,e,8,!1),this.A=0|e9[0],this.B=0|e9[1],this.C=0|e9[2],this.D=0|e9[3],this.E=0|e9[4],this.F=0|e9[5],this.G=0|e9[6],this.H=0|e9[7]}}let ti=et(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),to=ti[0],ts=ti[1],ta=new Uint32Array(80),tc=new Uint32Array(80);class tl extends e4{get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:h,Hh:p,Hl:g}=this;return[e,t,r,n,i,o,s,a,c,l,u,d,f,h,p,g]}set(e,t,r,n,i,o,s,a,c,l,u,d,f,h,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)ta[r]=e.getUint32(t),tc[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|ta[e-15],r=0|tc[e-15],n=ei(t,r,1)^ei(t,r,8)^er(t,r,7),i=eo(t,r,1)^eo(t,r,8)^en(t,r,7),o=0|ta[e-2],s=0|tc[e-2],a=ei(o,s,19)^es(o,s,61)^er(o,s,6),c=ey(i,eo(o,s,19)^ea(o,s,61)^en(o,s,6),tc[e-7],tc[e-16]),l=eb(c,n,a,ta[e-7],ta[e-16]);ta[e]=0|l,tc[e]=0|c}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){let t=ei(u,d,14)^ei(u,d,18)^es(u,d,41),b=eo(u,d,14)^eo(u,d,18)^ea(u,d,41),v=u&f^~u&p,w=ev(y,b,d&h^~d&g,ts[e],tc[e]),E=ew(w,m,t,v,to[e],ta[e]),C=0|w,A=ei(r,n,28)^es(r,n,34)^es(r,n,39),x=eo(r,n,28)^ea(r,n,34)^ea(r,n,39),I=r&i^r&s^i&s,N=n&o^n&a^o&a;m=0|p,y=0|g,p=0|f,g=0|h,f=0|u,h=0|d,({h:u,l:d}=ep(0|c,0|l,0|E,0|C)),c=0|s,l=0|a,s=0|i,a=0|o,i=0|r,o=0|n;let S=eg(C,x,N);r=em(S,E,A,I),n=0|S}({h:r,l:n}=ep(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=ep(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=ep(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:l}=ep(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=ep(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:h}=ep(0|this.Fh,0|this.Fl,0|f,0|h)),({h:p,l:g}=ep(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=ep(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,i,o,s,a,c,l,u,d,f,h,p,g,m,y)}roundClean(){eP(ta,tc)}destroy(){eP(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(e=64){super(128,e,16,!1),this.Ah=0|te[0],this.Al=0|te[1],this.Bh=0|te[2],this.Bl=0|te[3],this.Ch=0|te[4],this.Cl=0|te[5],this.Dh=0|te[6],this.Dl=0|te[7],this.Eh=0|te[8],this.El=0|te[9],this.Fh=0|te[10],this.Fl=0|te[11],this.Gh=0|te[12],this.Gl=0|te[13],this.Hh=0|te[14],this.Hl=0|te[15]}}class tu extends tl{constructor(){super(48),this.Ah=0|e7[0],this.Al=0|e7[1],this.Bh=0|e7[2],this.Bl=0|e7[3],this.Ch=0|e7[4],this.Cl=0|e7[5],this.Dh=0|e7[6],this.Dl=0|e7[7],this.Eh=0|e7[8],this.El=0|e7[9],this.Fh=0|e7[10],this.Fl=0|e7[11],this.Gh=0|e7[12],this.Gl=0|e7[13],this.Hh=0|e7[14],this.Hl=0|e7[15]}}let td=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class tf extends tl{constructor(){super(32),this.Ah=0|td[0],this.Al=0|td[1],this.Bh=0|td[2],this.Bl=0|td[3],this.Ch=0|td[4],this.Cl=0|td[5],this.Dh=0|td[6],this.Dl=0|td[7],this.Eh=0|td[8],this.El=0|td[9],this.Fh=0|td[10],this.Fl=0|td[11],this.Gh=0|td[12],this.Gl=0|td[13],this.Hh=0|td[14],this.Hl=0|td[15]}}let th=eH(()=>new tn),tp=eH(()=>new tl),tg=eH(()=>new tu),tm=(eH(()=>new tf),Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9])),ty=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),tb=new Uint32Array(32);function tv(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=tb[2*e],l=tb[2*e+1],u=tb[2*t],d=tb[2*t+1],f=tb[2*r],h=tb[2*r+1],p=tb[2*n],g=tb[2*n+1],m=eg(c,u,s);l=em(m,l,d,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:ec(g,p),Dl:el(g)}),({h:h,l:f}=ep(h,f,g,p)),({Bh:d,Bl:u}={Bh:d^h,Bl:u^f}),({Bh:d,Bl:u}={Bh:ei(d,u,24),Bl:eo(d,u,24)}),tb[2*e]=c,tb[2*e+1]=l,tb[2*t]=u,tb[2*t+1]=d,tb[2*r]=f,tb[2*r+1]=h,tb[2*n]=p,tb[2*n+1]=g}function tw(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=tb[2*e],l=tb[2*e+1],u=tb[2*t],d=tb[2*t+1],f=tb[2*r],h=tb[2*r+1],p=tb[2*n],g=tb[2*n+1],m=eg(c,u,s);l=em(m,l,d,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:ei(g,p,16),Dl:eo(g,p,16)}),({h:h,l:f}=ep(h,f,g,p)),({Bh:d,Bl:u}={Bh:d^h,Bl:u^f}),({Bh:d,Bl:u}={Bh:es(d,u,63),Bl:ea(d,u,63)}),tb[2*e]=c,tb[2*e+1]=l,tb[2*t]=u,tb[2*t+1]=d,tb[2*r]=f,tb[2*r+1]=h,tb[2*n]=p,tb[2*n+1]=g}class tE extends e${update(e){eI(this),ex(e=eq(e));let{blockLen:t,buffer:r,buffer32:n}=this,i=e.length,o=e.byteOffset,s=e.buffer;for(let a=0;a<i;){this.pos===t&&(eB(n),this.compress(n,0,!1),eB(n),this.pos=0);let c=Math.min(t-this.pos,i-a),l=o+a;if(c===t&&!(l%4)&&a+c<i){let e=new Uint32Array(s,l,Math.floor((i-a)/4));eB(e);for(let r=0;a+t<i;r+=n.length,a+=t)this.length+=t,this.compress(e,r,!1);eB(e);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,this.length+=c,a+=c}return this}digestInto(e){eI(this),eN(e,this);let{pos:t,buffer32:r}=this;this.finished=!0,eP(this.buffer.subarray(t)),eB(r),this.compress(r,0,!0),eB(r);let n=eS(e);this.get().forEach((e,t)=>n[t]=ek(e))}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){let{buffer:t,length:r,finished:n,destroyed:i,outputLen:o,pos:s}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=n,e.length=r,e.pos=s,e.outputLen=o,e}clone(){return this._cloneInto()}constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,eA(e),eA(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=eS(this.buffer)}}class tC extends tE{get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:o,v3l:s,v3h:a,v4l:c,v4h:l,v5l:u,v5h:d,v6l:f,v6h:h,v7l:p,v7h:g}=this;return[e,t,r,n,i,o,s,a,c,l,u,d,f,h,p,g]}set(e,t,r,n,i,o,s,a,c,l,u,d,f,h,p,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|o,this.v3l=0|s,this.v3h=0|a,this.v4l=0|c,this.v4h=0|l,this.v5l=0|u,this.v5h=0|d,this.v6l=0|f,this.v6h=0|h,this.v7l=0|p,this.v7h=0|g}compress(e,t,r){this.get().forEach((e,t)=>tb[t]=e),tb.set(ty,16);let{h:n,l:i}=ee(BigInt(this.length));tb[24]=ty[8]^i,tb[25]=ty[9]^n,r&&(tb[28]=~tb[28],tb[29]=~tb[29]);let o=0;for(let r=0;r<12;r++)tv(0,4,8,12,e,t+2*tm[o++]),tw(0,4,8,12,e,t+2*tm[o++]),tv(1,5,9,13,e,t+2*tm[o++]),tw(1,5,9,13,e,t+2*tm[o++]),tv(2,6,10,14,e,t+2*tm[o++]),tw(2,6,10,14,e,t+2*tm[o++]),tv(3,7,11,15,e,t+2*tm[o++]),tw(3,7,11,15,e,t+2*tm[o++]),tv(0,5,10,15,e,t+2*tm[o++]),tw(0,5,10,15,e,t+2*tm[o++]),tv(1,6,11,12,e,t+2*tm[o++]),tw(1,6,11,12,e,t+2*tm[o++]),tv(2,7,8,13,e,t+2*tm[o++]),tw(2,7,8,13,e,t+2*tm[o++]),tv(3,4,9,14,e,t+2*tm[o++]),tw(3,4,9,14,e,t+2*tm[o++]);this.v0l^=tb[0]^tb[16],this.v0h^=tb[1]^tb[17],this.v1l^=tb[2]^tb[18],this.v1h^=tb[3]^tb[19],this.v2l^=tb[4]^tb[20],this.v2h^=tb[5]^tb[21],this.v3l^=tb[6]^tb[22],this.v3h^=tb[7]^tb[23],this.v4l^=tb[8]^tb[24],this.v4h^=tb[9]^tb[25],this.v5l^=tb[10]^tb[26],this.v5h^=tb[11]^tb[27],this.v6l^=tb[12]^tb[28],this.v6h^=tb[13]^tb[29],this.v7l^=tb[14]^tb[30],this.v7h^=tb[15]^tb[31],eP(tb)}destroy(){this.destroyed=!0,eP(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(e={}){let t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|ty[0],this.v0h=0|ty[1],this.v1l=0|ty[2],this.v1h=0|ty[3],this.v2l=0|ty[4],this.v2h=0|ty[5],this.v3l=0|ty[6],this.v3h=0|ty[7],this.v4l=0|ty[8],this.v4h=0|ty[9],this.v5l=0|ty[10],this.v5h=0|ty[11],this.v6l=0|ty[12],this.v6h=0|ty[13],this.v7l=0|ty[14],this.v7h=0|ty[15],function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(eA(r),e<0||e>r)throw Error("outputLen bigger than keyLen");let{key:o,salt:s,personalization:a}=t;if(void 0!==o&&(o.length<1||o.length>r))throw Error("key length must be undefined or 1.."+r);if(void 0!==s&&s.length!==n)throw Error("salt must be undefined or "+n);if(void 0!==a&&a.length!==i)throw Error("personalization must be undefined or "+i)}(t,e,64,16,16);let{key:r,personalization:n,salt:i}=e,o=0;if(void 0!==r&&(o=(r=eq(r)).length),this.v0l^=this.outputLen|o<<8|16842752,void 0!==i){let e=eS(i=eq(i));this.v4l^=ek(e[0]),this.v4h^=ek(e[1]),this.v5l^=ek(e[2]),this.v5h^=ek(e[3])}if(void 0!==n){let e=eS(n=eq(n));this.v6l^=ek(e[0]),this.v6h^=ek(e[1]),this.v7l^=ek(e[2]),this.v7h^=ek(e[3])}if(void 0!==r){let e=new Uint8Array(this.blockLen);e.set(r),this.update(e)}}}function tA(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function tx(e){if("boolean"!=typeof e)throw Error("boolean expected, not ".concat(e))}function tI(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function tN(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!tA(e))throw Error("Uint8Array expected");if(r.length>0&&!r.includes(e.length))throw Error("Uint8Array expected of length "+r+", got length="+e.length)}function tS(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function tP(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function tO(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let e=0;e<t.length;e++)t[e].fill(0)}!function(e){let t=(t,r)=>e(r).update(eq(t)).digest(),r=e({});t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t)}(e=>new tC(e)),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let t_=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function tR(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e);else if(tA(e))e=tB(e);else throw Error("Uint8Array expected, got "+typeof e);return e}function tT(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error("invalid output length, expected "+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function tk(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+l,a,n)}function tB(e){return Uint8Array.from(e)}let tU=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),tM=tU("expand 16-byte k"),tL=tU("expand 32-byte k"),tD=tP(tM),tj=tP(tL);function tF(e,t){return e<<t|e>>>32-t}function tq(e){return e.byteOffset%4==0}let tz=4294967296-1,t$=new Uint32Array,tH=(e,t)=>255&e[t++]|(255&e[t++])<<8;class tG{process(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{h:n,r:i}=this,o=i[0],s=i[1],a=i[2],c=i[3],l=i[4],u=i[5],d=i[6],f=i[7],h=i[8],p=i[9],g=tH(e,t+0),m=tH(e,t+2),y=tH(e,t+4),b=tH(e,t+6),v=tH(e,t+8),w=tH(e,t+10),E=tH(e,t+12),C=tH(e,t+14),A=n[0]+(8191&g),x=n[1]+((g>>>13|m<<3)&8191),I=n[2]+((m>>>10|y<<6)&8191),N=n[3]+((y>>>7|b<<9)&8191),S=n[4]+((b>>>4|v<<12)&8191),P=n[5]+(v>>>1&8191),O=n[6]+((v>>>14|w<<2)&8191),_=n[7]+((w>>>11|E<<5)&8191),R=n[8]+((E>>>8|C<<8)&8191),T=n[9]+(C>>>5|(r?0:2048)),k=0,B=0+A*o+5*p*x+5*h*I+5*f*N+5*d*S;k=B>>>13,B&=8191,B+=5*u*P+5*l*O+5*c*_+5*a*R+5*s*T,k+=B>>>13,B&=8191;let U=k+A*s+x*o+5*p*I+5*h*N+5*f*S;k=U>>>13,U&=8191,U+=5*d*P+5*u*O+5*l*_+5*c*R+5*a*T,k+=U>>>13,U&=8191;let M=k+A*a+x*s+I*o+5*p*N+5*h*S;k=M>>>13,M&=8191,M+=5*f*P+5*d*O+5*u*_+5*l*R+5*c*T,k+=M>>>13,M&=8191;let L=k+A*c+x*a+I*s+N*o+5*p*S;k=L>>>13,L&=8191,L+=5*h*P+5*f*O+5*d*_+5*u*R+5*l*T,k+=L>>>13,L&=8191;let D=k+A*l+x*c+I*a+N*s+S*o;k=D>>>13,D&=8191,D+=5*p*P+5*h*O+5*f*_+5*d*R+5*u*T,k+=D>>>13,D&=8191;let j=k+A*u+x*l+I*c+N*a+S*s;k=j>>>13,j&=8191,j+=P*o+5*p*O+5*h*_+5*f*R+5*d*T,k+=j>>>13,j&=8191;let F=k+A*d+x*u+I*l+N*c+S*a;k=F>>>13,F&=8191,F+=P*s+O*o+5*p*_+5*h*R+5*f*T,k+=F>>>13,F&=8191;let q=k+A*f+x*d+I*u+N*l+S*c;k=q>>>13,q&=8191,q+=P*a+O*s+_*o+5*p*R+5*h*T,k+=q>>>13,q&=8191;let z=k+A*h+x*f+I*d+N*u+S*l;k=z>>>13,z&=8191,z+=P*c+O*a+_*s+R*o+5*p*T,k+=z>>>13,z&=8191;let $=k+A*p+x*h+I*f+N*d+S*u;k=$>>>13,$&=8191,$+=P*l+O*c+_*a+R*s+T*o,k+=$>>>13,$&=8191,B=8191&(k=(k=(k<<2)+k|0)+B|0),k>>>=13,U+=k,n[0]=B,n[1]=U,n[2]=M,n[3]=L,n[4]=D,n[5]=j,n[6]=F,n[7]=q,n[8]=z,n[9]=$}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=n,n=e[t]>>>13,e[t]&=8191;e[0]+=5*n,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,r[0]=e[0]+5,n=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+n,n=r[t]>>>13,r[t]&=8191;r[9]-=8192;let i=(1^n)-1;for(let e=0;e<10;e++)r[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+t[0];e[0]=65535&o;for(let r=1;r<8;r++)o=(e[r]+t[r]|0)+(o>>>16)|0,e[r]=65535&o;tO(r)}update(e){tS(this),tN(e=tR(e));let{buffer:t,blockLen:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(r-this.pos,n-i);if(o===r){for(;r<=n-i;i+=r)this.process(e,i);continue}t.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){tO(this.h,this.r,this.buffer,this.pad)}digestInto(e){tS(this),function(e,t){tN(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,h:r}=this,{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=r[t]>>>0,e[i++]=r[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,tN(e=tR(e),32);let t=tH(e,0),r=tH(e,2),n=tH(e,4),i=tH(e,6),o=tH(e,8),s=tH(e,10),a=tH(e,12),c=tH(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|n<<6)&7939,this.r[3]=(n>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|s<<2)&8191,this.r[7]=(s>>>11|a<<5)&8065,this.r[8]=(a>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=tH(e,16+2*t)}}let tW=function(e){let t=(t,r)=>e(r).update(tR(t)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new tG(e)),tV=function(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:o,rounds:s}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return tI(i),tI(s),tx(o),tx(r),function(t,a,c,l){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;tN(t),tN(a),tN(c);let d=c.length;if(void 0===l&&(l=new Uint8Array(d)),tN(l),tI(u),u<0||u>=tz)throw Error("arx: counter overflow");if(l.length<d)throw Error("arx: output (".concat(l.length,") is shorter than data (").concat(d,")"));let f=[],h=t.length,p,g;if(32===h)f.push(p=tB(t)),g=tj;else if(16===h&&r)(p=new Uint8Array(32)).set(t),p.set(t,16),g=tD,f.push(p);else throw Error("arx: invalid 32-byte key, got length=".concat(h));tq(a)||f.push(a=tB(a));let m=tP(p);if(n){if(24!==a.length)throw Error("arx: extended nonce must be 24 bytes");n(g,m,tP(a.subarray(0,16)),m),a=a.subarray(16)}let y=16-i;if(y!==a.length)throw Error("arx: nonce must be ".concat(y," or 16 bytes"));if(12!==y){let e=new Uint8Array(12);e.set(a,o?0:12-a.length),a=e,f.push(a)}return function(e,t,r,n,i,o,s,a){let c=i.length,l=new Uint8Array(64),u=tP(l),d=tq(i)&&tq(o),f=d?tP(i):t$,h=d?tP(o):t$;for(let p=0;p<c;s++){if(e(t,r,n,u,s,a),s>=tz)throw Error("arx: counter overflow");let g=Math.min(64,c-p);if(d&&64===g){let e=p/4;if(p%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)h[r=e+t]=f[r]^u[t];p+=64;continue}for(let e=0,t;e<g;e++)o[t=p+e]=i[t]^l[e];p+=g}}(e,g,m,tP(a),c,l,u,s),tO(...f),l}}(function(e,t,r,n,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,s=e[0],a=e[1],c=e[2],l=e[3],u=t[0],d=t[1],f=t[2],h=t[3],p=t[4],g=t[5],m=t[6],y=t[7],b=r[0],v=r[1],w=r[2],E=s,C=a,A=c,x=l,I=u,N=d,S=f,P=h,O=p,_=g,R=m,T=y,k=i,B=b,U=v,M=w;for(let e=0;e<o;e+=2)O=O+(k=tF(k^(E=E+I|0),16))|0,E=E+(I=tF(I^O,12))|0,O=O+(k=tF(k^E,8))|0,I=tF(I^O,7),_=_+(B=tF(B^(C=C+N|0),16))|0,C=C+(N=tF(N^_,12))|0,_=_+(B=tF(B^C,8))|0,N=tF(N^_,7),R=R+(U=tF(U^(A=A+S|0),16))|0,A=A+(S=tF(S^R,12))|0,R=R+(U=tF(U^A,8))|0,S=tF(S^R,7),T=T+(M=tF(M^(x=x+P|0),16))|0,x=x+(P=tF(P^T,12))|0,T=T+(M=tF(M^x,8))|0,P=tF(P^T,7),R=R+(M=tF(M^(E=E+N|0),16))|0,E=E+(N=tF(N^R,12))|0,R=R+(M=tF(M^E,8))|0,N=tF(N^R,7),T=T+(k=tF(k^(C=C+S|0),16))|0,C=C+(S=tF(S^T,12))|0,T=T+(k=tF(k^C,8))|0,S=tF(S^T,7),O=O+(B=tF(B^(A=A+P|0),16))|0,A=A+(P=tF(P^O,12))|0,O=O+(B=tF(B^A,8))|0,P=tF(P^O,7),_=_+(U=tF(U^(x=x+I|0),16))|0,x=x+(I=tF(I^_,12))|0,_=_+(U=tF(U^x,8))|0,I=tF(I^_,7);let L=0;n[L++]=s+E|0,n[L++]=a+C|0,n[L++]=c+A|0,n[L++]=l+x|0,n[L++]=u+I|0,n[L++]=d+N|0,n[L++]=f+S|0,n[L++]=h+P|0,n[L++]=p+O|0,n[L++]=g+_|0,n[L++]=m+R|0,n[L++]=y+T|0,n[L++]=i+k|0,n[L++]=b+B|0,n[L++]=v+U|0,n[L++]=w+M|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),tK=new Uint8Array(16),tZ=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(tK.subarray(r))},tY=new Uint8Array(32);function tJ(e,t,r,n,i){let o=e(t,r,tY),s=tW.create(o);i&&tZ(s,i),tZ(s,n);let a=function(e,t,r){tx(r);let n=new Uint8Array(16),i=new DataView(n.buffer,n.byteOffset,n.byteLength);return tk(i,0,BigInt(t),r),tk(i,8,BigInt(e),r),n}(n.length,i?i.length:0,!0);s.update(a);let c=s.digest();return tO(o,a),c}n={blockSize:64,nonceLength:12,tagLength:16},i=(e,t,r)=>({encrypt(n,i){let o=n.length;(i=tT(o+16,i,!1)).set(n);let s=i.subarray(0,-16);tV(e,t,s,s,1);let a=tJ(tV,e,t,s,r);return i.set(a,o),tO(a),i},decrypt(n,i){i=tT(n.length-16,i,!1);let o=n.subarray(0,-16),s=n.subarray(-16),a=tJ(tV,e,t,o,r);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(s,a))throw Error("invalid tag");return i.set(n.subarray(0,-16)),tV(e,t,i,i,1),tO(a),i}}),Object.assign(function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];if(tN(e),!t_)throw Error("Non little-endian hardware is not yet supported");if(void 0!==n.nonceLength){let e=r[0];if(!e)throw Error("nonce / iv required");n.varSizeNonce?tN(e):tN(e,n.nonceLength)}let s=n.tagLength;s&&void 0!==r[1]&&tN(r[1]);let a=i(e,...r),c=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");tN(t)}},l=!1;return{encrypt(e,t){if(l)throw Error("cannot encrypt() twice with same key + nonce");return l=!0,tN(e),c(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(tN(e),s&&e.length<s)throw Error("invalid ciphertext length: smaller than tagLength="+s);return c(a.decrypt.length,t),a.decrypt(e,t)}}},n);class tX extends e${update(e){return eI(this),this.iHash.update(e),this}digestInto(e){eI(this),ex(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");eA(e.outputLen),eA(e.blockLen)}(e);let r=eq(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),eP(i)}}let tQ=(e,t,r)=>new tX(e,t).update(r).digest();tQ.create=(e,t)=>new tX(e,t),Uint8Array.from([0]),Uint8Array.of();let t0=BigInt(0),t1=BigInt(1);function t2(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function t6(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function t5(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?t0:BigInt("0x"+e)}function t8(e){return ex(e),t5(eL(Uint8Array.from(e).reverse()))}function t3(e,t){return eF(e.toString(16).padStart(2*t,"0"))}function t4(e,t){return t3(e,t).reverse()}function t9(e,t,r){let n;if("string"==typeof t)try{n=eF(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(eC(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}let t7=e=>"bigint"==typeof e&&t0<=e;function re(e,t,r,n){if(!(t7(t)&&t7(r)&&t7(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let rt=e=>(t1<<BigInt(e))-t1;function rr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let o=typeof i;if(o!==r||null===i)throw Error('param "'.concat(t,'" is invalid: expected ').concat(r,", got ").concat(o))}Object.entries(t).forEach(e=>{let[t,r]=e;return n(t,r,!1)}),Object.entries(r).forEach(e=>{let[t,r]=e;return n(t,r,!0)})}function rn(e){let t=new WeakMap;return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];let s=t.get(r);if(void 0!==s)return s;let a=e(r,...i);return t.set(r,a),a}}let ri=BigInt(0),ro=BigInt(1),rs=BigInt(2),ra=BigInt(3),rc=BigInt(4),rl=BigInt(5),ru=BigInt(8);function rd(e,t){let r=e%t;return r>=ri?r:t+r}function rf(e,t,r){let n=e;for(;t-- >ri;)n*=n,n%=r;return n}function rh(e,t){if(e===ri)throw Error("invert: expected non-zero number");if(t<=ri)throw Error("invert: expected positive modulus, got "+t);let r=rd(e,t),n=t,i=ri,o=ro;for(;r!==ri;){let e=n/r,t=n%r,s=i-o*e;n=r,r=t,i=o,o=s}if(n!==ro)throw Error("invert: does not exist");return rd(i,t)}function rp(e,t){let r=(e.ORDER+ro)/rc,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function rg(e,t){let r=(e.ORDER-rl)/ru,n=e.mul(t,rs),i=e.pow(n,r),o=e.mul(t,i),s=e.mul(e.mul(o,rs),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw Error("Cannot find square root");return a}let rm=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ry(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function rb(e,t){let r=(e.ORDER-ro)/rs,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!s)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function rv(e,t){let r,n,i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=ri)throw Error("invalid field: expected ORDER > 0, got "+e);if("object"==typeof t&&null!=t){if(s.sqrt||o)throw Error("cannot specify opts in two arguments");t.BITS&&(r=t.BITS),t.sqrt&&(n=t.sqrt),"boolean"==typeof t.isLE&&(o=t.isLE)}else"number"==typeof t&&(r=t),s.sqrt&&(n=s.sqrt);let{nBitLength:a,nByteLength:c}=function(e,t){void 0!==t&&eA(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}(e,r);if(c>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let l=Object.freeze({ORDER:e,isLE:o,BITS:a,BYTES:c,MASK:rt(a),ZERO:ri,ONE:ro,create:t=>rd(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return ri<=t&&t<e},is0:e=>e===ri,isValidNot0:e=>!l.is0(e)&&l.isValid(e),isOdd:e=>(e&ro)===ro,neg:t=>rd(-t,e),eql:(e,t)=>e===t,sqr:t=>rd(t*t,e),add:(t,r)=>rd(t+r,e),sub:(t,r)=>rd(t-r,e),mul:(t,r)=>rd(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<ri)throw Error("invalid exponent, negatives unsupported");if(r===ri)return e.ONE;if(r===ro)return t;let n=e.ONE,i=t;for(;r>ri;)r&ro&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ro;return n})(l,e,t),div:(t,r)=>rd(t*rh(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>rh(t,e),sqrt:n||(t=>(i||(i=e%rc===ra?rp:e%ru===rl?rg:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-ro,r=0;for(;t%rs===ri;)t/=rs,r++;let n=rs,i=rv(e);for(;1===rb(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return rp;let o=i.pow(n,t),s=(t+ro)/rs;return function(e,n){if(e.is0(n))return n;if(1!==rb(e,n))throw Error("Cannot find square root");let i=r,a=e.mul(e.ONE,o),c=e.pow(n,t),l=e.pow(n,s);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=ro<<BigInt(i-t-1),o=e.pow(a,n);i=t,a=e.sqr(o),c=e.mul(c,a),l=e.mul(l,o)}return l}}(e)),i(l,t))),toBytes:e=>o?t4(e,c):t3(e,c),fromBytes:e=>{if(e.length!==c)throw Error("Field.fromBytes: expected "+c+" bytes, got "+e.length);return o?t8(e):t5(eL(e))},invertBatch:e=>ry(l,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(l)}function rw(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function rE(e){let t=rw(e);return t+Math.ceil(t/2)}let rC=BigInt(0),rA=BigInt(1);function rx(e,t){let r=t.negate();return e?r:t}function rI(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function rN(e,t){rI(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:rt(e),maxNumber:i,shiftBy:BigInt(e)}}function rS(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r,a=Number(e&i),c=e>>s;a>n&&(a-=o,c+=rA);let l=t*n;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}let rP=new WeakMap,rO=new WeakMap;function r_(e){return rO.get(e)||1}function rR(e){if(e!==rC)throw Error("invalid wNAF")}function rT(e,t){if(!t)return rv(e);if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return rr(t,rm.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),t}BigInt(0),BigInt(1),BigInt(2),BigInt(8);let rk=BigInt(0),rB=BigInt(1),rU=BigInt(2);BigInt(0);let rM=BigInt(1),rL=BigInt(2),rD=BigInt(3),rj=BigInt(5),rF=BigInt(8),rq={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:rF,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function rz(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function r$(e){void 0!==e.lowS&&t2("lowS",e.lowS),void 0!==e.prehash&&t2("prehash",e.prehash)}(()=>{let e=rq.p;return function(e){let{P:t,type:r,adjustScalarBytes:n,powPminus2:i,randomBytes:o}=(rr(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})),s="x25519"===r;if(!s&&"x448"!==r)throw Error("invalid type");let a=s?255:448,c=s?32:56,l=BigInt(s?9:5),u=BigInt(s?121665:39081),d=s?rU**BigInt(254):rU**BigInt(447),f=d+(s?BigInt(8)*rU**BigInt(251)-rB:BigInt(4)*rU**BigInt(445)-rB)+rB,h=e=>rd(e,t),p=t4(h(l),c);function g(e,r){let o=function(e,r){re("u",e,rk,t),re("scalar",r,d,f);let n=rB,o=rk,s=e,c=rB,l=rk;for(let t=BigInt(a-1);t>=rk;t--){let i=r>>t&rB;l^=i,({x_2:n,x_3:s}=m(l,n,s)),({x_2:o,x_3:c}=m(l,o,c)),l=i;let a=n+o,d=h(a*a),f=n-o,p=h(f*f),g=d-p,y=s+c,b=h((s-c)*a),v=h(y*f),w=b+v,E=b-v;s=h(w*w),c=h(e*h(E*E)),n=h(d*p),o=h(g*(d+h(u*g)))}return{x_2:n,x_3:s}=m(l,n,s),{x_2:o,x_3:c}=m(l,o,c),h(n*i(o))}(function(e){let t=t9("u coordinate",e,c);return s&&(t[31]&=127),h(t8(t))}(r),t8(n(t9("scalar",e,c))));if(o===rk)throw Error("invalid private or public key received");return t4(h(o),c)}function m(e,t,r){let n=h(e*(t-r));return{x_2:t=h(t-n),x_3:r=h(r+n)}}(e,t)=>g(e,t),p.slice()}({P:e,type:"x25519",powPminus2:t=>{let{pow_p_5_8:r,b2:n}=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=rq.p,s=e*e%o*e%o,a=rf(s,rL,o)*s%o,c=rf(a,rM,o)*e%o,l=rf(c,rj,o)*c%o,u=rf(l,t,o)*l%o,d=rf(u,r,o)*u%o,f=rf(d,n,o)*d%o,h=rf(f,i,o)*f%o,p=rf(h,i,o)*f%o,g=rf(p,t,o)*l%o;return{pow_p_5_8:rf(g,rL,o)*e%o,b2:s}}(t);return rd(rf(r,rD,e)*n,e)},adjustScalarBytes:rz})})();class rH extends Error{constructor(e=""){super(e)}}let rG={Err:rH,_tlv:{encode:(e,t)=>{let{Err:r}=rG;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=t6(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?t6(i.length/2|128):"";return t6(e)+o+i+t},decode(e,t){let{Err:r}=rG,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let s=t.subarray(n,n+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=rG;if(e<rW)throw new t("integer: negative integers are not allowed");let r=t6(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=rG;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return t5(eL(e))}},toSig(e){let{Err:t,_int:r,_tlv:n}=rG,i=t9("signature",e),{v:o,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=rG,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},rW=BigInt(0),rV=BigInt(1),rK=BigInt(2),rZ=BigInt(3),rY=BigInt(4);function rJ(e,t,r){let{BYTES:n}=e;return function(i){let o;if("bigint"==typeof i)o=i;else{let r=t9("private key",i);if(t){if(!t.includes(2*r.length))throw Error("invalid private key");let e=new Uint8Array(n);e.set(r,e.length-r.length),r=e}try{o=e.fromBytes(r)}catch(e){throw Error("invalid private key: expected ui8a of size ".concat(n,", got ").concat(typeof i))}}if(r&&(o=e.create(o)),!e.isValidNot0(o))throw Error("invalid private key: out of range [1..N-1]");return o}}function rX(e){return Uint8Array.of(e?2:3)}function rQ(e,t){let r=t=>(function(e){let{CURVE:t,curveOpts:r,ecdsaOpts:n}=function(e){let{CURVE:t,curveOpts:r}=function(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:rv(t.n,e.nBitLength),allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:r}}(e);return{CURVE:t,curveOpts:r,ecdsaOpts:{hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN}}}(e),i=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rr(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=t.randomBytes||eG,i=t.hmac||function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return tQ(t.hash,e,ez(...n))},{Fp:o,Fn:s}=e,{ORDER:a,BITS:c}=s;function l(e,t){if(!s.isValidNot0(t))throw Error("invalid signature ".concat(e,": out of range 1..CURVE.n"))}class u{static fromCompact(e){let t=s.BYTES,r=t9("compactSignature",e,2*t);return new u(s.fromBytes(r.subarray(0,t)),s.fromBytes(r.subarray(t,2*t)))}static fromDER(e){let{r:t,s:r}=rG.toSig(t9("DER",e));return new u(t,r)}assertValidity(){}addRecoveryBit(e){return new u(this.r,this.s,e)}recoverPublicKey(t){let r=o.ORDER,{r:n,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw Error("recovery id invalid");if(a*rK<r&&c>1)throw Error("recovery id is ambiguous for h>1 curve");let l=2===c||3===c?n+a:n;if(!o.isValid(l))throw Error("recovery id 2 or 3 invalid");let u=o.toBytes(l),d=e.fromHex(ez(rX((1&c)==0),u)),f=s.inv(l),h=p(t9("msgHash",t)),g=s.create(-h*f),m=s.create(i*f),y=e.BASE.multiplyUnsafe(g).add(d.multiplyUnsafe(m));if(y.is0())throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>a>>rV}normalizeS(){return this.hasHighS()?new u(this.r,s.neg(this.s),this.recovery):this}toBytes(e){if("compact"===e)return ez(s.toBytes(this.r),s.toBytes(this.s));if("der"===e)return eF(rG.hexFromSig(this));throw Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return eL(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return eL(this.toBytes("compact"))}constructor(e,t,r){l("r",e),l("s",t),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}}let d=rJ(s,r.allowedPrivateKeyLengths,r.wrapPrivateKey);function f(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let n=t9("key",t).length,i=o.BYTES,a=i+1;if(!(r.allowedPrivateKeyLengths||s.BYTES===a))return n===a||n===2*i+1}let h=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=t5(eL(e)),r=8*e.length-c;return r>0?t>>BigInt(r):t},p=t.bits2int_modN||function(e){return s.create(h(e))},g=rt(c);function m(e){return re("num < 2^"+c,e,rW,g),s.toBytes(e)}let y={lowS:t.lowS,prehash:!1},b={lowS:t.lowS,prehash:!1};return e.BASE.precompute(8),Object.freeze({getPublicKey:function(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.fromPrivateKey(t).toBytes(r)},getSharedSecret:function(t,r){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!0===f(t))throw Error("first arg must be private key");if(!1===f(r))throw Error("second arg must be public key");return e.fromHex(r).multiply(d(t)).toBytes(n)},sign:function(r,c){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,{seed:f,k2sig:g}=function(r,i){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;if(["recovered","canonical"].some(e=>e in c))throw Error("sign() legacy options not supported");let{hash:l}=t,{lowS:f,prehash:g,extraEntropy:b}=c;null==f&&(f=!0),r=t9("msgHash",r),r$(c),g&&(r=t9("prehashed msgHash",l(r)));let v=p(r),w=d(i),E=[m(w),m(v)];if(null!=b&&!1!==b){let e=!0===b?n(o.BYTES):b;E.push(t9("extraEntropy",e))}return{seed:ez(...E),k2sig:function(t){let r=h(t);if(!s.isValidNot0(r))return;let n=s.inv(r),i=e.BASE.multiply(r).toAffine(),o=s.create(i.x);if(o===rW)return;let c=s.create(n*s.create(v+o*w));if(c===rW)return;let l=(i.x===o?0:2)|Number(i.y&rV),d=c;return f&&c>a>>rV&&(d=c>a>>rV?s.neg(c):c,l^=1),new u(o,d,l)}}}(r,c,l);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=e=>new Uint8Array(e),i=e=>Uint8Array.of(e),o=n(e),s=n(e),a=0,c=()=>{o.fill(1),s.fill(0),a=0},l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(s,o,...t)},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(0);s=l(i(0),e),o=l(),0!==e.length&&(s=l(i(1),e),o=l())},d=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(o=l()).slice();r.push(t),e+=o.length}return ez(...r)};return(e,t)=>{let r;for(c(),u(e);!(r=t(d()));)u();return c(),r}})(t.hash.outputLen,s.BYTES,i)(f,g)},verify:function(r,n,i){let o,a,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b;n=t9("msgHash",n),i=t9("publicKey",i),r$(c);let{lowS:l,prehash:d,format:f}=c;if("strict"in c)throw Error("options.strict was renamed to lowS");if(void 0!==f&&!["compact","der","js"].includes(f))throw Error('format must be "compact", "der" or "js"');let h="string"==typeof r||eC(r),g=!h&&!f&&"object"==typeof r&&null!==r&&"bigint"==typeof r.r&&"bigint"==typeof r.s;if(!h&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g){if(void 0===f||"js"===f)o=new u(r.r,r.s);else throw Error("invalid format")}if(h){try{"compact"!==f&&(o=u.fromDER(r))}catch(e){if(!(e instanceof rG.Err))throw e}o||"der"===f||(o=u.fromCompact(r))}a=e.fromHex(i)}catch(e){return!1}if(!o||l&&o.hasHighS())return!1;d&&(n=t.hash(n));let{r:m,s:y}=o,v=p(n),w=s.inv(y),E=s.create(v*w),C=s.create(m*w),A=e.BASE.multiplyUnsafe(E).add(a.multiplyUnsafe(C));return!A.is0()&&s.create(A.x)===m},utils:{isValidPrivateKey(e){try{return d(e),!0}catch(e){return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.length,i=rw(t),o=rE(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let s=rd(r?t8(e):t5(eL(e)),t-ro)+ro;return r?t4(s,i):t3(s,i)})(n(rE(a)),a),precompute(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.BASE;return r.precompute(t,!1)}},Point:e,Signature:u})}(function(e){var t,r,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{Fp:o,Fn:s}=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||"object"!=typeof t)throw Error("expected valid ".concat(e," CURVE object"));for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>rC))throw Error("CURVE.".concat(e," must be positive bigint"))}let n=rT(t.p,r.Fp),i=rT(t.n,r.Fn);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!n.isValid(t[r]))throw Error("CURVE.".concat(r," must be valid field element of CURVE.Fp"));return{Fp:n,Fn:i}}("weierstrass",e,i),{h:a,n:c}=e;rr(i,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:l}=i;if(l&&(!o.is0(e.a)||"bigint"!=typeof l.beta||"function"!=typeof l.splitScalar))throw Error('invalid endo: expected "beta": bigint and "splitScalar": function');function u(){if(!o.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let d=i.toBytes||function(e,t,r){let{x:n,y:i}=t.toAffine(),s=o.toBytes(n);return(t2("isCompressed",r),r)?(u(),ez(rX(!o.isOdd(i)),s)):ez(Uint8Array.of(4),s,o.toBytes(i))},f=i.fromBytes||function(e){ex(e);let t=o.BYTES,r=t+1,n=2*t+1,i=e.length,s=e[0],a=e.subarray(1);if(i===r&&(2===s||3===s)){let e;let t=o.fromBytes(a);if(!o.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=h(t);try{e=o.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return u(),(1&s)==1!==o.isOdd(e)&&(e=o.neg(e)),{x:t,y:e}}if(i===n&&4===s){let e=o.fromBytes(a.subarray(0*t,1*t)),r=o.fromBytes(a.subarray(1*t,2*t));if(!p(e,r))throw Error("bad point: is not on curve");return{x:e,y:r}}throw Error("bad point: got length ".concat(i,", expected compressed=").concat(r," or uncompressed=").concat(n))},h=(t=e.a,r=e.b,function(e){let n=o.sqr(e),i=o.mul(n,e);return o.add(o.add(i,o.mul(e,t)),r)});function p(e,t){let r=o.sqr(t),n=h(e);return o.eql(r,n)}if(!p(e.Gx,e.Gy))throw Error("bad curve params: generator point");let g=o.mul(o.pow(e.a,rZ),rY),m=o.mul(o.sqr(e.b),BigInt(27));if(o.is0(o.add(g,m)))throw Error("bad curve params: a or b");function y(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!o.isValid(t)||r&&o.is0(t))throw Error("bad point coordinate ".concat(e));return t}function b(e){if(!(e instanceof C))throw Error("ProjectivePoint expected")}let v=rn((e,t)=>{let{px:r,py:n,pz:i}=e;if(o.eql(i,o.ONE))return{x:r,y:n};let s=e.is0();null==t&&(t=s?o.ONE:o.inv(i));let a=o.mul(r,t),c=o.mul(n,t),l=o.mul(i,t);if(s)return{x:o.ZERO,y:o.ZERO};if(!o.eql(l,o.ONE))throw Error("invZ was invalid");return{x:a,y:c}}),w=rn(e=>{if(e.is0()){if(i.allowInfinityPoint&&!o.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:r}=e.toAffine();if(!o.isValid(t)||!o.isValid(r))throw Error("bad point: x or y not field elements");if(!p(t,r))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function E(e,t,r,n,i){return r=new C(o.mul(r.px,e),r.py,r.pz),t=rx(n,t),r=rx(i,r),t.add(r)}class C{static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!o.isValid(t)||!o.isValid(r))throw Error("invalid affine point");if(e instanceof C)throw Error("projective point not allowed");return o.is0(t)&&o.is0(r)?C.ZERO:new C(t,r,o.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){return function(e,t,r){let n=ry(e.Fp,r.map(e=>e.pz));return r.map((e,t)=>e.toAffine(n[t])).map(e.fromAffine)}(C,0,e)}static fromBytes(e){return ex(e),C.fromHex(e)}static fromHex(e){let t=C.fromAffine(f(t9("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){let t=rJ(s,i.allowedPrivateKeyLengths,i.wrapPrivateKey);return C.BASE.multiply(t(e))}static msm(e,t){return function(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,o=n.length;if(i!==o)throw Error("arrays of points and scalars must have equal length");let s=e.ZERO,a=function(e){let t;for(t=0;e>t0;e>>=t1,t+=1);return t}(BigInt(i)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=rt(c),u=Array(Number(l)+1).fill(s),d=Math.floor((t.BITS-1)/c)*c,f=s;for(let e=d;e>=0;e-=c){u.fill(s);for(let t=0;t<o;t++){let i=Number(n[t]>>BigInt(e)&l);u[i]=u[i].add(r[t])}let t=s;for(let e=u.length-1,r=s;e>0;e--)r=r.add(u[e]),t=t.add(r);if(f=f.add(t),0!==e)for(let e=0;e<c;e++)f=f.double()}return f}(C,s,e,t)}precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return x.setWindowSize(this,e),t||this.multiply(rZ),this}_setWindowSize(e){this.precompute(e)}assertValidity(){w(this)}hasEvenY(){let{y:e}=this.toAffine();if(!o.isOdd)throw Error("Field doesn't support isOdd");return!o.isOdd(e)}equals(e){b(e);let{px:t,py:r,pz:n}=this,{px:i,py:s,pz:a}=e,c=o.eql(o.mul(t,a),o.mul(i,n)),l=o.eql(o.mul(r,a),o.mul(s,n));return c&&l}negate(){return new C(this.px,o.neg(this.py),this.pz)}double(){let{a:t,b:r}=e,n=o.mul(r,rZ),{px:i,py:s,pz:a}=this,c=o.ZERO,l=o.ZERO,u=o.ZERO,d=o.mul(i,i),f=o.mul(s,s),h=o.mul(a,a),p=o.mul(i,s);return p=o.add(p,p),u=o.mul(i,a),u=o.add(u,u),c=o.mul(t,u),l=o.mul(n,h),l=o.add(c,l),c=o.sub(f,l),l=o.add(f,l),l=o.mul(c,l),c=o.mul(p,c),u=o.mul(n,u),h=o.mul(t,h),p=o.sub(d,h),p=o.mul(t,p),p=o.add(p,u),u=o.add(d,d),d=o.add(u,d),d=o.add(d,h),d=o.mul(d,p),l=o.add(l,d),h=o.mul(s,a),h=o.add(h,h),d=o.mul(h,p),c=o.sub(c,d),u=o.mul(h,f),u=o.add(u,u),new C(c,l,u=o.add(u,u))}add(t){b(t);let{px:r,py:n,pz:i}=this,{px:s,py:a,pz:c}=t,l=o.ZERO,u=o.ZERO,d=o.ZERO,f=e.a,h=o.mul(e.b,rZ),p=o.mul(r,s),g=o.mul(n,a),m=o.mul(i,c),y=o.add(r,n),v=o.add(s,a);y=o.mul(y,v),v=o.add(p,g),y=o.sub(y,v),v=o.add(r,i);let w=o.add(s,c);return v=o.mul(v,w),w=o.add(p,m),v=o.sub(v,w),w=o.add(n,i),l=o.add(a,c),w=o.mul(w,l),l=o.add(g,m),w=o.sub(w,l),d=o.mul(f,v),l=o.mul(h,m),d=o.add(l,d),l=o.sub(g,d),d=o.add(g,d),u=o.mul(l,d),g=o.add(p,p),g=o.add(g,p),m=o.mul(f,m),v=o.mul(h,v),g=o.add(g,m),m=o.sub(p,m),m=o.mul(f,m),v=o.add(v,m),p=o.mul(g,v),u=o.add(u,p),p=o.mul(w,v),l=o.mul(y,l),l=o.sub(l,p),p=o.mul(y,g),d=o.mul(w,d),new C(l,u,d=o.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(C.ZERO)}multiply(e){let t,r;let{endo:n}=i;if(!s.isValidNot0(e))throw Error("invalid scalar: out of range");let o=e=>x.wNAFCached(this,e,C.normalizeZ);if(n){let{k1neg:i,k1:s,k2neg:a,k2:c}=n.splitScalar(e),{p:l,f:u}=o(s),{p:d,f:f}=o(c);r=u.add(f),t=E(n.beta,l,d,i,a)}else{let{p:n,f:i}=o(e);t=n,r=i}return C.normalizeZ([t,r])[0]}multiplyUnsafe(e){let{endo:t}=i;if(!s.isValid(e))throw Error("invalid scalar: out of range");if(e===rW||this.is0())return C.ZERO;if(e===rV)return this;if(x.hasPrecomputes(this))return this.multiply(e);if(!t)return x.wNAFCachedUnsafe(this,e);{let{k1neg:r,k1:n,k2neg:i,k2:o}=t.splitScalar(e),{p1:s,p2:a}=function(e,t,r,n){let i=t,o=e.ZERO,s=e.ZERO;for(;r>rC||n>rC;)r&rA&&(o=o.add(i)),n&rA&&(s=s.add(i)),i=i.double(),r>>=rA,n>>=rA;return{p1:o,p2:s}}(C,this,n,o);return E(t.beta,s,a,r,i)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return v(this,e)}isTorsionFree(){let{isTorsionFree:e}=i;return a===rV||(e?e(C,this):x.wNAFCachedUnsafe(this,c).is0())}clearCofactor(){let{clearCofactor:e}=i;return a===rV?this:e?e(C,this):this.multiplyUnsafe(a)}toBytes(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return t2("isCompressed",e),this.assertValidity(),d(C,this,e)}toRawBytes(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return this.toBytes(e)}toHex(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return eL(this.toBytes(e))}toString(){return"<Point ".concat(this.is0()?"ZERO":this.toHex(),">")}constructor(e,t,r){this.px=y("x",e),this.py=y("y",t,!0),this.pz=y("z",r),Object.freeze(this)}}C.BASE=new C(e.Gx,e.Gy,o.ONE),C.ZERO=new C(o.ZERO,o.ONE,o.ZERO),C.Fp=o,C.Fn=s;let A=s.BITS,x=(n=i.endo?Math.ceil(A/2):A,{constTimeNegate:rx,hasPrecomputes:e=>1!==r_(e),unsafeLadder(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.ZERO,n=e;for(;t>rC;)t&rA&&(r=r.add(n)),n=n.double(),t>>=rA;return r},precomputeWindow(e,t){let{windows:r,windowSize:i}=rN(t,n),o=[],s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,t,r){let i=C.ZERO,o=C.BASE,s=rN(e,n);for(let e=0;e<s.windows;e++){let{nextN:n,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:d}=rS(r,e,s);r=n,c?o=o.add(rx(u,t[d])):i=i.add(rx(l,t[a]))}return rR(r),{p:i,f:o}},wNAFUnsafe(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C.ZERO,o=rN(e,n);for(let e=0;e<o.windows&&r!==rC;e++){let{nextN:n,offset:s,isZero:a,isNeg:c}=rS(r,e,o);if(r=n,!a){let e=t[s];i=i.add(c?e.negate():e)}}return rR(r),i},getPrecomputes(e,t,r){let n=rP.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),rP.set(t,n))),n},wNAFCached(e,t,r){let n=r_(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=r_(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,t){rI(t,n),rO.set(e,t),rP.delete(e)}});return C}(t,r),n,r);return Object.assign({},i,{ProjectivePoint:i.Point,CURVE:e})})({...e,hash:t});return{...r(t),create:r}}let r0={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},r1={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},r2={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},r6=rv(r0.p),r5=rv(r1.p),r8=rv(r2.p);rQ({...r0,Fp:r6,lowS:!1},th),rQ({...r1,Fp:r5,lowS:!1},tg),rQ({...r2,Fp:r8,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},tp),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,r(5276),"".concat("wc","@").concat(2,":").concat("client",":"),Y.SEVEN_DAYS,Y.FIVE_MINUTES,Y.FIVE_MINUTES,Y.FIVE_MINUTES,Y.FIVE_MINUTES,Y.FIVE_MINUTES,Y.FIVE_MINUTES,Y.ONE_DAY,Y.ONE_DAY,Y.ONE_DAY,Y.ONE_DAY,Y.FIVE_MINUTES,Y.FIVE_MINUTES,Y.FIVE_MINUTES,Y.FIVE_MINUTES,Y.ONE_DAY,Y.ONE_DAY,Y.ONE_DAY,Y.ONE_DAY,Y.ONE_HOUR,Y.ONE_HOUR,Y.FIVE_MINUTES,Y.FIVE_MINUTES,Y.FIVE_MINUTES,Y.SEVEN_DAYS,"".concat("wc","@",1.5,":").concat("auth",":"),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,r(5071),r(38979),r(84398).lW,"".concat("wc","@2:").concat("universal_provider",":"),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let r3=null,r4={getSIWX:()=>m.OptionsController.state.siwx,async initializeIfEnabled(){var e,t,r,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.R.getActiveCaipAddress(),a=m.OptionsController.state.siwx;if(!(a&&i))return;let[l,u,d]=i.split(":");if(c.R.checkIfSupportedNetwork(l,"".concat(l,":").concat(u)))try{if(null===(e=m.OptionsController.state.remoteFeatures)||void 0===e?void 0:e.emailCapture){let e=null===(t=c.R.getAccountData(l))||void 0===t?void 0:t.user;await o.I.open({view:"DataCapture",data:{email:null!==(r=null==e?void 0:e.email)&&void 0!==r?r:void 0}});return}if(r3&&await r3,(await a.getSessions("".concat(l,":").concat(u),d)).length)return;await o.I.open({view:"SIWXSignMessage"})}catch(e){console.error("SIWXUtil:initializeIfEnabled",e),O.X.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await (null===(n=C.l._getClient())||void 0===n?void 0:n.disconnect().catch(console.error)),s.RouterController.reset("Connect"),I.K.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){let e=m.OptionsController.state.siwx,t=k.j.getPlainAddress(c.R.getActiveCaipAddress()),r=(0,T.eq)(),n=C.l._getClient();if(!e)throw Error("SIWX is not enabled");if(!t)throw Error("No ActiveCaipAddress found");if(!r)throw Error("No ActiveCaipNetwork or client found");if(!n)throw Error("No ConnectionController client found");try{let i=await e.createMessage({chainId:r.caipNetworkId,accountAddress:t}),a=i.toString();x.ConnectorController.getConnectorId(r.chainNamespace)===d.bq.CONNECTOR_ID.AUTH&&s.RouterController.pushTransactionStack({});let l=await n.signMessage(a);await e.addSession({data:i,message:a,signature:l}),c.R.setLastConnectedSIWECaipNetwork(r),o.I.close(),O.X.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(t){let e=this.getSIWXEventProperties();o.I.state.open&&"ApproveTransaction"!==s.RouterController.state.view||await o.I.open({view:"SIWXSignMessage"}),I.K.showError("Error signing message"),O.X.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:e}),console.error("SWIXUtil:requestSignMessage",t)}},async cancelSignMessage(){try{var e;let t=this.getSIWX();if(null==t?void 0:null===(e=t.getRequired)||void 0===e?void 0:e.call(t)){let e=c.R.getLastConnectedSIWECaipNetwork();if(e){let r=await (null==t?void 0:t.getSessions(null==e?void 0:e.caipNetworkId,k.j.getPlainAddress(c.R.getActiveCaipAddress())||""));r&&r.length>0?await c.R.switchActiveNetwork(e):await C.l.disconnect()}else await C.l.disconnect()}else o.I.close();o.I.close(),O.X.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){let e=this.getSIWX(),t=c.R.getAllRequestedCaipNetworks(),r=[];return await Promise.all(t.map(async t=>{let n=await (null==e?void 0:e.getSessions(t.caipNetworkId,k.j.getPlainAddress(c.R.getActiveCaipAddress())||""));n&&r.push(...n)})),r},async getSessions(e){let t=m.OptionsController.state.siwx,r=null==e?void 0:e.address;if(!r){let e=c.R.getActiveCaipAddress();r=k.j.getPlainAddress(e)}let n=null==e?void 0:e.caipNetworkId;if(!n){let e=c.R.getActiveCaipNetwork();n=null==e?void 0:e.caipNetworkId}return t&&r&&n?t.getSessions(n,r):[]},async isSIWXCloseDisabled(){let e=this.getSIWX();if(e){let r="ApproveTransaction"===s.RouterController.state.view,n="SIWXSignMessage"===s.RouterController.state.view;if(r||n){var t;return(null===(t=e.getRequired)||void 0===t?void 0:t.call(e))&&0===(await this.getSessions()).length}}return!1},async authConnectorAuthenticate(e){var t;let{authConnector:r,chainId:n,socialUri:i,preferredAccountType:o,chainNamespace:s}=e,a=r4.getSIWX(),l=(0,T.eq)();if(!a||!s.includes(d.bq.CHAIN.EVM)||(null===(t=m.OptionsController.state.remoteFeatures)||void 0===t?void 0:t.emailCapture)){let e=await r.connect({chainId:n,socialUri:i,preferredAccountType:o});return{address:e.address,chainId:e.chainId,accounts:e.accounts}}let u="".concat(s,":").concat(n),f=await a.createMessage({chainId:u,accountAddress:"<<AccountAddress>>"}),h={accountAddress:f.accountAddress,chainId:f.chainId,domain:f.domain,uri:f.uri,version:f.version,nonce:f.nonce,notBefore:f.notBefore,statement:f.statement,resources:f.resources,requestId:f.requestId,issuedAt:f.issuedAt,expirationTime:f.expirationTime,serializedMessage:f.toString()},p=await r.connect({chainId:n,socialUri:i,siwxMessage:h,preferredAccountType:o});if(h.accountAddress=p.address,h.serializedMessage=p.message||"",p.signature&&p.message){let e=r4.addEmbeddedWalletSession(h,p.message,p.signature);await e}return c.R.setLastConnectedSIWECaipNetwork(l),{address:p.address,chainId:p.chainId,accounts:p.accounts}},async addEmbeddedWalletSession(e,t,r){if(r3)return r3;let n=r4.getSIWX();return n?r3=n.addSession({data:e,message:t,signature:r}).finally(()=>{r3=null}):Promise.resolve()},async universalProviderAuthenticate(e){var t,r,n;let{universalProvider:i,chains:o,methods:s}=e,l=r4.getSIWX(),u=(0,T.eq)(),d=new Set(o.map(e=>e.split(":")[0]));if(!l||1!==d.size||!d.has("eip155"))return!1;let f=await l.createMessage({chainId:(null===(t=(0,T.eq)())||void 0===t?void 0:t.caipNetworkId)||"",accountAddress:""}),h=await i.authenticate({nonce:f.nonce,domain:f.domain,uri:f.uri,exp:f.expirationTime,iat:f.issuedAt,nbf:f.notBefore,requestId:f.requestId,version:f.version,resources:f.resources,statement:f.statement,chainId:f.chainId,methods:s,chains:[f.chainId,...o.filter(e=>e!==f.chainId)]});if(I.K.showLoading("Authenticating...",{autoClose:!1}),a.AccountController.setConnectedWalletInfo({...h.session.peer.metadata,name:h.session.peer.metadata.name,icon:null===(r=h.session.peer.metadata.icons)||void 0===r?void 0:r[0],type:"WALLET_CONNECT"},Array.from(d)[0]),null==h?void 0:null===(n=h.auths)||void 0===n?void 0:n.length){let e=h.auths.map(e=>{let t=i.client.formatAuthMessage({request:e.p,iss:e.p.iss});return{data:{...e.p,accountAddress:e.p.iss.split(":").slice(-1).join(""),chainId:e.p.iss.split(":").slice(2,4).join(":"),uri:e.p.aud,version:e.p.version||f.version,expirationTime:e.p.exp,issuedAt:e.p.iat,notBefore:e.p.nbf},message:t,signature:e.s.s,cacao:e}});try{await l.setSessions(e),u&&c.R.setLastConnectedSIWECaipNetwork(u),O.X.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:r4.getSIWXEventProperties()})}catch(e){throw console.error("SIWX:universalProviderAuth - failed to set sessions",e),O.X.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:r4.getSIWXEventProperties()}),await i.disconnect().catch(console.error),e}finally{I.K.hide()}}return!0},getSIWXEventProperties(){var e;let t=c.R.state.activeChain;if(!t)throw Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:(null===(e=c.R.state.activeCaipNetwork)||void 0===e?void 0:e.caipNetworkId)||"",isSmartAccount:(0,T.r9)(t)===_.y.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){let e=this.getSIWX();e&&await e.setSessions([])}},r9={isUnsupportedChainView:()=>"UnsupportedChain"===s.RouterController.state.view||"SwitchNetwork"===s.RouterController.state.view&&s.RouterController.state.history.includes("UnsupportedChain"),async safeClose(){if(this.isUnsupportedChainView()||await r4.isSIWXCloseDisabled()){o.I.shake();return}("DataCapture"===s.RouterController.state.view||"DataCaptureOtpConfirm"===s.RouterController.state.view)&&C.l.disconnect(),o.I.close()}};r(5712),r(73254)},83334:function(e,t,r){"use strict";r.d(t,{AccountController:function(){return d}});var n=r(96768),i=r(12312),o=r(16678),s=r(5615),a=r(2217),c=r(88538),l=r(61047);let u=(0,n.sj)({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),d=(0,a.P)({state:u,replaceState(e){e&&Object.assign(u,(0,n.iH)(e))},subscribe:e=>c.R.subscribeChainProp("accountState",t=>{if(t)return e(t)}),subscribeKey(e,t,r){let n;return c.R.subscribeChainProp("accountState",r=>{if(r){let i=r[e];n!==i&&(n=i,t(i))}},r)},setStatus(e,t){c.R.setAccountProp("status",e,t)},getCaipAddress(e){var t,r;if(e)return null===(r=c.R.state.chains.get(e))||void 0===r?void 0:null===(t=r.accountState)||void 0===t?void 0:t.caipAddress},setCaipAddress(e,t){let r=e?s.j.getPlainAddress(e):void 0;t===c.R.state.activeChain&&(c.R.state.activeCaipAddress=e),c.R.setAccountProp("caipAddress",e,t),c.R.setAccountProp("address",r,t)},setBalance(e,t,r){c.R.setAccountProp("balance",e,r),c.R.setAccountProp("balanceSymbol",t,r)},setProfileName(e,t){c.R.setAccountProp("profileName",e,t)},setProfileImage(e,t){c.R.setAccountProp("profileImage",e,t)},setUser(e,t){c.R.setAccountProp("user",e,t)},setAddressExplorerUrl(e,t){c.R.setAccountProp("addressExplorerUrl",e,t)},setSmartAccountDeployed(e,t){c.R.setAccountProp("smartAccountDeployed",e,t)},setCurrentTab(e){c.R.setAccountProp("currentTab",e,c.R.state.activeChain)},setTokenBalance(e,t){e&&c.R.setAccountProp("tokenBalance",e,t)},setShouldUpdateToAddress(e,t){c.R.setAccountProp("shouldUpdateToAddress",e,t)},addAddressLabel(e,t,r){var n,i;if(!r)return;let o=(null===(i=c.R.state.chains.get(r))||void 0===i?void 0:null===(n=i.accountState)||void 0===n?void 0:n.addressLabels)||new Map;o.set(e,t),c.R.setAccountProp("addressLabels",o,r)},removeAddressLabel(e,t){var r,n;if(!t)return;let i=(null===(n=c.R.state.chains.get(t))||void 0===n?void 0:null===(r=n.accountState)||void 0===r?void 0:r.addressLabels)||new Map;i.delete(e),c.R.setAccountProp("addressLabels",i,t)},setConnectedWalletInfo(e,t){c.R.setAccountProp("connectedWalletInfo",e,t,!1)},setPreferredAccountType(e,t){c.R.setAccountProp("preferredAccountType",e,t)},setSocialProvider(e,t){e&&c.R.setAccountProp("socialProvider",e,t)},setSocialWindow(e,t){c.R.setAccountProp("socialWindow",e?(0,n.iH)(e):void 0,t)},setFarcasterUrl(e,t){c.R.setAccountProp("farcasterUrl",e,t)},async fetchTokenBalance(e){var t,r;u.balanceLoading=!0;let n=null===(t=c.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId,a=null===(r=c.R.state.activeCaipNetwork)||void 0===r?void 0:r.chainNamespace,f=c.R.state.activeCaipAddress,h=f?s.j.getPlainAddress(f):void 0;if(u.lastRetry&&!s.j.isAllowedRetry(u.lastRetry,30*o.bq.ONE_SEC_MS))return u.balanceLoading=!1,[];try{if(h&&n&&a){let e=await i.Q.getMyTokensWithBalance();return d.setTokenBalance(e,a),u.lastRetry=void 0,u.balanceLoading=!1,e}}catch(t){u.lastRetry=Date.now(),null==e||e(t),l.K.showError("Token Balance Unavailable")}finally{u.balanceLoading=!1}return[]},resetAccount(e){c.R.resetAccount(e)}})},83801:function(e,t,r){"use strict";r.d(t,{B:function(){return c}});var n=r(96768),i=r(82853),o=r(2217),s=r(42046);let a=(0,n.sj)({message:"",variant:"info",open:!1}),c=(0,o.P)({state:a,subscribeKey:(e,t)=>(0,i.VW)(a,e,t),open(e,t){let{debug:r}=s.OptionsController.state,{code:n,displayMessage:i,debugMessage:o}=e;i&&r&&(a.message=i,a.variant=t,a.open=!0),o&&console.error("function"==typeof o?o():o,n?{code:n}:void 0)},warn(e,t,r){a.open=!0,a.message=e,a.variant="warning",t&&console.warn(t,r)},close(){a.open=!1,a.message="",a.variant="info"}})},36282:function(e,t,r){"use strict";r.d(t,{Q:function(){return v}});var n=r(96768),i=r(82853),o=r(30345),s=r(47301),a=r(5615),c=r(73254),l=r(19221),u=r(87251),d=r(47664),f=r(88538),h=r(65326),p=r(66800),g=r(42046);let m=a.j.getApiUrl(),y=new c.V({baseUrl:m,clientId:null}),b=(0,n.sj)({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),v={state:b,subscribeKey:(e,t)=>(0,i.VW)(b,e,t),_getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:r}=g.OptionsController.state;return{projectId:e,st:t||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions:e=>g.OptionsController.state.isUniversalProvider?e.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):e,async _fetchWalletImage(e){let t="".concat(y.baseUrl,"/getWalletImage/").concat(e),r=await y.getBlob({path:t,params:v._getSdkProperties()});d.W.setWalletImage(e,URL.createObjectURL(r))},async _fetchNetworkImage(e){let t="".concat(y.baseUrl,"/public/getAssetImage/").concat(e),r=await y.getBlob({path:t,params:v._getSdkProperties()});d.W.setNetworkImage(e,URL.createObjectURL(r))},async _fetchConnectorImage(e){let t="".concat(y.baseUrl,"/public/getAssetImage/").concat(e),r=await y.getBlob({path:t,params:v._getSdkProperties()});d.W.setConnectorImage(e,URL.createObjectURL(r))},async _fetchCurrencyImage(e){let t="".concat(y.baseUrl,"/public/getCurrencyImage/").concat(e),r=await y.getBlob({path:t,params:v._getSdkProperties()});d.W.setCurrencyImage(e,URL.createObjectURL(r))},async _fetchTokenImage(e){let t="".concat(y.baseUrl,"/public/getTokenImage/").concat(e),r=await y.getBlob({path:t,params:v._getSdkProperties()});d.W.setTokenImage(e,URL.createObjectURL(r))},_filterWalletsByPlatform:e=>a.j.isMobile()?null==e?void 0:e.filter(e=>!!e.mobile_link||e.id===l.m.COINBASE.id||e.id===l.m.BINANCE.id||"solana"===f.R.state.activeChain&&(e.id===l.m.SOLFLARE.id||e.id===l.m.PHANTOM.id)):e,fetchProjectConfig:async()=>(await y.get({path:"/appkit/v1/config",params:v._getSdkProperties()})).features,async fetchAllowedOrigins(){try{let{allowedOrigins:e}=await y.get({path:"/projects/v1/origins",params:v._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){let t=e.cause.status;if(t===o.bq.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw Error("RATE_LIMITED",{cause:e});if(t>=o.bq.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw Error("SERVER_ERROR",{cause:e})}return[]}},async fetchNetworkImages(){let e=f.R.getAllRequestedCaipNetworks(),t=null==e?void 0:e.map(e=>{let{assets:t}=e;return null==t?void 0:t.imageId}).filter(Boolean).filter(e=>!s.f.getNetworkImageById(e));t&&await Promise.allSettled(t.map(e=>v._fetchNetworkImage(e)))},async fetchConnectorImages(){let{connectors:e}=h.ConnectorController.state,t=e.map(e=>{let{imageId:t}=e;return t}).filter(Boolean);await Promise.allSettled(t.map(e=>v._fetchConnectorImage(e)))},async fetchCurrencyImages(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];await Promise.allSettled(e.map(e=>v._fetchCurrencyImage(e)))},async fetchTokenImages(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];await Promise.allSettled(e.map(e=>v._fetchTokenImage(e)))},async fetchWallets(e){var t,r;let n=null!==(r=e.exclude)&&void 0!==r?r:[];v._getSdkProperties().sv.startsWith("html-core-")&&n.push(...Object.values(l.m).map(e=>e.id));let i=await y.get({path:"/getWallets",params:{...v._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:null===(t=e.include)||void 0===t?void 0:t.join(","),exclude:n.join(",")}});return{data:v._filterWalletsByPlatform(null==i?void 0:i.data)||[],count:null==i?void 0:i.count}},async fetchFeaturedWallets(){let{featuredWalletIds:e}=g.OptionsController.state;if(null==e?void 0:e.length){var t;let r={...v._getSdkProperties(),page:1,entries:null!==(t=null==e?void 0:e.length)&&void 0!==t?t:4,include:e},{data:n}=await v.fetchWallets(r),i=[...n].sort((t,r)=>e.indexOf(t.id)-e.indexOf(r.id)),o=i.map(e=>e.image_id).filter(Boolean);await Promise.allSettled(o.map(e=>v._fetchWalletImage(e))),b.featured=i,b.allFeatured=i}},async fetchRecommendedWallets(){try{b.isFetchingRecommendedWallets=!0;let{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:r}=g.OptionsController.state,n=[...null!=t?t:[],...null!=r?r:[]].filter(Boolean),i=f.R.getRequestedCaipNetworkIds().join(","),{data:o,count:s}=await v.fetchWallets({page:1,entries:4,include:e,exclude:n,chains:i}),a=u.M.getRecentWallets(),c=o.map(e=>e.image_id).filter(Boolean),l=a.map(e=>e.image_id).filter(Boolean);await Promise.allSettled([...c,...l].map(e=>v._fetchWalletImage(e))),b.recommended=o,b.allRecommended=o,b.count=null!=s?s:0}catch(e){}finally{b.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage(e){let{page:t}=e,{includeWalletIds:r,excludeWalletIds:n,featuredWalletIds:i}=g.OptionsController.state,o=f.R.getRequestedCaipNetworkIds().join(","),s=[...b.recommended.map(e=>{let{id:t}=e;return t}),...null!=n?n:[],...null!=i?i:[]].filter(Boolean),{data:c,count:l}=await v.fetchWallets({page:t,entries:40,include:r,exclude:s,chains:o}),u=c.slice(0,20).map(e=>e.image_id).filter(Boolean);await Promise.allSettled(u.map(e=>v._fetchWalletImage(e))),b.wallets=a.j.uniqueBy([...b.wallets,...v._filterOutExtensions(c)],"id").filter(e=>{var t;return null===(t=e.chains)||void 0===t?void 0:t.some(e=>o.includes(e))}),b.count=l>b.count?l:b.count,b.page=t},async initializeExcludedWallets(e){let{ids:t}=e,r={page:1,entries:t.length,include:t},{data:n}=await v.fetchWallets(r);n&&n.forEach(e=>{b.excludedWallets.push({rdns:e.rdns,name:e.name})})},async searchWallet(e){let{search:t,badge:r}=e,{includeWalletIds:n,excludeWalletIds:i}=g.OptionsController.state,o=f.R.getRequestedCaipNetworkIds().join(",");b.search=[];let s={page:1,entries:100,search:null==t?void 0:t.trim(),badge_type:r,include:n,exclude:i,chains:o},{data:c}=await v.fetchWallets(s);p.X.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:null!=r?r:"",search:null!=t?t:""}});let l=c.map(e=>e.image_id).filter(Boolean);await Promise.allSettled([...l.map(e=>v._fetchWalletImage(e)),a.j.wait(300)]),b.search=v._filterOutExtensions(c)},initPromise:(e,t)=>b.promises[e]||(b.promises[e]=t()),prefetch(){let{fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Promise.allSettled([e&&v.initPromise("connectorImages",v.fetchConnectorImages),t&&v.initPromise("featuredWallets",v.fetchFeaturedWallets),r&&v.initPromise("recommendedWallets",v.fetchRecommendedWallets),n&&v.initPromise("networkImages",v.fetchNetworkImages)].filter(Boolean))},prefetchAnalyticsConfig(){var e;(null===(e=g.OptionsController.state.features)||void 0===e?void 0:e.analytics)&&v.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:e}=await y.get({path:"/getAnalyticsConfig",params:v._getSdkProperties()});g.OptionsController.setFeatures({analytics:e})}catch(e){g.OptionsController.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!(null==e?void 0:e.length)){b.featured=b.allFeatured,b.recommended=b.allRecommended;return}let t=f.R.getRequestedCaipNetworkIds().join(",");b.featured=b.allFeatured.filter(e=>{var r;return null===(r=e.chains)||void 0===r?void 0:r.some(e=>t.includes(e))}),b.recommended=b.allRecommended.filter(e=>{var r;return null===(r=e.chains)||void 0===r?void 0:r.some(e=>t.includes(e))}),b.filteredWallets=b.wallets.filter(e=>{var r;return null===(r=e.chains)||void 0===r?void 0:r.some(e=>t.includes(e))})},clearFilterByNamespaces(){b.filteredWallets=[]},setFilterByNamespace(e){if(!e){b.featured=b.allFeatured,b.recommended=b.allRecommended;return}let t=f.R.getRequestedCaipNetworkIds().join(",");b.featured=b.allFeatured.filter(e=>{var r;return null===(r=e.chains)||void 0===r?void 0:r.some(e=>t.includes(e))}),b.recommended=b.allRecommended.filter(e=>{var r;return null===(r=e.chains)||void 0===r?void 0:r.some(e=>t.includes(e))}),b.filteredWallets=b.wallets.filter(e=>{var r;return null===(r=e.chains)||void 0===r?void 0:r.some(e=>t.includes(e))})}}},47664:function(e,t,r){"use strict";r.d(t,{W:function(){return a}});var n=r(96768),i=r(82853),o=r(2217);let s=(0,n.sj)({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),a=(0,o.P)({state:s,subscribeNetworkImages:e=>(0,n.Ld)(s.networkImages,()=>e(s.networkImages)),subscribeKey:(e,t)=>(0,i.VW)(s,e,t),subscribe:e=>(0,n.Ld)(s,()=>e(s)),setWalletImage(e,t){s.walletImages[e]=t},setNetworkImage(e,t){s.networkImages[e]=t},setChainImage(e,t){s.chainImages[e]=t},setConnectorImage(e,t){s.connectorImages={...s.connectorImages,[e]:t}},setTokenImage(e,t){s.tokenImages[e]=t},setCurrencyImage(e,t){s.currencyImages[e]=t}})},7987:function(e,t,r){"use strict";r.d(t,{L:function(){return g}});var n=r(96768),i=r(16678),o=r(5615),s=r(73254),a=r(87251),c=r(83334),l=r(88538),u=r(42046),d=r(61047);let f={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},h=o.j.getBlockchainApiUrl(),p=(0,n.sj)({clientId:null,api:new s.V({baseUrl:h,clientId:null}),supportedChains:{http:[],ws:[]}}),g={state:p,async get(e){let{st:t,sv:r}=g.getSdkProperties(),n=u.OptionsController.state.projectId,i={...e.params||{},st:t,sv:r,projectId:n};return p.api.get({...e,params:i})},getSdkProperties(){let{sdkType:e,sdkVersion:t}=u.OptionsController.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{p.supportedChains.http.length||await g.getSupportedNetworks()}catch(e){return!1}return p.supportedChains.http.includes(e)},async getSupportedNetworks(){try{let e=await g.get({path:"v1/supported-chains"});return p.supportedChains=e,e}catch(e){return p.supportedChains}},async fetchIdentity(e){let{address:t}=e,r=a.M.getIdentityFromCacheForAddress(t);if(r)return r;let n=await g.get({path:"/v1/identity/".concat(t),params:{sender:l.R.state.activeCaipAddress?o.j.getPlainAddress(l.R.state.activeCaipAddress):void 0}});return a.M.updateIdentityCache({address:t,identity:n,timestamp:Date.now()}),n},async fetchTransactions(e){var t;let{account:r,cursor:n,signal:i,cache:o,chainId:s}=e;if(!await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId))return{data:[],next:void 0};let c=a.M.getTransactionsCacheForAddress({address:r,chainId:s});if(c)return c;let u=await g.get({path:"/v1/account/".concat(r,"/history"),params:{cursor:n,chainId:s},signal:i,cache:o});return a.M.updateTransactionsCache({address:r,chainId:s,timestamp:Date.now(),transactions:u}),u},async fetchSwapQuote(e){var t;let{amount:r,userAddress:n,from:i,to:o,gasPrice:s}=e;return await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?g.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:r,userAddress:n,from:i,to:o,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens(e){var t;let{chainId:r}=e;return await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?g.get({path:"/v1/convert/tokens",params:{chainId:r}}):{tokens:[]}},async fetchTokenPrice(e){var t;let{addresses:r}=e;if(!await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId))return{fungibles:[]};let n=a.M.getTokenPriceCacheForAddresses(r);if(n)return n;let i=await p.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:r,projectId:u.OptionsController.state.projectId},headers:{"Content-Type":"application/json"}});return a.M.updateTokenPriceCache({addresses:r,timestamp:Date.now(),tokenPrice:i}),i},async fetchSwapAllowance(e){var t;let{tokenAddress:r,userAddress:n}=e;return await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?g.get({path:"/v1/convert/allowance",params:{tokenAddress:r,userAddress:n},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice(e){var t;let{chainId:r}=e,{st:n,sv:i}=g.getSdkProperties();if(!await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId))throw Error("Network not supported for Gas Price");return g.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:r,st:n,sv:i}})},async generateSwapCalldata(e){var t;let{amount:r,from:n,to:o,userAddress:s,disableEstimate:a}=e;if(!await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId))throw Error("Network not supported for Swaps");return p.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:r,eip155:{slippage:i.bq.CONVERT_SLIPPAGE_TOLERANCE},projectId:u.OptionsController.state.projectId,from:n,to:o,userAddress:s,disableEstimate:a}})},async generateApproveCalldata(e){var t;let{from:r,to:n,userAddress:i}=e,{st:o,sv:s}=g.getSdkProperties();if(!await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId))throw Error("Network not supported for Swaps");return g.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:i,from:r,to:n,st:o,sv:s}})},async getBalance(e,t,r){var n;let{st:i,sv:o}=g.getSdkProperties();if(!await g.isNetworkSupported(null===(n=l.R.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId))return d.K.showError("Token Balance Unavailable"),{balances:[]};let s="".concat(t,":").concat(e),c=a.M.getBalanceCacheForCaipAddress(s);if(c)return c;let u=await g.get({path:"/v1/account/".concat(e,"/balance"),params:{currency:"usd",chainId:t,forceUpdate:r,st:i,sv:o}});return a.M.updateBalanceCache({caipAddress:s,balance:u,timestamp:Date.now()}),u},async lookupEnsName(e){var t;return await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?g.get({path:"/v1/profile/account/".concat(e),params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName(e){var t;let{address:r}=e;return await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?g.get({path:"/v1/profile/reverse/".concat(r),params:{sender:c.AccountController.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(e){var t;return await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?g.get({path:"/v1/profile/suggestions/".concat(e),params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName(e){var t;let{coinType:r,address:n,message:i,signature:o}=e;return await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?p.api.post({path:"/v1/profile/account",body:{coin_type:r,address:n,message:i,signature:o},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL(e){var t;let{destinationWallets:r,partnerUserId:n,defaultNetwork:i,purchaseAmount:o,paymentAmount:s}=e;return await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?(await p.api.post({path:"/v1/generators/onrampurl",params:{projectId:u.OptionsController.state.projectId},body:{destinationWallets:r,defaultNetwork:i,partnerUserId:n,defaultExperience:"buy",presetCryptoAmount:o,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await g.isNetworkSupported(null===(e=l.R.state.activeCaipNetwork)||void 0===e?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await g.get({path:"/v1/onramp/options"})}catch(e){return f}},async getOnrampQuote(e){let{purchaseCurrency:t,paymentCurrency:r,amount:n,network:i}=e;try{var o;if(!await g.isNetworkSupported(null===(o=l.R.state.activeCaipNetwork)||void 0===o?void 0:o.caipNetworkId))return null;return await p.api.post({path:"/v1/onramp/quote",params:{projectId:u.OptionsController.state.projectId},body:{purchaseCurrency:t,paymentCurrency:r,amount:n,network:i}})}catch(e){return{networkFee:{amount:n,currency:r.id},paymentSubtotal:{amount:n,currency:r.id},paymentTotal:{amount:n,currency:r.id},purchaseAmount:{amount:n,currency:r.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){var t;return await g.isNetworkSupported(null===(t=l.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)?g.get({path:"/v1/sessions/".concat(e)}):[]},async revokeSmartSession(e,t,r){var n;return await g.isNetworkSupported(null===(n=l.R.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId)?p.api.post({path:"/v1/sessions/".concat(e,"/revoke"),params:{projectId:u.OptionsController.state.projectId},body:{pci:t,signature:r}}):{success:!1}},setClientId(e){p.clientId=e,p.api=new s.V({baseUrl:h,clientId:e})}}},88538:function(e,t,r){"use strict";r.d(t,{R:function(){return C}});var n=r(96768),i=r(82853),o=r(30345),s=r(16678),a=r(5615),c=r(87251),l=r(2217),u=r(83334),d=r(27948),f=r(65326),h=r(66800),p=r(42415),g=r(42046),m=r(93767),y=r(17418),b=r(82207);let v={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},w={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},E=(0,n.sj)({chains:(0,i.Yr)(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),C=(0,l.P)({state:E,subscribe:e=>(0,n.Ld)(E,()=>{e(E)}),subscribeKey:(e,t)=>(0,i.VW)(E,e,t),subscribeChainProp(e,t,r){let i;return(0,n.Ld)(E.chains,()=>{let n=r||E.activeChain;if(n){var o;let r=null===(o=E.chains.get(n))||void 0===o?void 0:o[e];i!==r&&(i=r,t(r))}})},initialize(e,t,r){var i;let{chainId:o,namespace:s}=c.M.getActiveNetworkProps(),a=null==t?void 0:t.find(e=>e.id.toString()===(null==o?void 0:o.toString())),l=e.find(e=>(null==e?void 0:e.namespace)===s)||(null==e?void 0:e[0]),u=e.map(e=>e.namespace).filter(e=>void 0!==e),d=new Set(g.OptionsController.state.enableEmbedded?[...u]:[...null!==(i=null==t?void 0:t.map(e=>e.chainNamespace))&&void 0!==i?i:[]]);(null==e?void 0:e.length)!==0&&l||(E.noAdapters=!0),!E.noAdapters&&(E.activeChain=null==l?void 0:l.namespace,E.activeCaipNetwork=a,C.setChainNetworkData(null==l?void 0:l.namespace,{caipNetwork:a}),E.activeChain&&m.I.set({activeChain:null==l?void 0:l.namespace})),d.forEach(e=>{let i=null==t?void 0:t.filter(t=>t.chainNamespace===e),o=c.M.getPreferredAccountTypes()||{},s={...g.OptionsController.state.defaultAccountTypes,...o};C.state.chains.set(e,{namespace:e,networkState:(0,n.sj)({...w,caipNetwork:null==i?void 0:i[0]}),accountState:(0,n.sj)({...v,preferredAccountType:s[e]}),caipNetworks:null!=i?i:[],...r}),C.setRequestedCaipNetworks(null!=i?i:[],e)})},removeAdapter(e){if(E.activeChain===e){let n=Array.from(E.chains.entries()).find(t=>{let[r]=t;return r!==e});if(n){var t,r;let e=null===(r=n[1])||void 0===r?void 0:null===(t=r.caipNetworks)||void 0===t?void 0:t[0];e&&C.setActiveCaipNetwork(e)}}E.chains.delete(e)},addAdapter(e,t,r){var n;let{networkControllerClient:i,connectionControllerClient:o}=t;if(!e.namespace)throw Error("ChainController:addAdapter - adapter must have a namespace");E.chains.set(e.namespace,{namespace:e.namespace,networkState:{...w,caipNetwork:r[0]},accountState:v,caipNetworks:r,connectionControllerClient:o,networkControllerClient:i}),C.setRequestedCaipNetworks(null!==(n=null==r?void 0:r.filter(t=>t.chainNamespace===e.namespace))&&void 0!==n?n:[],e.namespace)},addNetwork(e){let t=E.chains.get(e.chainNamespace);if(t){var r;let n=[...t.caipNetworks||[]];(null===(r=t.caipNetworks)||void 0===r?void 0:r.find(t=>t.id===e.id))||n.push(e),E.chains.set(e.chainNamespace,{...t,caipNetworks:n}),C.setRequestedCaipNetworks(n,e.chainNamespace),f.ConnectorController.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){let r=E.chains.get(e);if(r){var n,i,o;let s=(null===(n=E.activeCaipNetwork)||void 0===n?void 0:n.id)===t,a=[...(null===(i=r.caipNetworks)||void 0===i?void 0:i.filter(e=>e.id!==t))||[]];s&&(null==r?void 0:null===(o=r.caipNetworks)||void 0===o?void 0:o[0])&&C.setActiveCaipNetwork(r.caipNetworks[0]),E.chains.set(e,{...r,caipNetworks:a}),C.setRequestedCaipNetworks(a||[],e),0===a.length&&f.ConnectorController.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){let r=E.chains.get(e);r&&(r.networkState={...r.networkState||w,...t},E.chains.set(e,r))},setChainAccountData(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],!e)throw Error("Chain is required to update chain account data");let r=E.chains.get(e);if(r){let n={...r.accountState||v,...t};E.chains.set(e,{...r,accountState:n}),(1===E.chains.size||E.activeChain===e)&&(t.caipAddress&&(E.activeCaipAddress=t.caipAddress),u.AccountController.replaceState(n))}},setChainNetworkData(e,t){if(!e)return;let r=E.chains.get(e);if(r){let n={...r.networkState||w,...t};E.chains.set(e,{...r,networkState:n})}},setAccountProp(e,t,r){let n=!(arguments.length>3)||void 0===arguments[3]||arguments[3];C.setChainAccountData(r,{[e]:t},n)},setActiveNamespace(e){var t,r;E.activeChain=e;let n=e?E.chains.get(e):void 0,i=null==n?void 0:null===(t=n.networkState)||void 0===t?void 0:t.caipNetwork;(null==i?void 0:i.id)&&e&&(E.activeCaipAddress=null==n?void 0:null===(r=n.accountState)||void 0===r?void 0:r.caipAddress,E.activeCaipNetwork=i,C.setChainNetworkData(e,{caipNetwork:i}),c.M.setActiveCaipNetworkId(null==i?void 0:i.caipNetworkId),m.I.set({activeChain:e,selectedNetworkId:null==i?void 0:i.caipNetworkId}))},setActiveCaipNetwork(e){var t,r,n;if(!e)return;E.activeChain!==e.chainNamespace&&C.setIsSwitchingNamespace(!0);let i=E.chains.get(e.chainNamespace);E.activeChain=e.chainNamespace,E.activeCaipNetwork=e,C.setChainNetworkData(e.chainNamespace,{caipNetwork:e}),(null==i?void 0:null===(t=i.accountState)||void 0===t?void 0:t.address)?E.activeCaipAddress="".concat(e.chainNamespace,":").concat(e.id,":").concat(null==i?void 0:null===(n=i.accountState)||void 0===n?void 0:n.address):E.activeCaipAddress=void 0,C.setAccountProp("caipAddress",E.activeCaipAddress,e.chainNamespace),i&&u.AccountController.replaceState(i.accountState),b.S.resetSend(),m.I.set({activeChain:E.activeChain,selectedNetworkId:null===(r=E.activeCaipNetwork)||void 0===r?void 0:r.caipNetworkId}),c.M.setActiveCaipNetworkId(e.caipNetworkId),C.checkIfSupportedNetwork(e.chainNamespace)||!g.OptionsController.state.enableNetworkSwitch||g.OptionsController.state.allowUnsupportedChain||d.l.state.wcBasic||C.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;let t=E.chains.get(e.chainNamespace);if(t){var r;null==t||null===(r=t.caipNetworks)||void 0===r||r.push(e)}},async switchActiveNamespace(e){var t;if(!e)return;let r=e!==C.state.activeChain,n=null===(t=C.getNetworkData(e))||void 0===t?void 0:t.caipNetwork,i=C.getCaipNetworkByNamespace(e,null==n?void 0:n.id);r&&i&&await C.switchActiveNetwork(i)},async switchActiveNetwork(e){var t;let r=C.state.activeChain;if(!r)throw Error("ChainController:switchActiveNetwork - namespace is required");let n=C.state.chains.get(r),i=!(null==n?void 0:null===(t=n.caipNetworks)||void 0===t?void 0:t.some(e=>{var t;return e.id===(null===(t=E.activeCaipNetwork)||void 0===t?void 0:t.id)})),o=C.getNetworkControllerClient(e.chainNamespace);if(o){try{await o.switchCaipNetwork(e),i&&p.I.close()}catch(e){y.RouterController.goBack()}h.X.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})}},getNetworkControllerClient(e){let t=e||E.activeChain;if(!t)throw Error("ChainController:getNetworkControllerClient - chain is required");let r=E.chains.get(t);if(!r)throw Error("Chain adapter not found");if(!r.networkControllerClient)throw Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(e){let t=e||E.activeChain;if(!t)throw Error("Chain is required to get connection controller client");let r=E.chains.get(t);if(!(null==r?void 0:r.connectionControllerClient))throw Error("ConnectionController client not set");return r.connectionControllerClient},getNetworkProp(e,t){var r;let n=null===(r=E.chains.get(t))||void 0===r?void 0:r.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){let t=E.chains.get(e),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=(null==t?void 0:t.networkState)||{};return a.j.sortRequestedNetworks(r,n).filter(e=>null==e?void 0:e.id)},getAllRequestedCaipNetworks(){let e=[];return E.chains.forEach(t=>{if(!t.namespace)throw Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let r=C.getRequestedCaipNetworks(t.namespace);e.push(...r)}),e},setRequestedCaipNetworks(e,t){C.setAdapterNetworkState(t,{requestedCaipNetworks:e});let r=Array.from(new Set(C.getAllRequestedCaipNetworks().map(e=>e.chainNamespace)));f.ConnectorController.filterByNamespaces(r)},getAllApprovedCaipNetworkIds(){let e=[];return E.chains.forEach(t=>{if(!t.namespace)throw Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let r=C.getApprovedCaipNetworkIds(t.namespace);e.push(...r)}),e},getActiveCaipNetwork(e){if(e){var t,r;return null===(r=E.chains.get(e))||void 0===r?void 0:null===(t=r.networkState)||void 0===t?void 0:t.caipNetwork}return E.activeCaipNetwork},getActiveCaipAddress:()=>E.activeCaipAddress,getApprovedCaipNetworkIds(e){var t;let r=E.chains.get(e);return(null==r?void 0:null===(t=r.networkState)||void 0===t?void 0:t.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(e){let t=C.getNetworkControllerClient(),r=await (null==t?void 0:t.getApprovedCaipNetworksData());C.setAdapterNetworkState(e,{approvedCaipNetworkIds:null==r?void 0:r.approvedCaipNetworkIds,supportsAllNetworks:null==r?void 0:r.supportsAllNetworks})},checkIfSupportedNetwork(e,t){var r;let n=t||(null===(r=E.activeCaipNetwork)||void 0===r?void 0:r.caipNetworkId),i=C.getRequestedCaipNetworks(e);return!i.length||(null==i?void 0:i.some(e=>e.caipNetworkId===n))},checkIfSupportedChainId(e){if(!E.activeChain)return!0;let t=C.getRequestedCaipNetworks(E.activeChain);return null==t?void 0:t.some(t=>t.id===e)},setSmartAccountEnabledNetworks(e,t){C.setAdapterNetworkState(t,{smartAccountEnabledNetworks:e})},checkIfSmartAccountEnabled(){var e;let t=o.p1.caipNetworkIdToNumber(null===(e=E.activeCaipNetwork)||void 0===e?void 0:e.caipNetworkId),r=E.activeChain;if(!r||!t)return!1;let n=C.getNetworkProp("smartAccountEnabledNetworks",r);return!!(null==n?void 0:n.includes(Number(t)))},showUnsupportedChainUI(){p.I.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let e=E.activeCaipNetwork;return!!((null==e?void 0:e.chainNamespace)&&s.bq.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){C.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){var t,r;if(!e)throw Error("Chain is required to set account prop");let n=null===(r=C.state.chains.get(e))||void 0===r?void 0:null===(t=r.accountState)||void 0===t?void 0:t.preferredAccountType,i=g.OptionsController.state.defaultAccountTypes[e];E.activeCaipAddress=void 0,C.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:i||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),f.ConnectorController.removeConnectorId(e)},setIsSwitchingNamespace(e){E.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){let e=[];if(E.chains.forEach(t=>{o.bq.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>e===t.namespace)&&t.namespace&&e.push(t.namespace)}),e.length>0){var t,r;let n=e[0];return n?null===(r=E.chains.get(n))||void 0===r?void 0:null===(t=r.caipNetworks)||void 0===t?void 0:t[0]:void 0}},getAccountData(e){var t;let r=e||E.activeChain;if(r)return null===(t=C.state.chains.get(r))||void 0===t?void 0:t.accountState},getNetworkData(e){var t;let r=e||E.activeChain;if(r)return null===(t=C.state.chains.get(r))||void 0===t?void 0:t.networkState},getCaipNetworkByNamespace(e,t){var r,n,i;if(!e)return;let o=C.state.chains.get(e);return(null==o?void 0:null===(r=o.caipNetworks)||void 0===r?void 0:r.find(e=>e.id===t))||(null==o?void 0:null===(n=o.networkState)||void 0===n?void 0:n.caipNetwork)||(null==o?void 0:null===(i=o.caipNetworks)||void 0===i?void 0:i[0])},getRequestedCaipNetworkIds(){let e=f.ConnectorController.state.filterByNamespace;return(e?[E.chains.get(e)]:Array.from(E.chains.values())).flatMap(e=>(null==e?void 0:e.caipNetworks)||[]).map(e=>e.caipNetworkId)},getCaipNetworks:e=>e?C.getRequestedCaipNetworks(e):C.getAllRequestedCaipNetworks(),setLastConnectedSIWECaipNetwork(e){E.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork:()=>E.lastConnectedSIWECaipNetwork})},27948:function(e,t,r){"use strict";let n;r.d(t,{l:function(){return E}});var i=r(96768),o=r(82853),s=r(30345),a=r(60153),c=r(98018),l=r(32682),u=r(5615),d=r(87251),f=r(2217),h=r(83334),p=r(88538),g=r(65326),m=r(66800),y=r(42415),b=r(17418),v=r(68707);let w=(0,i.sj)({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"}),E=(0,f.P)({state:w,subscribe:e=>(0,i.Ld)(w,()=>e(w)),subscribeKey:(e,t)=>(0,o.VW)(w,e,t),_getClient:()=>w._client,setClient(e){w._client=(0,i.iH)(e)},initialize(e){let t=e.filter(e=>!!e.namespace).map(e=>e.namespace);E.syncStorageConnections(t)},syncStorageConnections(e){let t=d.M.getConnections();for(let n of null!=e?e:Array.from(p.R.state.chains.keys())){var r;let e=null!==(r=t[n])&&void 0!==r?r:[],i=new Map(w.recentConnections);i.set(n,e),w.recentConnections=i}},getConnections(e){var t;return e&&null!==(t=w.connections.get(e))&&void 0!==t?t:[]},hasAnyConnection:e=>Array.from(E.state.connections.values()).flatMap(e=>e).some(t=>{let{connectorId:r}=t;return r===e}),async connectWalletConnect(){var e,t,r,i;let{cache:o="auto"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=u.j.isTelegram()||u.j.isSafari()&&u.j.isIos();if("always"===o||"auto"===o&&s){if(n){await n,n=void 0;return}if(!u.j.isPairingExpired(null==w?void 0:w.wcPairingExpiry)){let e=w.wcUri;w.wcUri=e;return}n=null===(t=E._getClient())||void 0===t?void 0:null===(e=t.connectWalletConnect)||void 0===e?void 0:e.call(t).catch(()=>void 0),E.state.status="connecting",await n,n=void 0,w.wcPairingExpiry=void 0,E.state.status="connected"}else await (null===(i=E._getClient())||void 0===i?void 0:null===(r=i.connectWalletConnect)||void 0===r?void 0:r.call(i))},async connectExternal(e,t){var r,n;let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=await (null===(n=E._getClient())||void 0===n?void 0:null===(r=n.connectExternal)||void 0===r?void 0:r.call(n,e));return i&&p.R.setActiveNamespace(t),o},async reconnectExternal(e){var t,r;await (null===(r=E._getClient())||void 0===r?void 0:null===(t=r.reconnectExternal)||void 0===t?void 0:t.call(r,e));let n=e.chain||p.R.state.activeChain;n&&g.ConnectorController.setConnectorId(e.id,n)},async setPreferredAccountType(e,t){var r;if(!t)return;y.I.setLoading(!0,p.R.state.activeChain);let n=g.ConnectorController.getAuthConnector();n&&(h.AccountController.setPreferredAccountType(e,t),await n.provider.setPreferredAccount(e),d.M.setPreferredAccountTypes(Object.entries(p.R.state.chains).reduce((e,t)=>{let[r,n]=t,i=(0,a.r9)(r);return void 0!==i&&(e[r]=i),e},{})),await E.reconnectExternal(n),y.I.setLoading(!1,p.R.state.activeChain),m.X.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:(null===(r=p.R.state.activeCaipNetwork)||void 0===r?void 0:r.caipNetworkId)||""}}))},async signMessage(e){var t;return null===(t=E._getClient())||void 0===t?void 0:t.signMessage(e)},parseUnits(e,t){var r;return null===(r=E._getClient())||void 0===r?void 0:r.parseUnits(e,t)},formatUnits(e,t){var r;return null===(r=E._getClient())||void 0===r?void 0:r.formatUnits(e,t)},updateBalance(e){var t;return null===(t=E._getClient())||void 0===t?void 0:t.updateBalance(e)},async sendTransaction(e){var t;return null===(t=E._getClient())||void 0===t?void 0:t.sendTransaction(e)},async getCapabilities(e){var t;return null===(t=E._getClient())||void 0===t?void 0:t.getCapabilities(e)},async grantPermissions(e){var t;return null===(t=E._getClient())||void 0===t?void 0:t.grantPermissions(e)},async walletGetAssets(e){var t,r;return null!==(r=null===(t=E._getClient())||void 0===t?void 0:t.walletGetAssets(e))&&void 0!==r?r:{}},async estimateGas(e){var t;return null===(t=E._getClient())||void 0===t?void 0:t.estimateGas(e)},async writeContract(e){var t;return null===(t=E._getClient())||void 0===t?void 0:t.writeContract(e)},async getEnsAddress(e){var t;return null===(t=E._getClient())||void 0===t?void 0:t.getEnsAddress(e)},async getEnsAvatar(e){var t;return null===(t=E._getClient())||void 0===t?void 0:t.getEnsAvatar(e)},checkInstalled(e){var t,r;return(null===(r=E._getClient())||void 0===r?void 0:null===(t=r.checkInstalled)||void 0===t?void 0:t.call(r,e))||!1},resetWcConnection(){w.wcUri=void 0,w.wcPairingExpiry=void 0,w.wcLinking=void 0,w.recentWallet=void 0,w.status="disconnected",v.s.resetTransactions(),d.M.deleteWalletConnectDeepLink()},resetUri(){w.wcUri=void 0,w.wcPairingExpiry=void 0,n=void 0},finalizeWcConnection(e){let{wcLinking:t,recentWallet:r}=E.state;if(t&&d.M.setWalletConnectDeepLink(t),r&&d.M.setAppKitRecent(r),e){var n,i;m.X.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:(null===(i=b.RouterController.state.data)||void 0===i?void 0:null===(n=i.wallet)||void 0===n?void 0:n.name)||"Unknown"}})}},setWcBasic(e){w.wcBasic=e},setUri(e){w.wcUri=e,w.wcPairingExpiry=u.j.getPairingExpiry()},setWcLinking(e){w.wcLinking=e},setWcError(e){w.wcError=e,w.buffering=!1},setRecentWallet(e){w.recentWallet=e},setBuffering(e){w.buffering=e},setStatus(e){w.status=e},setIsSwitchingConnection(e){w.isSwitchingConnection=e},async disconnect(){let{id:e,namespace:t,initialDisconnect:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var n;await (null===(n=E._getClient())||void 0===n?void 0:n.disconnect({id:e,chainNamespace:t,initialDisconnect:r}))}catch(e){throw new f.g("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},setConnections(e,t){let r=new Map(w.connections);r.set(t,e),w.connections=r},async handleAuthAccountSwitch(e){var t,r;let{address:n,namespace:i}=e,o=null===(r=h.AccountController.state.user)||void 0===r?void 0:null===(t=r.accounts)||void 0===t?void 0:t.find(e=>"smartAccount"===e.type),s=o&&o.address.toLowerCase()===n.toLowerCase()&&l.m.canSwitchToSmartAccount(i)?"smartAccount":"eoa";await E.setPreferredAccountType(s,i)},async handleActiveConnection(e){let{connection:t,namespace:r,address:n}=e,i=g.ConnectorController.getConnectorById(t.connectorId),o=t.connectorId===s.bq.CONNECTOR_ID.AUTH;if(!i)throw Error("No connector found for connection: ".concat(t.connectorId));if(o)o&&n&&await E.handleAuthAccountSwitch({address:n,namespace:r});else{let e=await E.connectExternal({id:i.id,type:i.type,provider:i.provider,address:n,chain:r},r);return null==e?void 0:e.address}return n},async handleDisconnectedConnection(e){var t,r;let n;let{connection:i,namespace:o,address:a,closeModalOnConnect:c}=e,u=g.ConnectorController.getConnectorById(i.connectorId),d=null===(r=i.auth)||void 0===r?void 0:null===(t=r.name)||void 0===t?void 0:t.toLowerCase(),f=i.connectorId===s.bq.CONNECTOR_ID.AUTH,h=i.connectorId===s.bq.CONNECTOR_ID.WALLET_CONNECT;if(!u)throw Error("No connector found for connection: ".concat(i.connectorId));if(f){if(d&&l.m.isSocialProvider(d)){let{address:e}=await l.m.connectSocial({social:d,closeModalOnConnect:c,onOpenFarcaster(){y.I.open({view:"ConnectingFarcaster"})},onConnect(){b.RouterController.replace("ProfileWallets")}});n=e}else{let{address:e}=await l.m.connectEmail({closeModalOnConnect:c,onOpen(){y.I.open({view:"EmailLogin"})},onConnect(){b.RouterController.replace("ProfileWallets")}});n=e}}else if(h){let{address:e}=await l.m.connectWalletConnect({walletConnect:!0,connector:u,closeModalOnConnect:c,onOpen(e){let t=e?"AllWallets":"ConnectingWalletConnect";y.I.state.open?b.RouterController.push(t):y.I.open({view:t})},onConnect(){b.RouterController.replace("ProfileWallets")}});n=e}else{let e=await E.connectExternal({id:u.id,type:u.type,provider:u.provider,chain:o},o);e&&(n=e.address)}return f&&a&&await E.handleAuthAccountSwitch({address:a,namespace:o}),n},async switchConnection(e){let t,{connection:r,address:n,namespace:i,closeModalOnConnect:o,onChange:a}=e,l=h.AccountController.getCaipAddress(i);if(l){let{address:e}=s.uB.parseCaipAddress(l);t=e}let u=c.f.getConnectionStatus(r,i);switch(u){case"connected":case"active":{let e=await E.handleActiveConnection({connection:r,namespace:i,address:n});if(t&&e){let r=e.toLowerCase()!==t.toLowerCase();null==a||a({address:e,namespace:i,hasSwitchedAccount:r,hasSwitchedWallet:"active"===u})}break}case"disconnected":{let e=await E.handleDisconnectedConnection({connection:r,namespace:i,address:n,closeModalOnConnect:o});e&&(null==a||a({address:e,namespace:i,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw Error("Invalid connection status: ".concat(u))}}})},65326:function(e,t,r){"use strict";r.d(t,{ConnectorController:function(){return v}});var n=r(96768),i=r(82853),o=r(30345),s=r(65314),a=r(60153),c=r(19221),l=r(87251),u=r(2217),d=r(36282),f=r(88538),h=r(42046),p=r(17418),g=r(53949);let m=Object.fromEntries(o.FA.map(e=>[e,void 0])),y=Object.fromEntries(o.FA.map(e=>[e,!0])),b=(0,n.sj)({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:m,filterByNamespaceMap:y}),v=(0,u.P)({state:b,subscribe:e=>(0,n.Ld)(b,()=>{e(b)}),subscribeKey:(e,t)=>(0,i.VW)(b,e,t),initialize(e){e.forEach(e=>{let t=l.M.getConnectedConnectorId(e);t&&v.setConnectorId(t,e)})},setActiveConnector(e){e&&(b.activeConnector=(0,n.iH)(e))},setConnectors(e){e.filter(e=>!b.allConnectors.some(t=>t.id===e.id&&v.getConnectorName(t.name)===v.getConnectorName(e.name)&&t.chain===e.chain)).forEach(e=>{"MULTI_CHAIN"!==e.type&&b.allConnectors.push((0,n.iH)(e))});let t=v.getEnabledNamespaces(),r=v.getEnabledConnectors(t);b.connectors=v.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(b.filterByNamespaceMap).forEach(e=>{b.filterByNamespaceMap[e]=!1}),e.forEach(e=>{b.filterByNamespaceMap[e]=!0}),v.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){b.filterByNamespaceMap[e]=t,v.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let e=v.getEnabledNamespaces(),t=v.getEnabledConnectors(e),r=v.areAllNamespacesEnabled();b.connectors=v.mergeMultiChainConnectors(t),r?d.Q.clearFilterByNamespaces():d.Q.filterByNamespaces(e)},getEnabledNamespaces:()=>Object.entries(b.filterByNamespaceMap).filter(e=>{let[t,r]=e;return r}).map(e=>{let[t]=e;return t}),getEnabledConnectors:e=>b.allConnectors.filter(t=>e.includes(t.chain)),areAllNamespacesEnabled:()=>Object.values(b.filterByNamespaceMap).every(e=>e),mergeMultiChainConnectors(e){let t=v.generateConnectorMapByName(e),r=[];return t.forEach(e=>{let t=e[0],n=(null==t?void 0:t.id)===o.bq.CONNECTOR_ID.AUTH;e.length>1&&t?r.push({name:t.name,imageUrl:t.imageUrl,imageId:t.imageId,connectors:[...e],type:n?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(null==t?void 0:t.id)||""}):t&&r.push(t)}),r},generateConnectorMapByName(e){let t=new Map;return e.forEach(e=>{let{name:r}=e,n=v.getConnectorName(r);if(!n)return;let i=t.get(n)||[];i.find(t=>t.chain===e.chain)||i.push(e),t.set(n,i)}),t},getConnectorName:e=>e&&({"Trust Wallet":"Trust"})[e]||e,getUniqueConnectorsByName(e){let t=[];return e.forEach(e=>{t.find(t=>t.chain===e.chain)||t.push(e)}),t},addConnector(e){if(e.id===o.bq.CONNECTOR_ID.AUTH){var t,r,i;let s=(0,n.CO)(h.OptionsController.state),a=g.u.getSnapshot().themeMode,c=g.u.getSnapshot().themeVariables;null==e||null===(r=e.provider)||void 0===r||null===(t=r.syncDappData)||void 0===t||t.call(r,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),null==e||null===(i=e.provider)||void 0===i||i.syncTheme({themeMode:a,themeVariables:c,w3mThemeVariables:(0,o.tU)(c,a)}),v.setConnectors([e])}else v.setConnectors([e])},getAuthConnector(e){var t;let r=e||f.R.state.activeChain,n=b.connectors.find(e=>e.id===o.bq.CONNECTOR_ID.AUTH);return n?(null==n?void 0:null===(t=n.connectors)||void 0===t?void 0:t.length)?n.connectors.find(e=>e.chain===r):n:void 0},getAnnouncedConnectorRdns:()=>b.connectors.filter(e=>"ANNOUNCED"===e.type).map(e=>{var t;return null===(t=e.info)||void 0===t?void 0:t.rdns}),getConnectorById:e=>b.allConnectors.find(t=>t.id===e),getConnector(e){let{id:t,rdns:r,namespace:n}=e,i=n||f.R.state.activeChain;return b.allConnectors.filter(e=>e.chain===i).find(e=>{var n;return e.explorerId===t||(null===(n=e.info)||void 0===n?void 0:n.rdns)===r})},syncIfAuthConnector(e){var t,r;if("ID_AUTH"!==e.id)return;let i=(0,n.CO)(h.OptionsController.state),s=g.u.getSnapshot().themeMode,a=g.u.getSnapshot().themeVariables;null==e||null===(r=e.provider)||void 0===r||null===(t=r.syncDappData)||void 0===t||t.call(r,{metadata:i.metadata,sdkVersion:i.sdkVersion,sdkType:i.sdkType,projectId:i.projectId}),e.provider.syncTheme({themeMode:s,themeVariables:a,w3mThemeVariables:(0,o.tU)(a,s)})},getConnectorsByNamespace(e){let t=b.allConnectors.filter(t=>t.chain===e);return v.mergeMultiChainConnectors(t)},canSwitchToSmartAccount:e=>f.R.checkIfSmartAccountEnabled()&&(0,a.r9)(e)===s.y.ACCOUNT_TYPES.EOA,selectWalletConnector(e){let t=v.getConnector({id:e.id,rdns:e.rdns});c.R.handleMobileDeeplinkRedirect((null==t?void 0:t.explorerId)||e.id,f.R.state.activeChain),t?p.RouterController.push("ConnectingExternal",{connector:t,wallet:e}):p.RouterController.push("ConnectingWalletConnect",{wallet:e})},getConnectors:e=>e?v.getConnectorsByNamespace(e):v.mergeMultiChainConnectors(b.allConnectors),setFilterByNamespace(e){b.filterByNamespace=e,b.connectors=v.getConnectors(e),d.Q.setFilterByNamespace(e)},setConnectorId(e,t){e&&(b.activeConnectorIds={...b.activeConnectorIds,[t]:e},l.M.setConnectedConnectorId(t,e))},removeConnectorId(e){b.activeConnectorIds={...b.activeConnectorIds,[e]:void 0},l.M.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return b.activeConnectorIds[e]},isConnected:e=>e?!!b.activeConnectorIds[e]:Object.values(b.activeConnectorIds).some(e=>!!e),resetConnectorIds(){b.activeConnectorIds={...m}}})},66800:function(e,t,r){"use strict";r.d(t,{X:function(){return g}});var n=r(96768),i=r(30345),o=r(5615),s=r(73254),a=r(83334),c=r(83801),l=r(88538),u=r(42046);let d=o.j.getAnalyticsUrl(),f=new s.V({baseUrl:d,clientId:null}),h=["MODAL_CREATED"],p=(0,n.sj)({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),g={state:p,subscribe:e=>(0,n.Ld)(p,()=>e(p)),getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:r}=u.OptionsController.state;return{projectId:e,st:t,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(e){try{var t;let r=a.AccountController.state.address;if("address"in e.data&&e.data.address&&(r=e.data.address),h.includes(e.data.event)||"undefined"==typeof window)return;let n=null===(t=l.R.getActiveCaipNetwork())||void 0===t?void 0:t.caipNetworkId;await f.post({path:"/e",params:g.getSdkProperties(),body:{eventId:o.j.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:r,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:n}}}}),p.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===i.bq.HTTP_STATUS_CODES.FORBIDDEN&&!p.reportedErrors.FORBIDDEN&&(c.B.open({displayMessage:"Invalid App Configuration",debugMessage:"Origin ".concat((0,i.$U)()?window.origin:"uknown"," not found on Allowlist - update configuration on cloud.reown.com")},"error"),p.reportedErrors.FORBIDDEN=!0)}},sendEvent(e){var t;p.timestamp=Date.now(),p.data=e,((null===(t=u.OptionsController.state.features)||void 0===t?void 0:t.analytics)||["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"].includes(e.event))&&g._sendAnalyticsEvent(p)}}},42415:function(e,t,r){"use strict";r.d(t,{I:function(){return y}});var n=r(96768),i=r(82853);r(30345);var o=r(5615),s=r(5712),a=r(2217),c=r(36282),l=r(88538),u=r(27948),d=r(65326),f=r(66800),h=r(42046),p=r(93767),g=r(17418);let m=(0,n.sj)({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),y=(0,a.P)({state:m,subscribe:e=>(0,n.Ld)(m,()=>e(m)),subscribeKey:(e,t)=>(0,i.VW)(m,e,t),async open(e){var t,r;let n=null==e?void 0:e.namespace,i=l.R.state.activeChain,a=n&&n!==i,b=null===(t=l.R.getAccountData(null==e?void 0:e.namespace))||void 0===t?void 0:t.caipAddress,v=l.R.state.noAdapters;if(u.l.state.wcBasic?c.Q.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await c.Q.prefetch(),d.ConnectorController.setFilterByNamespace(null==e?void 0:e.namespace),y.setLoading(!0,n),n&&a){let e=(null===(r=l.R.getNetworkData(n))||void 0===r?void 0:r.caipNetwork)||l.R.getRequestedCaipNetworks(n)[0];e&&(v?(await l.R.switchActiveNetwork(e),g.RouterController.push("ConnectingWalletConnectBasic")):s.p.onSwitchNetwork({network:e,ignoreSwitchConfirmation:!0}))}else h.OptionsController.state.manualWCControl||v&&!b?o.j.isMobile()?g.RouterController.reset("AllWallets"):g.RouterController.reset("ConnectingWalletConnectBasic"):(null==e?void 0:e.view)?g.RouterController.reset(e.view,e.data):b?g.RouterController.reset("Account"):g.RouterController.reset("Connect");m.open=!0,p.I.set({open:!0}),f.X.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!b}})},close(){let e=h.OptionsController.state.enableEmbedded,t=!!l.R.state.activeCaipAddress;m.open&&f.X.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),m.open=!1,g.RouterController.reset("Connect"),y.clearLoading(),e?t?g.RouterController.replace("Account"):g.RouterController.push("Connect"):p.I.set({open:!1}),u.l.resetUri()},setLoading(e,t){t&&m.loadingNamespaceMap.set(t,e),m.loading=e,p.I.set({loading:e})},clearLoading(){m.loadingNamespaceMap.clear(),m.loading=!1,p.I.set({loading:!1})},shake(){m.shake||(m.shake=!0,setTimeout(()=>{m.shake=!1},500))}})},42046:function(e,t,r){"use strict";r.d(t,{OptionsController:function(){return c}});var n=r(96768),i=r(82853),o=r(16678),s=r(8385);let a=(0,n.sj)({features:o.bq.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:o.bq.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),c={state:a,subscribeKey:(e,t)=>(0,i.VW)(a,e,t),setOptions(e){Object.assign(a,e)},setRemoteFeatures(e){var t,r;if(!e)return;let n={...a.remoteFeatures,...e};a.remoteFeatures=n,(null===(t=a.remoteFeatures)||void 0===t?void 0:t.socials)&&(a.remoteFeatures.socials=s.$.filterSocialsByPlatform(a.remoteFeatures.socials)),(null===(r=a.features)||void 0===r?void 0:r.pay)&&(a.remoteFeatures.email=!1,a.remoteFeatures.socials=!1)},setFeatures(e){var t;if(!e)return;a.features||(a.features=o.bq.DEFAULT_FEATURES);let r={...a.features,...e};a.features=r,(null===(t=a.features)||void 0===t?void 0:t.pay)&&a.remoteFeatures&&(a.remoteFeatures.email=!1,a.remoteFeatures.socials=!1)},setProjectId(e){a.projectId=e},setCustomRpcUrls(e){a.customRpcUrls=e},setAllWallets(e){a.allWallets=e},setIncludeWalletIds(e){a.includeWalletIds=e},setExcludeWalletIds(e){a.excludeWalletIds=e},setFeaturedWalletIds(e){a.featuredWalletIds=e},setTokens(e){a.tokens=e},setTermsConditionsUrl(e){a.termsConditionsUrl=e},setPrivacyPolicyUrl(e){a.privacyPolicyUrl=e},setCustomWallets(e){a.customWallets=e},setIsSiweEnabled(e){a.isSiweEnabled=e},setIsUniversalProvider(e){a.isUniversalProvider=e},setSdkVersion(e){a.sdkVersion=e},setMetadata(e){a.metadata=e},setDisableAppend(e){a.disableAppend=e},setEIP6963Enabled(e){a.enableEIP6963=e},setDebug(e){a.debug=e},setEnableWalletConnect(e){a.enableWalletConnect=e},setEnableWalletGuide(e){a.enableWalletGuide=e},setEnableAuthLogger(e){a.enableAuthLogger=e},setEnableWallets(e){a.enableWallets=e},setPreferUniversalLinks(e){a.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(let[r,n]of Object.entries(o.bq.SIWX_DEFAULTS)){var t;null!==(t=e[r])&&void 0!==t||(e[r]=n)}a.siwx=e},setConnectMethodsOrder(e){a.features={...a.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){a.features={...a.features,walletFeaturesOrder:e}},setSocialsOrder(e){a.remoteFeatures={...a.remoteFeatures,socials:e}},setCollapseWallets(e){a.features={...a.features,collapseWallets:e}},setEnableEmbedded(e){a.enableEmbedded=e},setAllowUnsupportedChain(e){a.allowUnsupportedChain=e},setManualWCControl(e){a.manualWCControl=e},setEnableNetworkSwitch(e){a.enableNetworkSwitch=e},setEnableReconnect(e){a.enableReconnect=e},setDefaultAccountTypes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(e).forEach(e=>{let[t,r]=e;r&&(a.defaultAccountTypes[t]=r)})},setUniversalProviderConfigOverride(e){a.universalProviderConfigOverride=e},getUniversalProviderConfigOverride:()=>a.universalProviderConfigOverride,getSnapshot:()=>(0,n.CO)(a)}},93767:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});var n=r(96768),i=r(82853);let o=(0,n.sj)({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),s={state:o,subscribe:e=>(0,n.Ld)(o,()=>e(o)),subscribeOpen:e=>(0,i.VW)(o,"open",e),set(e){Object.assign(o,{...o,...e})}}},17418:function(e,t,r){"use strict";r.d(t,{RouterController:function(){return f}});var n=r(96768),i=r(82853),o=r(2217),s=r(83334),a=r(88538),c=r(65326),l=r(42415),u=r(42046);let d=(0,n.sj)({view:"Connect",history:["Connect"],transactionStack:[]}),f=(0,o.P)({state:d,subscribeKey:(e,t)=>(0,i.VW)(d,e,t),pushTransactionStack(e){d.transactionStack.push(e)},popTransactionStack(e){let t=d.transactionStack.pop();if(!t)return;let{onSuccess:r,onError:n,onCancel:i}=t;switch(e){case"success":null==r||r();break;case"error":null==n||n(),f.goBack();break;case"cancel":null==i||i(),f.goBack()}},push(e,t){e!==d.view&&(d.view=e,d.history.push(e),d.data=t)},reset(e,t){d.view=e,d.history=[e],d.data=t},replace(e,t){d.history.at(-1)!==e&&(d.view=e,d.history[d.history.length-1]=e,d.data=t)},goBack(){var e;let t=a.R.state.activeCaipAddress,r="ConnectingFarcaster"===f.state.view,i=!t&&r;if(d.history.length>1){d.history.pop();let[e]=d.history.slice(-1);e&&(t&&"Connect"===e?d.view="Account":d.view=e)}else l.I.close();(null===(e=d.data)||void 0===e?void 0:e.wallet)&&(d.data.wallet=void 0),setTimeout(()=>{if(i){var e,t,r;s.AccountController.setFarcasterUrl(void 0,a.R.state.activeChain);let i=c.ConnectorController.getAuthConnector();null==i||null===(e=i.provider)||void 0===e||e.reload();let o=(0,n.CO)(u.OptionsController.state);null==i||null===(r=i.provider)||void 0===r||null===(t=r.syncDappData)||void 0===t||t.call(r,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(e){if(d.history.length>1){d.history=d.history.slice(0,e+1);let[t]=d.history.slice(-1);t&&(d.view=t)}},goBackOrCloseModal(){f.state.history.length>1?f.goBack():l.I.close()}})},82207:function(e,t,r){"use strict";r.d(t,{S:function(){return w}});var n=r(96768),i=r(82853),o=r(30345),s=r(65314),a=r(12312),c=r(60153),l=r(16678),u=r(5615),d=r(59500),f=r(2217),h=r(83334),p=r(88538),g=r(27948),m=r(66800),y=r(17418),b=r(61047);let v=(0,n.sj)({tokenBalances:[],loading:!1}),w=(0,f.P)({state:v,subscribe:e=>(0,n.Ld)(v,()=>e(v)),subscribeKey:(e,t)=>(0,i.VW)(v,e,t),setToken(e){e&&(v.token=(0,n.iH)(e))},setTokenAmount(e){v.sendTokenAmount=e},setReceiverAddress(e){v.receiverAddress=e},setReceiverProfileImageUrl(e){v.receiverProfileImageUrl=e},setReceiverProfileName(e){v.receiverProfileName=e},setNetworkBalanceInUsd(e){v.networkBalanceInUSD=e},setLoading(e){v.loading=e},async sendToken(){try{var e;switch(w.setLoading(!0),null===(e=p.R.state.activeCaipNetwork)||void 0===e?void 0:e.chainNamespace){case"eip155":await w.sendEvmToken();return;case"solana":await w.sendSolanaToken();return;default:throw Error("Unsupported chain")}}finally{w.setLoading(!1)}},async sendEvmToken(){var e,t,r;let n=p.R.state.activeChain;if(!n)throw Error("SendController:sendEvmToken - activeChainNamespace is required");let i=(0,c.r9)(n);if(!w.state.sendTokenAmount||!w.state.receiverAddress)throw Error("An amount and receiver address are required");if(!w.state.token)throw Error("A token is required");(null===(e=w.state.token)||void 0===e?void 0:e.address)?(m.X.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:i===s.y.ACCOUNT_TYPES.SMART_ACCOUNT,token:w.state.token.address,amount:w.state.sendTokenAmount,network:(null===(t=p.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId)||""}}),await w.sendERC20Token({receiverAddress:w.state.receiverAddress,tokenAddress:w.state.token.address,sendTokenAmount:w.state.sendTokenAmount,decimals:w.state.token.quantity.decimals})):(m.X.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:i===s.y.ACCOUNT_TYPES.SMART_ACCOUNT,token:w.state.token.symbol||"",amount:w.state.sendTokenAmount,network:(null===(r=p.R.state.activeCaipNetwork)||void 0===r?void 0:r.caipNetworkId)||""}}),await w.sendNativeToken({receiverAddress:w.state.receiverAddress,sendTokenAmount:w.state.sendTokenAmount,decimals:w.state.token.quantity.decimals}))},async fetchTokenBalance(e){var t,r,n;v.loading=!0;let i=p.R.state.activeChain,o=null===(t=p.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId,s=null===(r=p.R.state.activeCaipNetwork)||void 0===r?void 0:r.chainNamespace,c=null!==(n=h.AccountController.getCaipAddress(i))&&void 0!==n?n:p.R.state.activeCaipAddress,d=c?u.j.getPlainAddress(c):void 0;if(v.lastRetry&&!u.j.isAllowedRetry(v.lastRetry,30*l.bq.ONE_SEC_MS))return v.loading=!1,[];try{if(d&&o&&s){let e=await a.Q.getMyTokensWithBalance();return v.tokenBalances=e,v.lastRetry=void 0,e}}catch(t){v.lastRetry=Date.now(),null==e||e(t),b.K.showError("Token Balance Unavailable")}finally{v.loading=!1}return[]},fetchNetworkBalance(){if(0===v.tokenBalances.length)return;let e=d.n.mapBalancesToSwapTokens(v.tokenBalances);if(!e)return;let t=e.find(e=>e.address===(0,c.EO)());t&&(v.networkBalanceInUSD=t?o.C6.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){var t,r,n;y.RouterController.pushTransactionStack({});let i=e.receiverAddress,a=h.AccountController.state.address,l=g.l.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));await g.l.sendTransaction({chainNamespace:o.bq.CHAIN.EVM,to:i,address:a,data:"0x",value:null!=l?l:BigInt(0)}),m.X.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,c.r9)("eip155")===s.y.ACCOUNT_TYPES.SMART_ACCOUNT,token:(null===(t=w.state.token)||void 0===t?void 0:t.symbol)||"",amount:e.sendTokenAmount,network:(null===(r=p.R.state.activeCaipNetwork)||void 0===r?void 0:r.caipNetworkId)||""}}),null===(n=g.l._getClient())||void 0===n||n.updateBalance("eip155"),w.resetSend()},async sendERC20Token(e){y.RouterController.pushTransactionStack({onSuccess(){y.RouterController.replace("Account")}});let t=g.l.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));if(h.AccountController.state.address&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){let r=u.j.getPlainAddress(e.tokenAddress);if(!r)throw Error("SendController:sendERC20Token - tokenAddress is required");await g.l.writeContract({fromAddress:h.AccountController.state.address,tokenAddress:r,args:[e.receiverAddress,null!=t?t:BigInt(0)],method:"transfer",abi:o.gY.getERC20Abi(r),chainNamespace:o.bq.CHAIN.EVM}),w.resetSend()}},async sendSolanaToken(){var e;let t;if(!w.state.sendTokenAmount||!w.state.receiverAddress)throw Error("An amount and receiver address are required");if(y.RouterController.pushTransactionStack({onSuccess(){y.RouterController.replace("Account")}}),w.state.token&&u.j.isCaipAddress(w.state.token.address)){let[,,e]=w.state.token.address.split(":");t=e}await g.l.sendTransaction({chainNamespace:"solana",tokenMint:t,to:w.state.receiverAddress,value:w.state.sendTokenAmount}),null===(e=g.l._getClient())||void 0===e||e.updateBalance("solana"),w.resetSend()},resetSend(){v.token=void 0,v.sendTokenAmount=void 0,v.receiverAddress=void 0,v.receiverProfileImageUrl=void 0,v.receiverProfileName=void 0,v.loading=!1,v.tokenBalances=[]}})},61047:function(e,t,r){"use strict";r.d(t,{K:function(){return c}});var n=r(96768),i=r(82853),o=r(5615);let s=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),a=(0,n.sj)({...s}),c={state:a,subscribeKey:(e,t)=>(0,i.VW)(a,e,t),showLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){let t=o.j.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){a.message=s.message,a.variant=s.variant,a.svg=s.svg,a.open=s.open,a.autoClose=s.autoClose},_showMessage(e){let{message:t,svg:r,variant:n="success",autoClose:i=s.autoClose}=e;a.open?(a.open=!1,setTimeout(()=>{a.message=t,a.variant=n,a.svg=r,a.open=!0,a.autoClose=i},150)):(a.message=t,a.variant=n,a.svg=r,a.open=!0,a.autoClose=i)}}},73204:function(e,t,r){"use strict";r.d(t,{p:function(){return d}});var n=r(96768),i=r(82853),o=r(5615),s=r(73254),a=r(42046);let c=Object.freeze({enabled:!0,events:[]}),l=new s.V({baseUrl:o.j.getAnalyticsUrl(),clientId:null}),u=(0,n.sj)({...c}),d={state:u,subscribeKey:(e,t)=>(0,i.VW)(u,e,t),async sendError(e,t){if(!u.enabled)return;let r=Date.now();if(u.events.filter(e=>r-new Date(e.properties.timestamp||"").getTime()<6e4).length>=5)return;let n={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};u.events.push(n);try{if("undefined"==typeof window)return;let{projectId:r,sdkType:n,sdkVersion:i}=a.OptionsController.state;await l.post({path:"/e",params:{projectId:r,st:n,sv:i||"html-wagmi-4.2.2"},body:{eventId:o.j.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch(e){}},enable(){u.enabled=!0},disable(){u.enabled=!1},clearEvents(){u.events=[]}}},53949:function(e,t,r){"use strict";r.d(t,{u:function(){return l}});var n=r(96768),i=r(30345),o=r(2217),s=r(65326);let a=(0,n.sj)({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),c={state:a,subscribe:e=>(0,n.Ld)(a,()=>e(a)),setThemeMode(e){a.themeMode=e;try{let t=s.ConnectorController.getAuthConnector();if(t){let r=c.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:r,w3mThemeVariables:(0,i.tU)(r,e)})}}catch(e){}},setThemeVariables(e){a.themeVariables={...a.themeVariables,...e};try{let e=s.ConnectorController.getAuthConnector();if(e){let t=c.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:t,w3mThemeVariables:(0,i.tU)(a.themeVariables,a.themeMode)})}}catch(e){}},getSnapshot:()=>(0,n.CO)(a)},l=(0,o.P)(c)},68707:function(e,t,r){"use strict";r.d(t,{s:function(){return h}});var n=r(96768),i=r(65314),o=r(60153),s=r(2217),a=r(7987),c=r(88538),l=r(66800),u=r(42046),d=r(61047);let f=(0,n.sj)({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),h=(0,s.P)({state:f,subscribe:e=>(0,n.Ld)(f,()=>e(f)),setLastNetworkInView(e){f.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw Error("Transactions can't be fetched without an accountAddress");f.loading=!0;try{var t;let r=await a.L.fetchTransactions({account:e,cursor:f.next,chainId:null===(t=c.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId}),n=h.filterSpamTransactions(r.data),i=h.filterByConnectedChain(n),o=[...f.transactions,...i];f.loading=!1,f.transactions=o,f.transactionsByYear=h.groupTransactionsByYearAndMonth(f.transactionsByYear,i),f.empty=0===o.length,f.next=r.next?r.next:void 0}catch(r){let t=c.R.state.activeChain;l.X.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:u.OptionsController.state.projectId,cursor:f.next,isSmartAccount:(0,o.r9)(t)===i.y.ACCOUNT_TYPES.SMART_ACCOUNT}}),d.K.showError("Failed to fetch transactions"),f.loading=!1,f.empty=!0,f.next=void 0}},groupTransactionsByYearAndMonth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach(t=>{var r,n;let i=new Date(t.metadata.minedAt).getFullYear(),o=new Date(t.metadata.minedAt).getMonth(),s=null!==(r=e[i])&&void 0!==r?r:{},a=(null!==(n=s[o])&&void 0!==n?n:[]).filter(e=>e.id!==t.id);e[i]={...s,[o]:[...a,t].sort((e,t)=>new Date(t.metadata.minedAt).getTime()-new Date(e.metadata.minedAt).getTime())}}),e},filterSpamTransactions:e=>e.filter(e=>!e.transfers.every(e=>{var t;return(null===(t=e.nft_info)||void 0===t?void 0:t.flags.is_spam)===!0})),filterByConnectedChain(e){var t;let r=null===(t=c.R.state.activeCaipNetwork)||void 0===t?void 0:t.caipNetworkId;return e.filter(e=>e.metadata.chain===r)},clearCursor(){f.next=void 0},resetTransactions(){f.transactions=[],f.transactionsByYear={},f.lastNetworkInView=void 0,f.loading=!1,f.empty=!1,f.next=void 0}},"API_ERROR")},47301:function(e,t,r){"use strict";r.d(t,{f:function(){return c}});var n=r(96768),i=r(36282),o=r(47664);let s={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},a=(0,n.sj)({networkImagePromises:{}}),c={async fetchWalletImage(e){if(e)return await i.Q._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(e)return this.getNetworkImageById(e)||(a.networkImagePromises[e]||(a.networkImagePromises[e]=i.Q._fetchNetworkImage(e)),await a.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return o.W.state.walletImages[e]},getWalletImage:e=>(null==e?void 0:e.image_url)?null==e?void 0:e.image_url:(null==e?void 0:e.image_id)?o.W.state.walletImages[e.image_id]:void 0,getNetworkImage(e){var t,r,n;return(null==e?void 0:null===(t=e.assets)||void 0===t?void 0:t.imageUrl)?null==e?void 0:null===(n=e.assets)||void 0===n?void 0:n.imageUrl:(null==e?void 0:null===(r=e.assets)||void 0===r?void 0:r.imageId)?o.W.state.networkImages[e.assets.imageId]:void 0},getNetworkImageById(e){if(e)return o.W.state.networkImages[e]},getConnectorImage(e){var t;return(null==e?void 0:e.imageUrl)?e.imageUrl:(null==e?void 0:null===(t=e.info)||void 0===t?void 0:t.icon)?e.info.icon:(null==e?void 0:e.imageId)?o.W.state.connectorImages[e.imageId]:void 0},getChainImage:e=>o.W.state.networkImages[s[e]]}},12312:function(e,t,r){"use strict";r.d(t,{Q:function(){return f}});var n=r(30345),i=r(83334),o=r(7987),s=r(88538),a=r(27948),c=r(65326),l=r(41679);let u={createBalance(e,t){let r={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:t,address:"native"===e.address?void 0:this.convertAddressToCAIP10Address(e.address,t),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance(e){let{hex:t,decimals:r}=e;return(0,l.bMU)(BigInt(t),r)},convertAddressToCAIP10Address:(e,t)=>"".concat(t,":").concat(e),createCAIP2ChainId:(e,t)=>"".concat(t,":").concat(parseInt(e,16)),getChainIdHexFromCAIP2ChainId(e){let t=e.split(":");if(t.length<2||!t[1])return"0x0";let r=parseInt(t[1],10);return isNaN(r)?"0x0":"0x".concat(r.toString(16))},isWalletGetAssetsResponse(e){return"object"==typeof e&&null!==e&&Object.values(e).every(e=>Array.isArray(e)&&e.every(e=>this.isValidAsset(e)))},isValidAsset:e=>"object"==typeof e&&null!==e&&"string"==typeof e.address&&"string"==typeof e.balance&&("ERC20"===e.type||"NATIVE"===e.type)&&"object"==typeof e.metadata&&null!==e.metadata&&"string"==typeof e.metadata.name&&"string"==typeof e.metadata.symbol&&"number"==typeof e.metadata.decimals&&"number"==typeof e.metadata.price&&"string"==typeof e.metadata.iconUrl};var d=r(87251);let f={async getMyTokensWithBalance(e){let t=i.AccountController.state.address,r=s.R.state.activeCaipNetwork,a=c.ConnectorController.getConnectorId("eip155")===n.bq.CONNECTOR_ID.AUTH;if(!t||!r)return[];let l="".concat(r.caipNetworkId,":").concat(t),u=d.M.getBalanceCacheForCaipAddress(l);if(u)return u.balances;if(r.chainNamespace===n.bq.CHAIN.EVM&&a){let e=await this.getEIP155Balances(t,r);if(e)return this.filterLowQualityTokens(e)}let f=await o.L.getBalance(t,r.caipNetworkId,e);return this.filterLowQualityTokens(f.balances)},async getEIP155Balances(e,t){try{var r,n;let i=u.getChainIdHexFromCAIP2ChainId(t.caipNetworkId),o=await a.l.getCapabilities(e);if(!(null==o?void 0:null===(n=o[i])||void 0===n?void 0:null===(r=n.assetDiscovery)||void 0===r?void 0:r.supported))return null;let s=await a.l.walletGetAssets({account:e,chainFilter:[i]});if(!u.isWalletGetAssetsResponse(s))return null;let c=(s[i]||[]).map(e=>u.createBalance(e,t.caipNetworkId));return d.M.updateBalanceCache({caipAddress:"".concat(t.caipNetworkId,":").concat(e),balance:{balances:c},timestamp:Date.now()}),c}catch(e){return null}},filterLowQualityTokens:e=>e.filter(e=>"0"!==e.quantity.decimals)}},60153:function(e,t,r){"use strict";r.d(t,{EO:function(){return o},eq:function(){return a},r9:function(){return s}}),r(30345);var n=r(88538);r(32682);var i=r(16678);function o(){var e,t;let r=(null===(e=n.R.state.activeCaipNetwork)||void 0===e?void 0:e.chainNamespace)||"eip155",o=(null===(t=n.R.state.activeCaipNetwork)||void 0===t?void 0:t.id)||1,s=i.bq.NATIVE_TOKEN_ADDRESS[r];return"".concat(r,":").concat(o,":").concat(s)}function s(e){var t;return null===(t=n.R.getAccountData(e))||void 0===t?void 0:t.preferredAccountType}function a(e){if(e){var t,r;return null===(r=n.R.state.chains.get(e))||void 0===r?void 0:null===(t=r.networkState)||void 0===t?void 0:t.caipNetwork}return n.R.state.activeCaipNetwork}},98018:function(e,t,r){"use strict";r.d(t,{f:function(){return s}}),r(30345);var n=r(27948),i=r(65326),o=r(42046);let s={getConnectionStatus(e,t){let r=i.ConnectorController.state.activeConnectorIds[t],o=n.l.getConnections(t);return r&&e.connectorId===r?"connected":o.some(t=>t.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections(e){let{connections:t,connectorId:r,addresses:n}=e;return t.map(e=>{if(r&&e.connectorId.toLowerCase()===r.toLowerCase()&&n){let t=e.accounts.filter(e=>!n.some(t=>t.toLowerCase()===e.address.toLowerCase()));return{...e,accounts:t}}return e})},excludeExistingConnections(e,t){let r=new Set(e);return t.filter(e=>!r.has(e.connectorId))},getConnectionsByConnectorId:(e,t)=>e.filter(e=>e.connectorId.toLowerCase()===t.toLowerCase()),getConnectionsData(e){var t,r;let a=!!(null===(t=o.OptionsController.state.remoteFeatures)||void 0===t?void 0:t.multiWallet),c=i.ConnectorController.state.activeConnectorIds[e],l=n.l.getConnections(e),u=(null!==(r=n.l.state.recentConnections.get(e))&&void 0!==r?r:[]).filter(e=>i.ConnectorController.getConnectorById(e.connectorId)),d=s.excludeExistingConnections([...l.map(e=>e.connectorId),...c?[c]:[]],u);return a?{connections:l,recentConnections:d}:{connections:l.filter(e=>e.connectorId.toLowerCase()===(null==c?void 0:c.toLowerCase())),recentConnections:[]}}}},32682:function(e,t,r){"use strict";r.d(t,{m:function(){return m}});var n=r(30345),i=r(65314),o=r(83334),s=r(88538),a=r(27948),c=r(65326),l=r(66800),u=r(42415),d=r(17418),f=r(60153),h=r(16678),p=r(5615),g=r(87251);let m={checkNamespaceConnectorId:(e,t)=>c.ConnectorController.getConnectorId(e)===t,isSocialProvider:e=>h.bq.DEFAULT_REMOTE_FEATURES.socials.includes(e),connectWalletConnect(e){let{walletConnect:t,connector:r,closeModalOnConnect:i=!0,redirectViewOnModalClose:o="Connect",onOpen:a,onConnect:l}=e;return new Promise((e,f)=>{if(t&&c.ConnectorController.setActiveConnector(r),null==a||a(p.j.isMobile()&&t),o){let e=u.I.subscribeKey("open",t=>{t||(d.RouterController.state.view!==o&&d.RouterController.replace(o),e(),f(Error("Modal closed")))})}let h=s.R.subscribeKey("activeCaipAddress",t=>{t&&(null==l||l(),i&&u.I.close(),h(),e(n.uB.parseCaipAddress(t)))})})},connectExternal:e=>new Promise((t,r)=>{let i=s.R.subscribeKey("activeCaipAddress",e=>{e&&(u.I.close(),i(),t(n.uB.parseCaipAddress(e)))});a.l.connectExternal(e,e.chain).catch(()=>{i(),r(Error("Connection rejected"))})}),connectSocial(e){let{social:t,namespace:r,closeModalOnConnect:i=!0,onOpenFarcaster:d,onConnect:f}=e,h=o.AccountController.state.socialWindow,m=o.AccountController.state.socialProvider,y=!1,b=null,v=r||s.R.state.activeChain,w=s.R.subscribeKey("activeCaipAddress",e=>{e&&(i&&u.I.close(),w())});return new Promise((e,r)=>{async function i(t){var u;if(null===(u=t.data)||void 0===u?void 0:u.resultUri){if(t.origin===n.bq.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",i,!1);try{let i=c.ConnectorController.getAuthConnector(v);if(i&&!y){h&&(h.close(),o.AccountController.setSocialWindow(void 0,v),h=o.AccountController.state.socialWindow),y=!0;let c=t.data.resultUri;if(m&&l.X.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:m}}),m){g.M.setConnectedSocialProvider(m),await a.l.connectExternal({id:i.id,type:i.type,socialUri:c},i.chain);let t=s.R.state.activeCaipAddress;if(!t){r(Error("Failed to connect"));return}e(n.uB.parseCaipAddress(t)),l.X.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:m}})}}}catch(e){m&&l.X.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:m}}),r(Error("Failed to connect"))}}else m&&l.X.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:m}})}}!async function(){if(t&&(o.AccountController.setSocialProvider(t,v),m=o.AccountController.state.socialProvider,l.X.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:m}})),"farcaster"===m){null==d||d();let e=u.I.subscribeKey("open",n=>{n||"farcaster"!==t||(r(Error("Popup closed")),null==f||f(),e())}),n=c.ConnectorController.getAuthConnector();if(n&&!o.AccountController.state.farcasterUrl)try{let{url:e}=await n.provider.getFarcasterUri();o.AccountController.setFarcasterUrl(e,v)}catch(e){r(Error("Failed to connect to farcaster"))}}else{let e=c.ConnectorController.getAuthConnector();b=p.j.returnOpenHref("".concat(n.bq.SECURE_SITE_SDK_ORIGIN,"/loading"),"popupWindow","width=600,height=800,scrollbars=yes");try{if(e&&m){let{uri:t}=await e.provider.getSocialRedirectUri({provider:m});if(b&&t){o.AccountController.setSocialWindow(b,v),h=o.AccountController.state.socialWindow,b.location.href=t;let e=setInterval(()=>{(null==h?void 0:h.closed)&&!y&&(r(Error("Popup closed")),clearInterval(e))},1e3);window.addEventListener("message",i,!1)}else null==b||b.close(),r(Error("Failed to initiate social connection"))}}catch(e){r(Error("Failed to initiate social connection")),null==b||b.close()}}}()})},connectEmail(e){let{closeModalOnConnect:t=!0,redirectViewOnModalClose:r="Connect",onOpen:i,onConnect:o}=e;return new Promise((e,a)=>{if(null==i||i(),r){let e=u.I.subscribeKey("open",t=>{t||(d.RouterController.state.view!==r&&d.RouterController.replace(r),e(),a(Error("Modal closed")))})}let c=s.R.subscribeKey("activeCaipAddress",r=>{r&&(null==o||o(),t&&u.I.close(),c(),e(n.uB.parseCaipAddress(r)))})})},async updateEmail(){var e;let t=g.M.getConnectedConnectorId(s.R.state.activeChain),r=c.ConnectorController.getAuthConnector();if(!r)throw Error("No auth connector found");if(t!==n.bq.CONNECTOR_ID.AUTH)throw Error("Not connected to email or social");let i=null!==(e=r.provider.getEmail())&&void 0!==e?e:"";return await u.I.open({view:"UpdateEmailWallet",data:{email:i,redirectView:void 0}}),new Promise((e,t)=>{let n=setInterval(()=>{var t;let s=null!==(t=r.provider.getEmail())&&void 0!==t?t:"";s!==i&&(u.I.close(),clearInterval(n),o(),e({email:s}))},1e3),o=u.I.subscribeKey("open",e=>{e||("Connect"!==d.RouterController.state.view&&d.RouterController.push("Connect"),clearInterval(n),o(),t(Error("Modal closed")))})})},canSwitchToSmartAccount:e=>s.R.checkIfSmartAccountEnabled()&&(0,f.r9)(e)===i.y.ACCOUNT_TYPES.EOA}},16678:function(e,t,r){"use strict";r.d(t,{a$:function(){return a},bq:function(){return c},gy:function(){return s}});var n=r(30345),i=r(25566);let o=(void 0!==i&&void 0!==i.env?i.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",s=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],a="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",c={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:o,SECURE_SITE_DASHBOARD:"".concat(o,"/dashboard"),SECURE_SITE_FAVICON:"".concat(o,"/images/favicon.png"),RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[n.bq.CHAIN.EVM,n.bq.CHAIN.SOLANA],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[n.bq.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[n.bq.CHAIN.EVM,n.bq.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[n.bq.CHAIN.EVM,n.bq.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[n.bq.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[n.bq.CHAIN.EVM,n.bq.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}}},5615:function(e,t,r){"use strict";r.d(t,{j:function(){return s}});var n=r(30345),i=r(16678),o=r(87251);let s={isMobile(){if(this.isClient()){var e,t;return!!((null===(e=window)||void 0===e?void 0:e.matchMedia)&&"function"==typeof window.matchMedia&&(null===(t=window.matchMedia("(pointer:coarse)"))||void 0===t?void 0:t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))}return!1},checkCaipNetwork(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null==e?void 0:e.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){var e;if(!this.isMobile())return!1;let t=null===(e=window)||void 0===e?void 0:e.navigator.userAgent.toLowerCase();return s.isMobile()&&t.includes("android")},isIos(){var e;if(!this.isMobile())return!1;let t=null===(e=window)||void 0===e?void 0:e.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){var e;return!!this.isClient()&&(null===(e=window)||void 0===e?void 0:e.navigator.userAgent.toLowerCase()).includes("safari")},isClient:()=>"undefined"!=typeof window,isPairingExpired:e=>!e||e-Date.now()<=i.bq.TEN_SEC_MS,isAllowedRetry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.bq.ONE_SEC_MS;return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{var e,t;return(null===(e=window)||void 0===e?void 0:e.self)!==(null===(t=window)||void 0===t?void 0:t.top)}catch(e){return!1}},isSafeApp(){if(s.isClient()&&window.self!==window.top)try{var e,t,r;let n=null===(r=window)||void 0===r?void 0:null===(t=r.location)||void 0===t?void 0:null===(e=t.ancestorOrigins)||void 0===e?void 0:e[0];if(n){let e=new URL(n),t=new URL("https://app.safe.global");return e.hostname===t.hostname}}catch(e){}return!1},getPairingExpiry:()=>Date.now()+i.bq.FOUR_MINUTES_MS,getNetworkId:e=>null==e?void 0:e.split(":")[1],getPlainAddress:e=>null==e?void 0:e.split(":")[2],wait:async e=>new Promise(t=>{setTimeout(t,e)}),debounce(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];t&&clearTimeout(t),t=setTimeout(function(){e(...i)},r)}},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),formatNativeUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(s.isHttpUrl(e))return this.formatUniversalUrl(e,t);let n=e,i=r;n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n="".concat(n,"://")),n.endsWith("/")||(n="".concat(n,"/")),!i||(null==i?void 0:i.endsWith("/"))||(i="".concat(i,"/")),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));let o=encodeURIComponent(t);return{redirect:"".concat(n,"wc?uri=").concat(o),redirectUniversalLink:i?"".concat(i,"wc?uri=").concat(o):void 0,href:n}},formatUniversalUrl(e,t){if(!s.isHttpUrl(e))return this.formatNativeUrl(e,t);let r=e;r.endsWith("/")||(r="".concat(r,"/"));let n=encodeURIComponent(t);return{redirect:"".concat(r,"wc?uri=").concat(n),href:r}},getOpenTargetForPlatform(e){return"popupWindow"===e?e:this.isTelegram()?o.M.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,r){var n;null===(n=window)||void 0===n||n.open(e,this.getOpenTargetForPlatform(t),r||"noreferrer noopener")},returnOpenHref(e,t,r){var n;return null===(n=window)||void 0===n?void 0:n.open(e,this.getOpenTargetForPlatform(t),r||"noreferrer noopener")},isTelegram:()=>"undefined"!=typeof window&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto),isPWA(){var e,t,r,n;if("undefined"==typeof window)return!1;let i=null!==(e=window)&&void 0!==e&&!!e.matchMedia&&"function"==typeof window.matchMedia&&(null===(t=window.matchMedia("(display-mode: standalone)"))||void 0===t?void 0:t.matches),o=null===(n=window)||void 0===n?void 0:null===(r=n.navigator)||void 0===r?void 0:r.standalone;return!!(i||o)},preloadImage:async e=>Promise.race([new Promise((t,r)=>{let n=new Image;n.onload=t,n.onerror=r,n.crossOrigin="anonymous",n.src=e}),s.wait(2e3)]),parseBalance(e,t){let r="0.000";if("string"==typeof e){let t=Number(e);if(!isNaN(t)){let e=(Math.floor(1e3*t)/1e3).toFixed(3);e&&(r=e)}}let[n,i]=r.split("."),o=n||"0",s=i||"000";return{formattedText:"".concat(o,".").concat(s).concat(t?" ".concat(t):""),value:o,decimals:s,symbol:t}},getApiUrl:()=>n.bq.W3M_API_URL,getBlockchainApiUrl:()=>n.bq.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>n.bq.PULSE_API_URL,getUUID(){var e;return(null===(e=crypto)||void 0===e?void 0:e.randomUUID)?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},parseError(e){var t,r;return"string"==typeof e?e:"string"==typeof(null==e?void 0:null===(r=e.issues)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.message)?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r={};return t&&e&&(e.forEach((e,t)=>{r[e]=t}),t.sort((e,t)=>{let n=r[e.id],i=r[t.id];return void 0!==n&&void 0!==i?n-i:void 0!==n?-1:void 0!==i?1:0})),t},calculateBalance(e){let t=0;for(let n of e){var r;t+=null!==(r=n.value)&&void 0!==r?r:0}return t},formatTokenBalance(e){let[t,r]=e.toFixed(2).split(".");return{dollars:t,pennies:r}},isAddress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"eip155";switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)&&(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e)))return!0;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){let r=new Set;return e.filter(e=>{let n=e[t];return!r.has(n)&&(r.add(n),!0)})},generateSdkVersion(e,t,r){let n=0===e.length?i.bq.ADAPTER_TYPES.UNIVERSAL:e.map(e=>e.adapterType).join(",");return"".concat(t,"-").concat(n,"-").concat(r)},createAccount:(e,t,r,n,i)=>({namespace:e,address:t,type:r,publicKey:n,path:i}),isCaipAddress(e){if("string"!=typeof e)return!1;let t=e.split(":"),r=t[0];return 3===t.filter(Boolean).length&&r in n.bq.CHAIN_NAME_MAP},getAccount:e=>e?"string"==typeof e?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0},isMac(){var e;let t=null===(e=window)||void 0===e?void 0:e.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(e){var t;let r="--".concat(encodeURIComponent(null===(t=window)||void 0===t?void 0:t.location.href)),n="state=";if("auth.magic.link"===new URL(e).host){let t="provider_authorization_url=",i=e.substring(e.indexOf(t)+t.length),o=this.injectIntoUrl(decodeURIComponent(i),n,r);return e.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(e,n,r)},injectIntoUrl(e,t,r){let n=e.indexOf(t);if(-1===n)throw Error("".concat(t," parameter not found in the URL: ").concat(e));let i=e.indexOf("&",n),o=t.length,s=-1!==i?i:e.length,a=e.substring(0,n+o);return a+(e.substring(n+o,s)+r)+e.substring(i)}}},73254:function(e,t,r){"use strict";async function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=await fetch(...t);if(!n.ok)throw Error("HTTP status code: ".concat(n.status),{cause:n});return n}r.d(t,{V:function(){return i}});class i{async get(e){let{headers:t,signal:r,cache:i,...o}=e,s=this.createUrl(o);return(await n(s,{method:"GET",headers:t,signal:r,cache:i})).json()}async getBlob(e){let{headers:t,signal:r,...i}=e,o=this.createUrl(i);return(await n(o,{method:"GET",headers:t,signal:r})).blob()}async post(e){let{body:t,headers:r,signal:i,...o}=e,s=this.createUrl(o);return(await n(s,{method:"POST",headers:r,body:t?JSON.stringify(t):void 0,signal:i})).json()}async put(e){let{body:t,headers:r,signal:i,...o}=e,s=this.createUrl(o);return(await n(s,{method:"PUT",headers:r,body:t?JSON.stringify(t):void 0,signal:i})).json()}async delete(e){let{body:t,headers:r,signal:i,...o}=e,s=this.createUrl(o);return(await n(s,{method:"DELETE",headers:r,body:t?JSON.stringify(t):void 0,signal:i})).json()}createUrl(e){let{path:t,params:r}=e,n=new URL(t,this.baseUrl);return r&&Object.entries(r).forEach(e=>{let[t,r]=e;r&&n.searchParams.append(t,r)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}constructor({baseUrl:e,clientId:t}){this.baseUrl=e,this.clientId=t}}},19221:function(e,t,r){"use strict";r.d(t,{R:function(){return s},m:function(){return o}});var n=r(30345),i=r(88538);let o={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},s={handleMobileDeeplinkRedirect(e,t){let r=window.location.href,s=encodeURIComponent(r);if(e===o.PHANTOM.id&&!("phantom"in window)){let e=r.startsWith("https")?"https":"http",t=r.split("/")[2],n=encodeURIComponent("".concat(e,"://").concat(t));window.location.href="".concat(o.PHANTOM.url,"/ul/browse/").concat(s,"?ref=").concat(n)}if(e!==o.SOLFLARE.id||"solflare"in window||(window.location.href="".concat(o.SOLFLARE.url,"/ul/v1/browse/").concat(s,"?ref=").concat(s)),t!==n.bq.CHAIN.SOLANA||e!==o.COINBASE.id||"coinbaseSolana"in window||(window.location.href="".concat(o.COINBASE.url,"/dapp?cb_url=").concat(s)),t===n.bq.CHAIN.BITCOIN&&e===o.BINANCE.id&&!("binancew3w"in window)){var a;let e=i.R.state.activeCaipNetwork,t=window.btoa("/pages/browser/index"),r=window.btoa("url=".concat(s,"&defaultChainId=").concat(null!==(a=null==e?void 0:e.id)&&void 0!==a?a:1)),n=new URL(o.BINANCE.deeplink);n.searchParams.set("appId",o.BINANCE.appId),n.searchParams.set("startPagePath",t),n.searchParams.set("startPageQuery",r);let c=new URL(o.BINANCE.url);c.searchParams.set("_dp",window.btoa(n.toString())),window.location.href=c.toString()}}}},5712:function(e,t,r){"use strict";r.d(t,{p:function(){return c}});var n=r(30345),i=r(83334),o=r(88538),s=r(65326),a=r(17418);let c={onSwitchNetwork(e){let{network:t,ignoreSwitchConfirmation:r=!1}=e,c=o.R.state.activeCaipNetwork,l=a.RouterController.state.data;if(t.id===(null==c?void 0:c.id))return;let u=i.AccountController.getCaipAddress(o.R.state.activeChain),d=t.chainNamespace!==o.R.state.activeChain,f=i.AccountController.getCaipAddress(t.chainNamespace),h=s.ConnectorController.getConnectorId(o.R.state.activeChain)===n.bq.CONNECTOR_ID.AUTH,p=n.bq.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>e===t.chainNamespace);r||h&&p?a.RouterController.push("SwitchNetwork",{...l,network:t}):u&&d&&!f?a.RouterController.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):a.RouterController.push("SwitchNetwork",{...l,network:t})}}},8385:function(e,t,r){"use strict";r.d(t,{$:function(){return o}});var n=r(16678),i=r(5615);let o={getFeatureValue(e,t){let r=null==t?void 0:t[e];return void 0===r?n.bq.DEFAULT_FEATURES[e]:r},filterSocialsByPlatform(e){if(!e||!e.length)return e;if(i.j.isTelegram()){if(i.j.isIos())return e.filter(e=>"google"!==e);if(i.j.isMac())return e.filter(e=>"x"!==e);if(i.j.isAndroid())return e.filter(e=>!["facebook","x"].includes(e))}return e}}},87251:function(e,t,r){"use strict";r.d(t,{M:function(){return i}});var n=r(30345);let i={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired:(e,t)=>Date.now()-e>t,getActiveNetworkProps(){let e=i.getActiveNamespace(),t=i.getActiveCaipNetworkId(),r=t?t.split(":")[1]:void 0;return{namespace:e,caipNetworkId:t,chainId:r?isNaN(Number(r))?r:Number(r):void 0}},setWalletConnectDeepLink(e){let{name:t,href:r}=e;try{n.mr.setItem(n.uJ.DEEPLINK_CHOICE,JSON.stringify({href:r,name:t}))}catch(e){}},getWalletConnectDeepLink(){try{let e=n.mr.getItem(n.uJ.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch(e){}},deleteWalletConnectDeepLink(){try{n.mr.removeItem(n.uJ.DEEPLINK_CHOICE)}catch(e){}},setActiveNamespace(e){try{n.mr.setItem(n.uJ.ACTIVE_NAMESPACE,e)}catch(e){}},setActiveCaipNetworkId(e){try{n.mr.setItem(n.uJ.ACTIVE_CAIP_NETWORK_ID,e),i.setActiveNamespace(e.split(":")[0])}catch(e){}},getActiveCaipNetworkId(){try{return n.mr.getItem(n.uJ.ACTIVE_CAIP_NETWORK_ID)}catch(e){return}},deleteActiveCaipNetworkId(){try{n.mr.removeItem(n.uJ.ACTIVE_CAIP_NETWORK_ID)}catch(e){}},deleteConnectedConnectorId(e){try{let t=(0,n.Vk)(e);n.mr.removeItem(t)}catch(e){}},setAppKitRecent(e){try{let t=i.getRecentWallets();t.find(t=>t.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),n.mr.setItem(n.uJ.RECENT_WALLETS,JSON.stringify(t)))}catch(e){}},getRecentWallets(){try{let e=n.mr.getItem(n.uJ.RECENT_WALLETS);return e?JSON.parse(e):[]}catch(e){}return[]},setConnectedConnectorId(e,t){try{let r=(0,n.Vk)(e);n.mr.setItem(r,t)}catch(e){}},getActiveNamespace(){try{return n.mr.getItem(n.uJ.ACTIVE_NAMESPACE)}catch(e){}},getConnectedConnectorId(e){if(e)try{let t=(0,n.Vk)(e);return n.mr.getItem(t)}catch(e){}},setConnectedSocialProvider(e){try{n.mr.setItem(n.uJ.CONNECTED_SOCIAL,e)}catch(e){}},getConnectedSocialProvider(){try{return n.mr.getItem(n.uJ.CONNECTED_SOCIAL)}catch(e){}},deleteConnectedSocialProvider(){try{n.mr.removeItem(n.uJ.CONNECTED_SOCIAL)}catch(e){}},getConnectedSocialUsername(){try{return n.mr.getItem(n.uJ.CONNECTED_SOCIAL_USERNAME)}catch(e){}},getStoredActiveCaipNetworkId(){var e;let t=n.mr.getItem(n.uJ.ACTIVE_CAIP_NETWORK_ID);return null==t?void 0:null===(e=t.split(":"))||void 0===e?void 0:e[1]},setConnectionStatus(e){try{n.mr.setItem(n.uJ.CONNECTION_STATUS,e)}catch(e){}},getConnectionStatus(){try{return n.mr.getItem(n.uJ.CONNECTION_STATUS)}catch(e){return}},getConnectedNamespaces(){try{let e=n.mr.getItem(n.uJ.CONNECTED_NAMESPACES);if(!(null==e?void 0:e.length))return[];return e.split(",")}catch(e){return[]}},setConnectedNamespaces(e){try{let t=Array.from(new Set(e));n.mr.setItem(n.uJ.CONNECTED_NAMESPACES,t.join(","))}catch(e){}},addConnectedNamespace(e){try{let t=i.getConnectedNamespaces();t.includes(e)||(t.push(e),i.setConnectedNamespaces(t))}catch(e){}},removeConnectedNamespace(e){try{let t=i.getConnectedNamespaces(),r=t.indexOf(e);r>-1&&(t.splice(r,1),i.setConnectedNamespaces(t))}catch(e){}},getTelegramSocialProvider(){try{return n.mr.getItem(n.uJ.TELEGRAM_SOCIAL_PROVIDER)}catch(e){return null}},setTelegramSocialProvider(e){try{n.mr.setItem(n.uJ.TELEGRAM_SOCIAL_PROVIDER,e)}catch(e){}},removeTelegramSocialProvider(){try{n.mr.removeItem(n.uJ.TELEGRAM_SOCIAL_PROVIDER)}catch(e){}},getBalanceCache(){let e={};try{let t=n.mr.getItem(n.uJ.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch(e){}return e},removeAddressFromBalanceCache(e){try{let t=i.getBalanceCache();n.mr.setItem(n.uJ.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch(e){}},getBalanceCacheForCaipAddress(e){try{let t=i.getBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;i.removeAddressFromBalanceCache(e)}catch(e){}},updateBalanceCache(e){try{let t=i.getBalanceCache();t[e.caipAddress]=e,n.mr.setItem(n.uJ.PORTFOLIO_CACHE,JSON.stringify(t))}catch(e){}},getNativeBalanceCache(){let e={};try{let t=n.mr.getItem(n.uJ.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch(e){}return e},removeAddressFromNativeBalanceCache(e){try{let t=i.getBalanceCache();n.mr.setItem(n.uJ.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch(e){}},getNativeBalanceCacheForCaipAddress(e){try{let t=i.getNativeBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;i.removeAddressFromBalanceCache(e)}catch(e){}},updateNativeBalanceCache(e){try{let t=i.getNativeBalanceCache();t[e.caipAddress]=e,n.mr.setItem(n.uJ.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch(e){}},getEnsCache(){let e={};try{let t=n.mr.getItem(n.uJ.ENS_CACHE);e=t?JSON.parse(t):{}}catch(e){}return e},getEnsFromCacheForAddress(e){try{let t=i.getEnsCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;i.removeEnsFromCache(e)}catch(e){}},updateEnsCache(e){try{let t=i.getEnsCache();t[e.address]=e,n.mr.setItem(n.uJ.ENS_CACHE,JSON.stringify(t))}catch(e){}},removeEnsFromCache(e){try{let t=i.getEnsCache();n.mr.setItem(n.uJ.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch(e){}},getIdentityCache(){let e={};try{let t=n.mr.getItem(n.uJ.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch(e){}return e},getIdentityFromCacheForAddress(e){try{let t=i.getIdentityCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;i.removeIdentityFromCache(e)}catch(e){}},updateIdentityCache(e){try{let t=i.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},n.mr.setItem(n.uJ.IDENTITY_CACHE,JSON.stringify(t))}catch(e){}},removeIdentityFromCache(e){try{let t=i.getIdentityCache();n.mr.setItem(n.uJ.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch(e){}},clearAddressCache(){try{n.mr.removeItem(n.uJ.PORTFOLIO_CACHE),n.mr.removeItem(n.uJ.NATIVE_BALANCE_CACHE),n.mr.removeItem(n.uJ.ENS_CACHE),n.mr.removeItem(n.uJ.IDENTITY_CACHE),n.mr.removeItem(n.uJ.HISTORY_TRANSACTIONS_CACHE)}catch(e){}},setPreferredAccountTypes(e){try{n.mr.setItem(n.uJ.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch(e){}},getPreferredAccountTypes(){try{let e=n.mr.getItem(n.uJ.PREFERRED_ACCOUNT_TYPES);if(!e)return{};return JSON.parse(e)}catch(e){}return{}},setConnections(e,t){try{var r;let o=i.getConnections(),s=null!==(r=o[t])&&void 0!==r?r:[],a=new Map;for(let e of s)a.set(e.connectorId,{...e});for(let t of e){let e=a.get(t.connectorId),r=t.connectorId===n.bq.CONNECTOR_ID.AUTH;if(e&&!r){let r=new Set(e.accounts.map(e=>e.address.toLowerCase())),n=t.accounts.filter(e=>!r.has(e.address.toLowerCase()));e.accounts.push(...n)}else a.set(t.connectorId,{...t})}let c={...o,[t]:Array.from(a.values())};n.mr.setItem(n.uJ.CONNECTIONS,JSON.stringify(c))}catch(e){console.error("Unable to sync connections to storage",e)}},getConnections(){try{let e=n.mr.getItem(n.uJ.CONNECTIONS);if(!e)return{};return JSON.parse(e)}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection(e){let{connectorId:t,address:r,namespace:o}=e;try{var s;let e=i.getConnections(),a=null!==(s=e[o])&&void 0!==s?s:[],c=new Map(a.map(e=>[e.connectorId,e])),l=c.get(t);if(l){let e=l.accounts.filter(e=>e.address.toLowerCase()!==r.toLowerCase());0===e.length?c.delete(t):c.set(t,{...l,accounts:l.accounts.filter(e=>e.address.toLowerCase()!==r.toLowerCase())})}n.mr.setItem(n.uJ.CONNECTIONS,JSON.stringify({...e,[o]:Array.from(c.values())}))}catch(e){console.error('Unable to remove address "'.concat(r,'" from connector "').concat(t,'" in namespace "').concat(o,'"'))}},getDisconnectedConnectorIds(){try{let e=n.mr.getItem(n.uJ.DISCONNECTED_CONNECTOR_IDS);if(!e)return{};return JSON.parse(e)}catch(e){}return{}},addDisconnectedConnectorId(e,t){try{var r;let o=i.getDisconnectedConnectorIds(),s=null!==(r=o[t])&&void 0!==r?r:[];s.push(e),n.mr.setItem(n.uJ.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...o,[t]:Array.from(new Set(s))}))}catch(r){console.error('Unable to set disconnected connector id "'.concat(e,'" for namespace "').concat(t,'"'))}},removeDisconnectedConnectorId(e,t){try{var r;let o=i.getDisconnectedConnectorIds(),s=null!==(r=o[t])&&void 0!==r?r:[];s=s.filter(t=>t.toLowerCase()!==e.toLowerCase()),n.mr.setItem(n.uJ.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...o,[t]:Array.from(new Set(s))}))}catch(r){console.error('Unable to remove disconnected connector id "'.concat(e,'" for namespace "').concat(t,'"'))}},isConnectorDisconnected(e,t){try{var r;let n=i.getDisconnectedConnectorIds();return(null!==(r=n[t])&&void 0!==r?r:[]).some(t=>t.toLowerCase()===e.toLowerCase())}catch(e){}return!1},getTransactionsCache(){try{let e=n.mr.getItem(n.uJ.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch(e){}return{}},getTransactionsCacheForAddress(e){let{address:t,chainId:r=""}=e;try{var n;let e=i.getTransactionsCache(),o=null===(n=e[t])||void 0===n?void 0:n[r];if(o&&!this.isCacheExpired(o.timestamp,this.cacheExpiry.transactionsHistory))return o.transactions;i.removeTransactionsCache({address:t,chainId:r})}catch(e){}},updateTransactionsCache(e){let{address:t,chainId:r="",timestamp:o,transactions:s}=e;try{let e=i.getTransactionsCache();e[t]={...e[t],[r]:{timestamp:o,transactions:s}},n.mr.setItem(n.uJ.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(e))}catch(e){}},removeTransactionsCache(e){let{address:t,chainId:r}=e;try{let e=i.getTransactionsCache(),{[r]:o,...s}=(null==e?void 0:e[t])||{};n.mr.setItem(n.uJ.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...e,[t]:s}))}catch(e){}},getTokenPriceCache(){try{let e=n.mr.getItem(n.uJ.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch(e){}return{}},getTokenPriceCacheForAddresses(e){try{let t=i.getTokenPriceCache()[e.join(",")];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tokenPrice))return t.tokenPrice;i.removeTokenPriceCache(e)}catch(e){}},updateTokenPriceCache(e){try{let t=i.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},n.mr.setItem(n.uJ.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch(e){}},removeTokenPriceCache(e){try{let t=i.getTokenPriceCache();n.mr.setItem(n.uJ.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch(e){}}}},59500:function(e,t,r){"use strict";r.d(t,{n:function(){return l}});var n=r(83334),i=r(7987),o=r(88538),s=r(27948),a=r(12312),c=r(60153);let l={async getTokenList(e){var t;let r=await i.L.fetchSwapTokens({chainId:e});return(null==r?void 0:null===(t=r.tokens)||void 0===t?void 0:t.map(e=>({...e,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){let e=o.R.state.activeCaipNetwork;if(!e)return null;try{if("solana"===e.chainNamespace){var t;let e=null===(t=await (null===s.l||void 0===s.l?void 0:s.l.estimateGas({chainNamespace:"solana"})))||void 0===t?void 0:t.toString();return{standard:e,fast:e,instant:e}}return await i.L.fetchGasPrice({chainId:e.caipNetworkId})}catch(e){return null}},async fetchSwapAllowance(e){let{tokenAddress:t,userAddress:r,sourceTokenAmount:n,sourceTokenDecimals:o}=e,a=await i.L.fetchSwapAllowance({tokenAddress:t,userAddress:r});if((null==a?void 0:a.allowance)&&n&&o){let e=s.l.parseUnits(n,o)||0;return BigInt(a.allowance)>=e}return!1},async getMyTokensWithBalance(e){let t=await a.Q.getMyTokensWithBalance(e);return n.AccountController.setTokenBalance(t,o.R.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens:e=>(null==e?void 0:e.map(e=>({...e,address:(null==e?void 0:e.address)?e.address:(0,c.EO)(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},2217:function(e,t,r){"use strict";r.d(t,{P:function(){return s},g:function(){return i}});var n=r(73204);class i extends Error{constructor(e,t,r){super(e),this.name="AppKitError",this.category=t,this.originalError=r,Object.setPrototypeOf(this,i.prototype);let n=!1;if(r instanceof Error&&"string"==typeof r.stack&&r.stack){let e=r.stack,t=e.indexOf("\n");if(t>-1){let r=e.substring(t+1);this.stack="".concat(this.name,": ").concat(this.message,"\n").concat(r),n=!0}}n||(Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack||(this.stack="".concat(this.name,": ").concat(this.message)))}}function o(e,t){let r="";try{r=e instanceof Error?e.message:"string"==typeof e?e:"object"==typeof e&&null!==e?JSON.stringify(e):String(e)}catch(e){r="Unknown error",console.error("Error parsing error message",e)}let o=e instanceof i?e:new i(r,t,e);throw n.p.sendError(o,o.category),o}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INTERNAL_SDK_ERROR",r={};return Object.keys(e).forEach(n=>{let i=e[n];if("function"==typeof i){let e=i;e="AsyncFunction"===i.constructor.name?async function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];try{return await i(...r)}catch(e){return o(e,t)}}:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];try{return i(...r)}catch(e){return o(e,t)}},r[n]=e}else r[n]=i}),r}},89438:function(e,t,r){"use strict";function n(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}r.d(t,{T:function(){return n}})},95633:function(e,t,r){"use strict";r.d(t,{R:function(){return C}});var n=r(56076),i=r(61684),o=r(89438),s=r(63822),a=r(54166),c=r(7223),l=r(38210),u=r(67226),d=r(30665),f=r(41637),h=r(65786),p=r(67663),g=r(92869),m=r(91535),y=r(90398),b=r(85249),v=r(16067),w=r(62575),E=r(12709);async function C(e,t){var s,d,h,p;let{account:v=e.account,authorizationList:C,batch:x=!!(null===(s=e.batch)||void 0===s?void 0:s.multicall),blockNumber:I,blockTag:N="latest",accessList:S,blobs:P,blockOverrides:O,code:_,data:R,factory:T,factoryData:k,gas:B,gasPrice:U,maxFeePerBlobGas:M,maxFeePerGas:L,maxPriorityFeePerGas:D,nonce:j,to:F,value:q,stateOverride:z,...$}=t,H=v?(0,o.T)(v):void 0;if(_&&(T||k))throw new c.G("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(_&&F)throw new c.G("Cannot provide both `code` & `to` as parameters.");let G=_&&R,W=T&&k&&F&&R,V=G||W,K=G?function(e){let{code:t,data:r}=e;return(0,f.w)({abi:(0,n.Vv)(["constructor(bytes, bytes)"]),bytecode:a.NO,args:[t,r]})}({code:_,data:R}):W?function(e){let{data:t,factory:r,factoryData:i,to:o}=e;return(0,f.w)({abi:(0,n.Vv)(["constructor(address, bytes, address, bytes)"]),bytecode:a.pG,args:[o,t,r,i]})}({data:R,factory:T,factoryData:k,to:F}):R;try{(0,E.F)(t);let r=("bigint"==typeof I?(0,g.eC)(I):void 0)||N,n=O?i.o(O):void 0,o=(0,w.mF)(z),s=null===(p=e.chain)||void 0===p?void 0:null===(h=p.formatters)||void 0===h?void 0:null===(d=h.transactionRequest)||void 0===d?void 0:d.format,a=(s||b.tG)({...(0,y.K)($,{format:s}),from:null==H?void 0:H.address,accessList:S,authorizationList:C,blobs:P,data:K,gas:B,gasPrice:U,maxFeePerBlobGas:M,maxFeePerGas:L,maxPriorityFeePerGas:D,nonce:j,to:V?void 0:F,value:q});if(x&&function(e){let{request:t}=e,{data:r,to:n,...i}=t;return!(!r||r.startsWith("0x82ad56cb"))&&!!n&&!(Object.values(i).filter(e=>void 0!==e).length>0)}({request:a})&&!o&&!n)try{return await A(e,{...a,blockNumber:I,blockTag:N})}catch(e){if(!(e instanceof l.pZ)&&!(e instanceof l.mm))throw e}let c=(()=>{let e=[a,r];return o&&n?[...e,o,n]:o?[...e,o]:n?[...e,{},n]:e})(),u=await e.request({method:"eth_call",params:c});if("0x"===u)return{data:void 0};return{data:u}}catch(s){let n=function(e){var t;if(!(e instanceof c.G))return;let r=e.walk();return"object"==typeof(null==r?void 0:r.data)?null===(t=r.data)||void 0===t?void 0:t.data:r.data}(s),{offchainLookup:i,offchainLookupSignature:o}=await Promise.resolve().then(r.bind(r,96934));if(!1!==e.ccipRead&&(null==n?void 0:n.slice(0,10))===o&&F)return{data:await i(e,{data:n,to:F})};if(V&&(null==n?void 0:n.slice(0,10))==="0x101bb98d")throw new u.Mo({factory:T});throw(0,m.P)(s,{...t,account:H,chain:e.chain})}}async function A(e,t){var r;let{batchSize:n=1024,wait:i=0}="object"==typeof(null===(r=e.batch)||void 0===r?void 0:r.multicall)?e.batch.multicall:{},{blockNumber:o,blockTag:a="latest",data:c,multicallAddress:f,to:m}=t,y=f;if(!y){if(!e.chain)throw new l.pZ;y=(0,p.L)({blockNumber:o,chain:e.chain,contract:"multicall3"})}let b=("bigint"==typeof o?(0,g.eC)(o):void 0)||a,{schedule:w}=(0,v.S)({id:"".concat(e.uid,".").concat(b),wait:i,shouldSplitBatch:e=>e.reduce((e,t)=>{let{data:r}=t;return e+(r.length-2)},0)>2*n,fn:async t=>{let r=t.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),n=(0,h.R)({abi:s.F8,args:[r],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{data:n,to:y},b]});return(0,d.k)({abi:s.F8,args:[r],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:E,success:C}]=await w({data:c,to:m});if(!C)throw new u.VQ({data:E});return"0x"===E?{data:void 0}:{data:E}}},63822:function(e,t,r){"use strict";r.d(t,{F8:function(){return n},Yi:function(){return i}});let n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],i=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],o=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}];[...o],[...o]},54166:function(e,t,r){"use strict";r.d(t,{NO:function(){return n},pG:function(){return i}});let n="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",i="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe"},9059:function(e,t,r){"use strict";r.d(t,{zL:function(){return n}});let n=2n**256n-1n},33526:function(e,t,r){"use strict";r.d(t,{$:function(){return n},Up:function(){return i},hZ:function(){return o}});let n={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},o={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},12167:function(e,t,r){"use strict";r.d(t,{Zn:function(){return i},ez:function(){return n}});let n={gwei:9,wei:18},i={ether:-9,wei:9}},17607:function(e,t,r){"use strict";r.d(t,{CI:function(){return E},M4:function(){return d},MS:function(){return p},MX:function(){return y},S4:function(){return v},Zh:function(){return h},cO:function(){return a},dh:function(){return w},eF:function(){return b},fM:function(){return s},fs:function(){return f},gr:function(){return u},hn:function(){return C},wM:function(){return A},wb:function(){return l},xB:function(){return c},xL:function(){return m},yP:function(){return g}});var n=r(94718),i=r(64639),o=r(7223);class s extends o.G{constructor({docsPath:e}){super("A constructor was not found on the ABI.\nMake sure you are using the correct ABI and that the constructor exists on it.",{docsPath:e,name:"AbiConstructorNotFoundError"})}}class a extends o.G{constructor({docsPath:e}){super("Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.\nMake sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.",{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class c extends o.G{constructor({data:e,params:t,size:r}){super(["Data size of ".concat(r," bytes is too small for given parameters.")].join("\n"),{metaMessages:["Params: (".concat((0,n.h)(t,{includeName:!0}),")"),"Data:   ".concat(e," (").concat(r," bytes)")],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class l extends o.G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class u extends o.G{constructor({expectedLength:e,givenLength:t,type:r}){super(["ABI encoding array length mismatch for type ".concat(r,"."),"Expected length: ".concat(e),"Given length: ".concat(t)].join("\n"),{name:"AbiEncodingArrayLengthMismatchError"})}}class d extends o.G{constructor({expectedSize:e,value:t}){super('Size of bytes "'.concat(t,'" (bytes').concat((0,i.d)(t),") does not match expected size (bytes").concat(e,")."),{name:"AbiEncodingBytesSizeMismatchError"})}}class f extends o.G{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.","Expected length (params): ".concat(e),"Given length (values): ".concat(t)].join("\n"),{name:"AbiEncodingLengthMismatchError"})}}class h extends o.G{constructor(e,{docsPath:t}){super(['Arguments (`args`) were provided to "'.concat(e,'", but "').concat(e,'" on the ABI does not contain any parameters (`inputs`).'),"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join("\n"),{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class p extends o.G{constructor(e,{docsPath:t}={}){super(["Error ".concat(e?'"'.concat(e,'" '):"","not found on ABI."),"Make sure you are using the correct ABI and that the error exists on it."].join("\n"),{docsPath:t,name:"AbiErrorNotFoundError"})}}class g extends o.G{constructor(e,{docsPath:t}){super(['Encoded error signature "'.concat(e,'" not found on ABI.'),"Make sure you are using the correct ABI and that the error exists on it.","You can look up the decoded signature here: https://openchain.xyz/signatures?query=".concat(e,".")].join("\n"),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class m extends o.G{constructor(e,{docsPath:t}={}){super(["Function ".concat(e?'"'.concat(e,'" '):"","not found on ABI."),"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionNotFoundError"})}}class y extends o.G{constructor(e,{docsPath:t}){super(['Function "'.concat(e,'" does not contain any `outputs` on ABI.'),"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class b extends o.G{constructor(e,{docsPath:t}){super(['Encoded function signature "'.concat(e,'" not found on ABI.'),"Make sure you are using the correct ABI and that the function exists on it.","You can look up the signature here: https://openchain.xyz/signatures?query=".concat(e,".")].join("\n"),{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class v extends o.G{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:["`".concat(e.type,"` in `").concat((0,n.t)(e.abiItem),"`, and"),"`".concat(t.type,"` in `").concat((0,n.t)(t.abiItem),"`"),"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class w extends o.G{constructor(e,{docsPath:t}){super(['Type "'.concat(e,'" is not a valid encoding type.'),"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiEncodingType"})}}class E extends o.G{constructor(e,{docsPath:t}){super(['Type "'.concat(e,'" is not a valid decoding type.'),"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiDecodingType"})}}class C extends o.G{constructor(e){super(['Value "'.concat(e,'" is not a valid array.')].join("\n"),{name:"InvalidArrayError"})}}class A extends o.G{constructor(e){super(['"'.concat(e,'" is not a valid definition type.'),'Valid types: "function", "event", "error"'].join("\n"),{name:"InvalidDefinitionTypeError"})}}},46495:function(e,t,r){"use strict";r.d(t,{b:function(){return i}});var n=r(7223);class i extends n.G{constructor({address:e}){super('Address "'.concat(e,'" is invalid.'),{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}},7223:function(e,t,r){"use strict";r.d(t,{G:function(){return o}});let n="2.31.0",i={getDocsUrl:e=>{let{docsBaseUrl:t,docsPath:r="",docsSlug:n}=e;return r?"".concat(null!=t?t:"https://viem.sh").concat(r).concat(n?"#".concat(n):""):void 0},version:"viem@".concat(n)};class o extends Error{walk(e){return function e(t,r){return(null==r?void 0:r(t))?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}constructor(e,t={}){var r,s,a;let c=t.cause instanceof o?t.cause.details:(null===(a=t.cause)||void 0===a?void 0:a.message)?t.cause.message:t.details,l=t.cause instanceof o&&t.cause.docsPath||t.docsPath,u=null===(r=i.getDocsUrl)||void 0===r?void 0:r.call(i,{...t,docsPath:l});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...u?["Docs: ".concat(u)]:[],...c?["Details: ".concat(c)]:[],...i.version?["Version: ".concat(i.version)]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=c,this.docsPath=l,this.metaMessages=t.metaMessages,this.name=null!==(s=t.name)&&void 0!==s?s:this.name,this.shortMessage=e,this.version=n}}},38210:function(e,t,r){"use strict";r.d(t,{mm:function(){return i},pZ:function(){return o}});var n=r(7223);class i extends n.G{constructor({blockNumber:e,chain:t,contract:r}){super('Chain "'.concat(t.name,'" does not support contract "').concat(r.name,'".'),{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?['- The contract "'.concat(r.name,'" was not deployed until block ').concat(r.blockCreated," (current block ").concat(e,").")]:['- The chain does not have the contract "'.concat(r.name,'" configured.')]],name:"ChainDoesNotSupportContract"})}}class o extends n.G{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}},67226:function(e,t,r){"use strict";r.d(t,{Mo:function(){return u},VQ:function(){return d},cg:function(){return l}});var n=r(89438);r(33526),r(14231),r(94718),r(77880),r(2662);var i=r(55546),o=r(12434);r(17607);var s=r(7223),a=r(29751),c=r(43811);r(62463);class l extends s.G{constructor(e,{account:t,docsPath:r,chain:s,data:l,gas:u,gasPrice:d,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:g,value:m,stateOverride:y}){var b;let v=t?(0,n.T)(t):void 0,w=(0,c.xr)({from:null==v?void 0:v.address,to:g,value:void 0!==m&&"".concat((0,i.d)(m)," ").concat((null==s?void 0:null===(b=s.nativeCurrency)||void 0===b?void 0:b.symbol)||"ETH"),data:l,gas:u,gasPrice:void 0!==d&&"".concat((0,o.o)(d)," gwei"),maxFeePerGas:void 0!==f&&"".concat((0,o.o)(f)," gwei"),maxPriorityFeePerGas:void 0!==h&&"".concat((0,o.o)(h)," gwei"),nonce:p});y&&(w+="\n".concat((0,a.Bj)(y))),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class u extends s.G{constructor({factory:e}){super("Deployment for counterfactual contract call failed".concat(e?' for factory "'.concat(e,'".'):""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class d extends s.G{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},2785:function(e,t,r){"use strict";r.d(t,{KD:function(){return s},T_:function(){return i},lQ:function(){return o}});var n=r(7223);class i extends n.G{constructor({offset:e}){super("Offset `".concat(e,"` cannot be negative."),{name:"NegativeOffsetError"})}}class o extends n.G{constructor({length:e,position:t}){super("Position `".concat(t,"` is out of bounds (`0 < position < ").concat(e,"`)."),{name:"PositionOutOfBoundsError"})}}class s extends n.G{constructor({count:e,limit:t}){super("Recursive read limit of `".concat(t,"` exceeded (recursive read count: `").concat(e,"`)."),{name:"RecursiveReadLimitExceededError"})}}},76555:function(e,t,r){"use strict";r.d(t,{$s:function(){return o},W_:function(){return s},mV:function(){return i}});var n=r(7223);class i extends n.G{constructor({offset:e,position:t,size:r}){super("Slice ".concat("start"===t?"starting":"ending",' at offset "').concat(e,'" is out-of-bounds (size: ').concat(r,")."),{name:"SliceOffsetOutOfBoundsError"})}}class o extends n.G{constructor({size:e,targetSize:t,type:r}){super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," size (").concat(e,") exceeds padding size (").concat(t,")."),{name:"SizeExceedsPaddingSizeError"})}}class s extends n.G{constructor({size:e,targetSize:t,type:r}){super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," is expected to be ").concat(t," ").concat(r," long, but is ").concat(e," ").concat(r," long."),{name:"InvalidBytesLengthError"})}}},53604:function(e,t,r){"use strict";r.d(t,{J5:function(){return i},M6:function(){return s},yr:function(){return o}});var n=r(7223);class i extends n.G{constructor({max:e,min:t,signed:r,size:n,value:i}){super('Number "'.concat(i,'" is not in safe ').concat(n?"".concat(8*n,"-bit ").concat(r?"signed":"unsigned"," "):"","integer range ").concat(e?"(".concat(t," to ").concat(e,")"):"(above ".concat(t,")")),{name:"IntegerOutOfRangeError"})}}class o extends n.G{constructor(e){super('Bytes value "'.concat(e,'" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.'),{name:"InvalidBytesBooleanError"})}}class s extends n.G{constructor({givenSize:e,maxSize:t}){super("Size cannot exceed ".concat(t," bytes. Given size: ").concat(e," bytes."),{name:"SizeOverflowError"})}}},37323:function(e,t,r){"use strict";r.d(t,{C_:function(){return d},G$:function(){return a},Hh:function(){return s},M_:function(){return o},WF:function(){return f},ZI:function(){return c},cj:function(){return m},cs:function(){return g},dR:function(){return h},pZ:function(){return p},se:function(){return u},vU:function(){return l}});var n=r(12434),i=r(7223);class o extends i.G{constructor({cause:e,message:t}={}){var r;let n=null==t?void 0:null===(r=t.replace("execution reverted: ",""))||void 0===r?void 0:r.replace("execution reverted","");super("Execution reverted ".concat(n?"with reason: ".concat(n):"for an unknown reason","."),{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class s extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super("The fee cap (`maxFeePerGas`".concat(t?" = ".concat((0,n.o)(t)," gwei"):"",") cannot be higher than the maximum allowed value (2^256-1)."),{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class a extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super("The fee cap (`maxFeePerGas`".concat(t?" = ".concat((0,n.o)(t)):""," gwei) cannot be lower than the block base fee."),{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class c extends i.G{constructor({cause:e,nonce:t}={}){super("Nonce provided for the transaction ".concat(t?"(".concat(t,") "):"","is higher than the next one expected."),{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class l extends i.G{constructor({cause:e,nonce:t}={}){super(["Nonce provided for the transaction ".concat(t?"(".concat(t,") "):"","is lower than the current nonce of the account."),"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class u extends i.G{constructor({cause:e,nonce:t}={}){super("Nonce provided for the transaction ".concat(t?"(".concat(t,") "):"","exceeds the maximum allowed nonce."),{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class d extends i.G{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class f extends i.G{constructor({cause:e,gas:t}={}){super("The amount of gas ".concat(t?"(".concat(t,") "):"","provided for the transaction exceeds the limit allowed for the block."),{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class h extends i.G{constructor({cause:e,gas:t}={}){super("The amount of gas ".concat(t?"(".concat(t,") "):"","provided for the transaction is too low."),{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class p extends i.G{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class g extends i.G{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super(["The provided tip (`maxPriorityFeePerGas`".concat(t?" = ".concat((0,n.o)(t)," gwei"):"",") cannot be higher than the fee cap (`maxFeePerGas`").concat(r?" = ".concat((0,n.o)(r)," gwei"):"",").")].join("\n"),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(g,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class m extends i.G{constructor({cause:e}){super("An error occurred while executing: ".concat(null==e?void 0:e.shortMessage),{cause:e,name:"UnknownNodeError"})}}},19507:function(e,t,r){"use strict";r.d(t,{Gg:function(){return s},W5:function(){return c},bs:function(){return a}});var n=r(15189),i=r(7223),o=r(62463);class s extends i.G{constructor({body:e,cause:t,details:r,headers:i,status:s,url:a}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[s&&"Status: ".concat(s),"URL: ".concat((0,o.G)(a)),e&&"Request body: ".concat((0,n.P)(e))].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=a}}class a extends i.G{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:["URL: ".concat((0,o.G)(r)),"Request body: ".concat((0,n.P)(e))],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class c extends i.G{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:["URL: ".concat((0,o.G)(t)),"Request body: ".concat((0,n.P)(e))],name:"TimeoutError"})}}},69911:function(e,t,r){"use strict";var n=r(7223),i=r(19507);class o extends n.G{constructor(e,{code:t,docsPath:r,metaMessages:n,name:o,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:n||(null==e?void 0:e.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof i.bs?e.code:null!=t?t:-1}}class s extends o{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class a extends o{constructor(e){super(e,{code:a.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class c extends o{constructor(e){super(e,{code:c.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class l extends o{constructor(e,{method:t}={}){super(e,{code:l.code,name:"MethodNotFoundRpcError",shortMessage:"The method".concat(t?' "'.concat(t,'"'):""," does not exist / is not available.")})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class u extends o{constructor(e){super(e,{code:u.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class d extends o{constructor(e){super(e,{code:d.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class f extends o{constructor(e){super(e,{code:f.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class h extends o{constructor(e){super(e,{code:h.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class p extends o{constructor(e){super(e,{code:p.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class g extends o{constructor(e){super(e,{code:g.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class m extends o{constructor(e,{method:t}={}){super(e,{code:m.code,name:"MethodNotSupportedRpcError",shortMessage:"Method".concat(t?' "'.concat(t,'"'):""," is not supported.")})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class y extends o{constructor(e){super(e,{code:y.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class b extends o{constructor(e){super(e,{code:b.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class v extends s{constructor(e){super(e,{code:v.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class w extends s{constructor(e){super(e,{code:w.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class E extends s{constructor(e,{method:t}={}){super(e,{code:E.code,name:"UnsupportedProviderMethodError",shortMessage:"The Provider does not support the requested method".concat(t?' " '.concat(t,'"'):"",".")})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class C extends s{constructor(e){super(e,{code:C.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class A extends s{constructor(e){super(e,{code:A.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class x extends s{constructor(e){super(e,{code:x.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class I extends s{constructor(e){super(e,{code:I.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class N extends s{constructor(e){super(e,{code:N.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(N,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class S extends s{constructor(e){super(e,{code:S.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class P extends s{constructor(e){super(e,{code:P.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class O extends s{constructor(e){super(e,{code:O.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class _ extends s{constructor(e){super(e,{code:_.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class R extends s{constructor(e){super(e,{code:R.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(R,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760})},29751:function(e,t,r){"use strict";r.d(t,{Bj:function(){return a},Nc:function(){return i},Z8:function(){return o}});var n=r(7223);class i extends n.G{constructor({address:e}){super('State for account "'.concat(e,'" is set multiple times.'),{name:"AccountStateConflictError"})}}class o extends n.G{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function s(e){return e.reduce((e,t)=>{let{slot:r,value:n}=t;return"".concat(e,"        ").concat(r,": ").concat(n,"\n")},"")}function a(e){return e.reduce((e,t)=>{let{address:r,...n}=t,i="".concat(e,"    ").concat(r,":\n");return n.nonce&&(i+="      nonce: ".concat(n.nonce,"\n")),n.balance&&(i+="      balance: ".concat(n.balance,"\n")),n.code&&(i+="      code: ".concat(n.code,"\n")),n.state&&(i+="      state:\n"+s(n.state)),n.stateDiff&&(i+="      stateDiff:\n"+s(n.stateDiff)),i},"  State Override:\n").slice(0,-1)}},43811:function(e,t,r){"use strict";r.d(t,{xY:function(){return o},xr:function(){return i}}),r(55546),r(12434);var n=r(7223);function i(e){let t=Object.entries(e).map(e=>{let[t,r]=e;return void 0===r||!1===r?null:[t,r]}).filter(Boolean),r=t.reduce((e,t)=>{let[r]=t;return Math.max(e,r.length)},0);return t.map(e=>{let[t,n]=e;return"  ".concat("".concat(t,":").padEnd(r+1),"  ").concat(n)}).join("\n")}class o extends n.G{constructor(){super("Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.\nUse `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others.",{name:"FeeConflictError"})}}},62463:function(e,t,r){"use strict";r.d(t,{C:function(){return n},G:function(){return i}});let n=e=>e,i=e=>e},64271:function(e,t,r){"use strict";r.d(t,{r:function(){return h}});var n=r(17607),i=r(10790),o=r(91883),s=r(64639),a=r(98393),c=r(25616),l=r(25968),u=r(17310),d=r(92869),f=r(56028);function h(e,t){let r="string"==typeof t?(0,u.nr)(t):t,h=(0,o.q)(r);if(0===(0,s.d)(r)&&e.length>0)throw new n.wb;if((0,s.d)(t)&&32>(0,s.d)(t))throw new n.xB({data:"string"==typeof t?t:(0,d.ci)(t),params:e,size:(0,s.d)(t)});let g=0,m=[];for(let t=0;t<e.length;++t){let r=e[t];h.setPosition(g);let[o,s]=function e(t,r,o){let{staticPosition:s}=o,u=(0,f.S)(r.type);if(u){let[n,i]=u;return function(t,r,n){let{length:i,staticPosition:o}=n;if(!i){let n=o+(0,l.tm)(t.readBytes(32)),i=n+32;t.setPosition(n);let s=(0,l.tm)(t.readBytes(32)),a=p(r),c=0,u=[];for(let n=0;n<s;++n){t.setPosition(i+(a?32*n:c));let[o,s]=e(t,r,{staticPosition:i});c+=s,u.push(o)}return t.setPosition(o+32),[u,32]}if(p(r)){let n=o+(0,l.tm)(t.readBytes(32)),s=[];for(let o=0;o<i;++o){t.setPosition(n+32*o);let[i]=e(t,r,{staticPosition:n});s.push(i)}return t.setPosition(o+32),[s,32]}let s=0,a=[];for(let n=0;n<i;++n){let[n,i]=e(t,r,{staticPosition:o+s});s+=i,a.push(n)}return[a,s]}(t,{...r,type:i},{length:n,staticPosition:s})}if("tuple"===r.type)return function(t,r,n){let{staticPosition:i}=n,o=0===r.components.length||r.components.some(e=>{let{name:t}=e;return!t}),s=o?[]:{},a=0;if(p(r)){let n=i+(0,l.tm)(t.readBytes(32));for(let i=0;i<r.components.length;++i){let c=r.components[i];t.setPosition(n+a);let[l,u]=e(t,c,{staticPosition:n});a+=u,s[o?i:null==c?void 0:c.name]=l}return t.setPosition(i+32),[s,32]}for(let n=0;n<r.components.length;++n){let c=r.components[n],[l,u]=e(t,c,{staticPosition:i});s[o?n:null==c?void 0:c.name]=l,a+=u}return[s,a]}(t,r,{staticPosition:s});if("address"===r.type)return function(e){let t=e.readBytes(32);return[(0,i.x)((0,d.ci)((0,a.T4)(t,-20))),32]}(t);if("bool"===r.type)return[(0,l.Lj)(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,r){let{staticPosition:n}=r,[i,o]=t.type.split("bytes");if(!o){let t=(0,l.tm)(e.readBytes(32));e.setPosition(n+t);let r=(0,l.tm)(e.readBytes(32));if(0===r)return e.setPosition(n+32),["0x",32];let i=e.readBytes(r);return e.setPosition(n+32),[(0,d.ci)(i),32]}return[(0,d.ci)(e.readBytes(Number.parseInt(o),32)),32]}(t,r,{staticPosition:s});if(r.type.startsWith("uint")||r.type.startsWith("int"))return function(e,t){let r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256"),i=e.readBytes(32);return[n>48?(0,l.v3)(i,{signed:r}):(0,l.tm)(i,{signed:r}),32]}(t,r);if("string"===r.type)return function(e,t){let{staticPosition:r}=t,n=(0,l.tm)(e.readBytes(32));e.setPosition(r+n);let i=(0,l.tm)(e.readBytes(32));if(0===i)return e.setPosition(r+32),["",32];let o=e.readBytes(i,32),s=(0,l.d3)((0,c.f)(o));return e.setPosition(r+32),[s,32]}(t,{staticPosition:s});throw new n.CI(r.type,{docsPath:"/docs/contract/decodeAbiParameters"})}(h,r,{staticPosition:0});g+=s,m.push(o)}return m}function p(e){var t;let{type:r}=e;if("string"===r||"bytes"===r||r.endsWith("[]"))return!0;if("tuple"===r)return null===(t=e.components)||void 0===t?void 0:t.some(p);let n=(0,f.S)(e.type);return!!(n&&p({...e,type:n[1]}))}},14231:function(e,t,r){"use strict";r.d(t,{p:function(){return l}});var n=r(33526),i=r(17607),o=r(98393),s=r(25215),a=r(64271),c=r(94718);function l(e){let{abi:t,data:r}=e,l=(0,o.tP)(r,0,4);if("0x"===l)throw new i.wb;let u=[...t||[],n.Up,n.hZ].find(e=>"error"===e.type&&l===(0,s.C)((0,c.t)(e)));if(!u)throw new i.yP(l,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:u,args:"inputs"in u&&u.inputs&&u.inputs.length>0?(0,a.r)(u.inputs,(0,o.tP)(r,4)):void 0,errorName:u.name}}},36909:function(e,t,r){"use strict";r.d(t,{p:function(){return c}});var n=r(17607),i=r(98393),o=r(25215),s=r(64271),a=r(94718);function c(e){let{abi:t,data:r}=e,c=(0,i.tP)(r,0,4),l=t.find(e=>"function"===e.type&&c===(0,o.C)((0,a.t)(e)));if(!l)throw new n.eF(c,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:l.name,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,s.r)(l.inputs,(0,i.tP)(r,4)):void 0}}},30665:function(e,t,r){"use strict";r.d(t,{k:function(){return a}});var n=r(17607),i=r(64271),o=r(2662);let s="/docs/contract/decodeFunctionResult";function a(e){let{abi:t,args:r,functionName:a,data:c}=e,l=t[0];if(a){let e=(0,o.mE)({abi:t,args:r,name:a});if(!e)throw new n.xL(a,{docsPath:s});l=e}if("function"!==l.type)throw new n.xL(void 0,{docsPath:s});if(!l.outputs)throw new n.MX(l.name,{docsPath:s});let u=(0,i.r)(l.outputs,c);return u&&u.length>1?u:u&&1===u.length?u[0]:void 0}},56028:function(e,t,r){"use strict";r.d(t,{E:function(){return p},S:function(){return m}});var n=r(17607),i=r(46495),o=r(7223),s=r(53604),a=r(39460),c=r(72986),l=r(40476),u=r(64639),d=r(98393),f=r(92869),h=r(83421);function p(e,t){if(e.length!==t.length)throw new n.fs({expectedLength:e.length,givenLength:t.length});let r=g(function(e){let{params:t,values:r}=e,p=[];for(let e=0;e<t.length;e++)p.push(function e(t){let{param:r,value:p}=t,y=m(r.type);if(y){let[t,i]=y;return function(t,r){let{length:i,param:o}=r,s=null===i;if(!Array.isArray(t))throw new n.hn(t);if(!s&&t.length!==i)throw new n.gr({expectedLength:i,givenLength:t.length,type:"".concat(o.type,"[").concat(i,"]")});let a=!1,l=[];for(let r=0;r<t.length;r++){let n=e({param:o,value:t[r]});n.dynamic&&(a=!0),l.push(n)}if(s||a){let e=g(l);if(s){let t=(0,f.eC)(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?(0,c.zo)([t,e]):t}}if(a)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,c.zo)(l.map(e=>{let{encoded:t}=e;return t}))}}(p,{length:t,param:{...r,type:i}})}if("tuple"===r.type)return function(t,r){let{param:n}=r,i=!1,o=[];for(let r=0;r<n.components.length;r++){let s=n.components[r],a=Array.isArray(t)?r:s.name,c=e({param:s,value:t[a]});o.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?g(o):(0,c.zo)(o.map(e=>{let{encoded:t}=e;return t}))}}(p,{param:r});if("address"===r.type)return function(e){if(!(0,a.U)(e))throw new i.b({address:e});return{dynamic:!1,encoded:(0,l.gc)(e.toLowerCase())}}(p);if("bool"===r.type)return function(e){if("boolean"!=typeof e)throw new o.G('Invalid boolean value: "'.concat(e,'" (type: ').concat(typeof e,"). Expected: `true` or `false`."));return{dynamic:!1,encoded:(0,l.gc)((0,f.C4)(e))}}(p);if(r.type.startsWith("uint")||r.type.startsWith("int")){var b;let e=r.type.startsWith("int"),[,,t="256"]=null!==(b=h.lh.exec(r.type))&&void 0!==b?b:[];return function(e,t){let{signed:r,size:n=256}=t;if("number"==typeof n){let t=2n**(BigInt(n)-(r?1n:0n))-1n,i=r?-t-1n:0n;if(e>t||e<i)throw new s.J5({max:t.toString(),min:i.toString(),signed:r,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:(0,f.eC)(e,{size:32,signed:r})}}(p,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,t){let{param:r}=t,[,i]=r.type.split("bytes"),o=(0,u.d)(e);if(!i){let t=e;return o%32!=0&&(t=(0,l.gc)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,c.zo)([(0,l.gc)((0,f.eC)(o,{size:32})),t])}}if(o!==Number.parseInt(i))throw new n.M4({expectedSize:Number.parseInt(i),value:e});return{dynamic:!1,encoded:(0,l.gc)(e,{dir:"right"})}}(p,{param:r});if("string"===r.type)return function(e){let t=(0,f.$G)(e),r=Math.ceil((0,u.d)(t)/32),n=[];for(let e=0;e<r;e++)n.push((0,l.gc)((0,d.tP)(t,32*e,(e+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,c.zo)([(0,l.gc)((0,f.eC)((0,u.d)(t),{size:32})),...n])}}(p);throw new n.dh(r.type,{docsPath:"/docs/contract/encodeAbiParameters"})}({param:t[e],value:r[e]}));return p}({params:e,values:t}));return 0===r.length?"0x":r}function g(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=(0,u.d)(i)}let r=[],n=[],i=0;for(let o=0;o<e.length;o++){let{dynamic:s,encoded:a}=e[o];s?(r.push((0,f.eC)(t+i,{size:32})),n.push(a),i+=(0,u.d)(a)):r.push(a)}return(0,c.zo)([...r,...n])}function m(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},41637:function(e,t,r){"use strict";r.d(t,{w:function(){return a}});var n=r(17607),i=r(72986),o=r(56028);let s="/docs/contract/encodeDeployData";function a(e){let{abi:t,args:r,bytecode:a}=e;if(!r||0===r.length)return a;let c=t.find(e=>"type"in e&&"constructor"===e.type);if(!c)throw new n.fM({docsPath:s});if(!("inputs"in c)||!c.inputs||0===c.inputs.length)throw new n.cO({docsPath:s});let l=(0,o.E)(c.inputs,r);return(0,i.SM)([a,l])}},1095:function(e,t,r){"use strict";r.d(t,{M:function(){return u}});var n=r(17607),i=r(72986),o=r(25215),s=r(56028),a=r(94718),c=r(2662);let l="/docs/contract/encodeErrorResult";function u(e){let{abi:t,errorName:r,args:u}=e,d=t[0];if(r){let e=(0,c.mE)({abi:t,args:u,name:r});if(!e)throw new n.MS(r,{docsPath:l});d=e}if("error"!==d.type)throw new n.MS(void 0,{docsPath:l});let f=(0,a.t)(d),h=(0,o.C)(f),p="0x";if(u&&u.length>0){if(!d.inputs)throw new n.Zh(d.name,{docsPath:l});p=(0,s.E)(d.inputs,u)}return(0,i.SM)([h,p])}},65786:function(e,t,r){"use strict";r.d(t,{R:function(){return s}});var n=r(72986),i=r(56028),o=r(71847);function s(e){var t;let{args:r}=e,{abi:s,functionName:a}=1===e.abi.length&&(null===(t=e.functionName)||void 0===t?void 0:t.startsWith("0x"))?e:(0,o.m)(e),c=s[0],l="inputs"in c&&c.inputs?(0,i.E)(c.inputs,null!=r?r:[]):void 0;return(0,n.SM)([a,null!=l?l:"0x"])}},20569:function(e,t,r){"use strict";r.d(t,{R:function(){return a}});var n=r(17607),i=r(56028),o=r(2662);let s="/docs/contract/encodeFunctionResult";function a(e){let{abi:t,functionName:r,result:a}=e,c=t[0];if(r){let e=(0,o.mE)({abi:t,name:r});if(!e)throw new n.xL(r,{docsPath:s});c=e}if("function"!==c.type)throw new n.xL(void 0,{docsPath:s});if(!c.outputs)throw new n.MX(c.name,{docsPath:s});let l=(()=>{if(0===c.outputs.length)return[];if(1===c.outputs.length)return[a];if(Array.isArray(a))return a;throw new n.hn(a)})();return(0,i.E)(c.outputs,l)}},94718:function(e,t,r){"use strict";r.d(t,{h:function(){return o},t:function(){return i}});var n=r(17607);function i(e){let{includeName:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new n.wM(e.type);return"".concat(e.name,"(").concat(o(e.inputs,{includeName:t}),")")}function o(e){let{includeName:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?e.map(e=>(function(e,t){let{includeName:r}=t;return e.type.startsWith("tuple")?"(".concat(o(e.components,{includeName:r}),")").concat(e.type.slice(5)):e.type+(r&&e.name?" ".concat(e.name):"")})(e,{includeName:t})).join(t?", ":","):""}},77880:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(15189);function i(e){let{abiItem:t,args:r,includeFunctionName:i=!0,includeName:o=!1}=e;if("name"in t&&"inputs"in t&&t.inputs)return"".concat(i?t.name:"","(").concat(t.inputs.map((e,t)=>"".concat(o&&e.name?"".concat(e.name,": "):"").concat("object"==typeof r[t]?(0,n.P)(r[t]):r[t])).join(", "),")")}},2662:function(e,t,r){"use strict";r.d(t,{mE:function(){return c}});var n=r(17607),i=r(90337),o=r(39460),s=r(28068),a=r(25215);function c(e){let t;let{abi:r,args:c=[],name:l}=e,u=(0,i.v)(l,{strict:!1}),d=r.filter(e=>u?"function"===e.type?(0,a.C)(e)===l:"event"===e.type&&(0,s.n)(e)===l:"name"in e&&e.name===l);if(0!==d.length){if(1===d.length)return d[0];for(let e of d)if("inputs"in e){if(!c||0===c.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===c.length&&c.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return(0,o.U)(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(t&&"inputs"in t&&t.inputs){let r=function e(t,r,n){for(let i in t){let s=t[i],a=r[i];if("tuple"===s.type&&"tuple"===a.type&&"components"in s&&"components"in a)return e(s.components,a.components,n[i]);let c=[s.type,a.type];if(c.includes("address")&&c.includes("bytes20")||(c.includes("address")&&c.includes("string")||c.includes("address")&&c.includes("bytes"))&&(0,o.U)(n[i],{strict:!1}))return c}}(e.inputs,t.inputs,c);if(r)throw new n.S4({abiItem:e,type:r[0]},{abiItem:t,type:r[1]})}t=e}}return t||d[0]}}},71847:function(e,t,r){"use strict";r.d(t,{m:function(){return c}});var n=r(17607),i=r(25215),o=r(94718),s=r(2662);let a="/docs/contract/encodeFunctionData";function c(e){let{abi:t,args:r,functionName:c}=e,l=t[0];if(c){let e=(0,s.mE)({abi:t,args:r,name:c});if(!e)throw new n.xL(c,{docsPath:a});l=e}if("function"!==l.type)throw new n.xL(void 0,{docsPath:a});return{abi:[l],functionName:(0,i.C)((0,o.t)(l))}}},10790:function(e,t,r){"use strict";r.d(t,{x:function(){return a}}),r(46495);var n=r(17310),i=r(62016),o=r(71703);r(39460);let s=new o.k(8192);function a(e,t){if(s.has("".concat(e,".").concat(t)))return s.get("".concat(e,".").concat(t));let r=t?"".concat(t).concat(e.toLowerCase()):e.substring(2).toLowerCase(),o=(0,i.w)((0,n.qX)(r),"bytes"),a=(t?r.substring("".concat(t,"0x").length):r).split("");for(let e=0;e<40;e+=2)o[e>>1]>>4>=8&&a[e]&&(a[e]=a[e].toUpperCase()),(15&o[e>>1])>=8&&a[e+1]&&(a[e+1]=a[e+1].toUpperCase());let c="0x".concat(a.join(""));return s.set("".concat(e,".").concat(t),c),c}},39460:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});var n=r(71703),i=r(10790);let o=/^0x[a-fA-F0-9]{40}$/,s=new n.k(8192);function a(e,t){let{strict:r=!0}=null!=t?t:{},n="".concat(e,".").concat(r);if(s.has(n))return s.get(n);let a=!!o.test(e)&&(e.toLowerCase()===e||!r||(0,i.x)(e)===e);return s.set(n,a),a}},69789:function(e,t,r){"use strict";r.d(t,{E:function(){return o}});var n=r(46495),i=r(39460);function o(e,t){if(!(0,i.U)(e,{strict:!1}))throw new n.b({address:e});if(!(0,i.U)(t,{strict:!1}))throw new n.b({address:t});return e.toLowerCase()===t.toLowerCase()}},96934:function(e,t,r){"use strict";r.d(t,{offchainLookup:function(){return v},offchainLookupSignature:function(){return y}});var n=r(95633),i=r(15189),o=r(7223),s=r(62463);class a extends o.G{constructor({callbackSelector:e,cause:t,data:r,extraData:n,sender:i,urls:o}){var a;super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],(null===(a=t.metaMessages)||void 0===a?void 0:a.length)?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(e=>"    ".concat((0,s.G)(e)))],"  Sender: ".concat(i),"  Data: ".concat(r),"  Callback selector: ".concat(e),"  Extra data: ".concat(n)].flat(),name:"OffchainLookupError"})}}class c extends o.G{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:["Gateway URL: ".concat((0,s.G)(t)),"Response: ".concat((0,i.P)(e))],name:"OffchainLookupResponseMalformedError"})}}class l extends o.G{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:["Contract address: ".concat(t),"OffchainLookup sender address: ".concat(e)],name:"OffchainLookupSenderMismatchError"})}}var u=r(19507),d=r(14231),f=r(56028),h=r(69789),p=r(72986),g=r(90337),m=r(32935);let y="0x556f1830",b={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function v(e,t){let{blockNumber:r,blockTag:i,data:o,to:s}=t,{args:c}=(0,d.p)({data:o,abi:[b]}),[u,g,y,v,E]=c,{ccipRead:C}=e,A=C&&"function"==typeof(null==C?void 0:C.request)?C.request:w;try{if(!(0,h.E)(s,u))throw new l({sender:u,to:s});let t=g.includes(m.M)?await (0,m.w)({data:y,ccipRequest:A}):await A({data:y,sender:u,urls:g}),{data:o}=await (0,n.R)(e,{blockNumber:r,blockTag:i,data:(0,p.zo)([v,(0,f.E)([{type:"bytes"},{type:"bytes"}],[t,E])]),to:s});return o}catch(e){throw new a({callbackSelector:v,cause:e,data:o,extraData:E,sender:u,urls:g})}}async function w(e){let{data:t,sender:r,urls:n}=e,o=Error("An unknown error occurred.");for(let e=0;e<n.length;e++){let a=n[e],l=a.includes("{data}")?"GET":"POST",d="POST"===l?{data:t,sender:r}:void 0,f="POST"===l?{"Content-Type":"application/json"}:{};try{var s;let e;let n=await fetch(a.replace("{sender}",r.toLowerCase()).replace("{data}",t),{body:JSON.stringify(d),headers:f,method:l});if(e=(null===(s=n.headers.get("Content-Type"))||void 0===s?void 0:s.startsWith("application/json"))?(await n.json()).data:await n.text(),!n.ok){o=new u.Gg({body:d,details:(null==e?void 0:e.error)?(0,i.P)(e.error):n.statusText,headers:n.headers,status:n.status,url:a});continue}if(!(0,g.v)(e)){o=new c({result:e,url:a});continue}return e}catch(e){o=new u.Gg({body:d,details:e.message,url:a})}}throw o}},67663:function(e,t,r){"use strict";r.d(t,{L:function(){return i}});var n=r(38210);function i(e){var t;let{blockNumber:r,chain:i,contract:o}=e,s=null==i?void 0:null===(t=i.contracts)||void 0===t?void 0:t[o];if(!s)throw new n.mm({chain:i,contract:{name:o}});if(r&&s.blockCreated&&s.blockCreated>r)throw new n.mm({blockNumber:r,chain:i,contract:{name:o,blockCreated:s.blockCreated}});return s.address}},91883:function(e,t,r){"use strict";r.d(t,{q:function(){return o}});var n=r(2785);let i={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new n.KD({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new n.lQ({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new n.T_({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new n.T_({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=null!=e?e:this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=null!=t?t:this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=null!=e?e:this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=null!=e?e:this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=null!=e?e:this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=null!=e?e:this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=null!=t?t:e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function o(e){let{recursiveReadLimit:t=8192}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.create(i);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}},72986:function(e,t,r){"use strict";function n(e){return"string"==typeof e[0]?i(e):function(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}(e)}function i(e){return"0x".concat(e.reduce((e,t)=>e+t.replace("0x",""),""))}r.d(t,{SM:function(){return i},zo:function(){return n}})},90337:function(e,t,r){"use strict";function n(e){let{strict:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}r.d(t,{v:function(){return n}})},40476:function(e,t,r){"use strict";r.d(t,{gc:function(){return o},vk:function(){return i}});var n=r(76555);function i(e){let{dir:t,size:r=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e?o(e,{dir:t,size:r}):function(e){let{dir:t,size:r=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===r)return e;if(e.length>r)throw new n.$s({size:e.length,targetSize:r,type:"bytes"});let i=new Uint8Array(r);for(let n=0;n<r;n++){let o="right"===t;i[o?n:r-n-1]=e[o?n:e.length-n-1]}return i}(e,{dir:t,size:r})}function o(e){let{dir:t,size:r=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===r)return e;let i=e.replace("0x","");if(i.length>2*r)throw new n.$s({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return"0x".concat(i["right"===t?"padEnd":"padStart"](2*r,"0"))}},64639:function(e,t,r){"use strict";r.d(t,{d:function(){return i}});var n=r(90337);function i(e){return(0,n.v)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},98393:function(e,t,r){"use strict";r.d(t,{T4:function(){return l},tP:function(){return s}});var n=r(76555),i=r(90337),o=r(64639);function s(e,t,r){let{strict:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,i.v)(e,{strict:!1})?function(e,t,r){let{strict:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a(e,t);let i="0x".concat(e.replace("0x","").slice((null!=t?t:0)*2,(null!=r?r:e.length)*2));return n&&c(i,t,r),i}(e,t,r,{strict:n}):l(e,t,r,{strict:n})}function a(e,t){if("number"==typeof t&&t>0&&t>(0,o.d)(e)-1)throw new n.mV({offset:t,position:"start",size:(0,o.d)(e)})}function c(e,t,r){if("number"==typeof t&&"number"==typeof r&&(0,o.d)(e)!==r-t)throw new n.mV({offset:r,position:"end",size:(0,o.d)(e)})}function l(e,t,r){let{strict:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a(e,t);let i=e.slice(t,r);return n&&c(i,t,r),i}},25616:function(e,t,r){"use strict";function n(e){let{dir:t="left"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="string"==typeof e?e.replace("0x",""):e,n=0;for(let e=0;e<r.length-1&&"0"===r["left"===t?e:r.length-e-1].toString();e++)n++;return(r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e)?(1===r.length&&"right"===t&&(r="".concat(r,"0")),"0x".concat(r.length%2==1?"0".concat(r):r)):r}r.d(t,{f:function(){return n}})},25968:function(e,t,r){"use strict";r.d(t,{Lj:function(){return c},d3:function(){return u},tm:function(){return l},v3:function(){return a}});var n=r(53604),i=r(25616),o=r(90645),s=r(92869);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==t.size&&(0,o.Yf)(e,{size:t.size});let r=(0,s.ci)(e,t);return(0,o.y_)(r,t)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if(void 0!==t.size&&((0,o.Yf)(r,{size:t.size}),r=(0,i.f)(r)),r.length>1||r[0]>1)throw new n.yr(r);return!!r[0]}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==t.size&&(0,o.Yf)(e,{size:t.size});let r=(0,s.ci)(e,t);return(0,o.ly)(r,t)}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;return void 0!==t.size&&((0,o.Yf)(r,{size:t.size}),r=(0,i.f)(r,{dir:"right"})),new TextDecoder().decode(r)}},90645:function(e,t,r){"use strict";r.d(t,{Yf:function(){return o},ly:function(){return a},y_:function(){return s}});var n=r(53604),i=r(64639);function o(e,t){let{size:r}=t;if((0,i.d)(e)>r)throw new n.M6({givenSize:(0,i.d)(e),maxSize:r})}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{signed:r}=t;t.size&&o(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt("0x".concat("f".padStart(2*i,"f")))-1n}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Number(s(e,t))}r(25616),r(17310)},17310:function(e,t,r){"use strict";r.d(t,{O0:function(){return l},nr:function(){return f},qX:function(){return h}});var n=r(7223),i=r(90337),o=r(40476),s=r(90645),a=r(92869);let c=new TextEncoder;function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"==typeof e||"bigint"==typeof e?f((0,a.eC)(e,t)):"boolean"==typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?((0,s.Yf)(r,{size:t.size}),(0,o.vk)(r,{size:t.size})):r}(e,t):(0,i.v)(e)?f(e,t):h(e,t)}let u={zero:48,nine:57,A:65,F:70,a:97,f:102};function d(e){return e>=u.zero&&e<=u.nine?e-u.zero:e>=u.A&&e<=u.F?e-(u.A-10):e>=u.a&&e<=u.f?e-(u.a-10):void 0}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;t.size&&((0,s.Yf)(r,{size:t.size}),r=(0,o.vk)(r,{dir:"right",size:t.size}));let i=r.slice(2);i.length%2&&(i="0".concat(i));let a=i.length/2,c=new Uint8Array(a);for(let e=0,t=0;e<a;e++){let r=d(i.charCodeAt(t++)),o=d(i.charCodeAt(t++));if(void 0===r||void 0===o)throw new n.G('Invalid byte sequence ("'.concat(i[t-2]).concat(i[t-1],'" in "').concat(i,'").'));c[e]=16*r+o}return c}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c.encode(e);return"number"==typeof t.size?((0,s.Yf)(r,{size:t.size}),(0,o.vk)(r,{dir:"right",size:t.size})):r}},92869:function(e,t,r){"use strict";r.d(t,{$G:function(){return f},C4:function(){return c},NC:function(){return a},ci:function(){return l},eC:function(){return u}});var n=r(53604),i=r(40476),o=r(90645);let s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"==typeof e||"bigint"==typeof e?u(e,t):"string"==typeof e?f(e,t):"boolean"==typeof e?c(e,t):l(e,t)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="0x".concat(Number(e));return"number"==typeof t.size?((0,o.Yf)(r,{size:t.size}),(0,i.vk)(r,{size:t.size})):r}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="";for(let t=0;t<e.length;t++)r+=s[e[t]];let n="0x".concat(r);return"number"==typeof t.size?((0,o.Yf)(n,{size:t.size}),(0,i.vk)(n,{dir:"right",size:t.size})):n}function u(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{signed:o,size:s}=r,a=BigInt(e);s?t=o?(1n<<8n*BigInt(s)-1n)-1n:2n**(8n*BigInt(s))-1n:"number"==typeof e&&(t=BigInt(Number.MAX_SAFE_INTEGER));let c="bigint"==typeof t&&o?-t-1n:0;if(t&&a>t||a<c){let r="bigint"==typeof e?"n":"";throw new n.J5({max:t?"".concat(t).concat(r):void 0,min:"".concat(c).concat(r),signed:o,size:s,value:"".concat(e).concat(r)})}let l="0x".concat((o&&a<0?(1n<<BigInt(8*s))+BigInt(a):a).toString(16));return s?(0,i.vk)(l,{size:s}):l}let d=new TextEncoder;function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(d.encode(e),t)}},32935:function(e,t,r){"use strict";r.d(t,{M:function(){return c},w:function(){return l}});var n=r(63822),i=r(33526),o=r(36909),s=r(1095),a=r(20569);let c="x-batch-gateway:true";async function l(e){let{data:t,ccipRequest:r}=e,{args:[c]}=(0,o.p)({abi:n.Yi,data:t}),l=[],u=[];return await Promise.all(c.map(async(e,t)=>{try{u[t]=await r(e),l[t]=!1}catch(e){l[t]=!0,u[t]="HttpRequestError"===e.name&&e.status?(0,s.M)({abi:n.Yi,errorName:"HttpError",args:[e.status,e.shortMessage]}):(0,s.M)({abi:[i.Up],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}})),(0,a.R)({abi:n.Yi,functionName:"query",result:[l,u]})}},91535:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var n=r(67226),i=r(37323),o=r(64915);function s(e,t){let{docsPath:r,...s}=t,a=(()=>{let t=(0,o.k)(e,s);return t instanceof i.cj?e:t})();return new n.cg(a,{docsPath:r,...s})}},64915:function(e,t,r){"use strict";r.d(t,{k:function(){return o}});var n=r(7223),i=r(37323);function o(e,t){let r=(e.details||"").toLowerCase(),o=e instanceof n.G?e.walk(e=>(null==e?void 0:e.code)===i.M_.code):e;return o instanceof n.G?new i.M_({cause:e,message:o.details}):i.M_.nodeMessage.test(r)?new i.M_({cause:e,message:e.details}):i.Hh.nodeMessage.test(r)?new i.Hh({cause:e,maxFeePerGas:null==t?void 0:t.maxFeePerGas}):i.G$.nodeMessage.test(r)?new i.G$({cause:e,maxFeePerGas:null==t?void 0:t.maxFeePerGas}):i.ZI.nodeMessage.test(r)?new i.ZI({cause:e,nonce:null==t?void 0:t.nonce}):i.vU.nodeMessage.test(r)?new i.vU({cause:e,nonce:null==t?void 0:t.nonce}):i.se.nodeMessage.test(r)?new i.se({cause:e,nonce:null==t?void 0:t.nonce}):i.C_.nodeMessage.test(r)?new i.C_({cause:e}):i.WF.nodeMessage.test(r)?new i.WF({cause:e,gas:null==t?void 0:t.gas}):i.dR.nodeMessage.test(r)?new i.dR({cause:e,gas:null==t?void 0:t.gas}):i.pZ.nodeMessage.test(r)?new i.pZ({cause:e}):i.cs.nodeMessage.test(r)?new i.cs({cause:e,maxFeePerGas:null==t?void 0:t.maxFeePerGas,maxPriorityFeePerGas:null==t?void 0:t.maxPriorityFeePerGas}):new i.cj({cause:e})}r(19507),r(69911)},90398:function(e,t,r){"use strict";function n(e,t){let{format:r}=t;if(!r)return{};let n={};return!function t(r){for(let i of Object.keys(r))i in e&&(n[i]=e[i]),r[i]&&"object"==typeof r[i]&&!Array.isArray(r[i])&&t(r[i])}(r(e||{})),n}r.d(t,{K:function(){return n}})},76144:function(e,t,r){},85249:function(e,t,r){"use strict";r.d(t,{tG:function(){return o}});var n=r(92869);r(76144);let i={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function o(e){let t={};return void 0!==e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?(0,n.eC)(BigInt(e.r)):e.r,s:e.s?(0,n.eC)(BigInt(e.s)):e.s,chainId:(0,n.eC)(e.chainId),nonce:(0,n.eC)(e.nonce),...void 0!==e.yParity?{yParity:(0,n.eC)(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:(0,n.eC)(e.v)}:{}}))),void 0!==e.accessList&&(t.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?t.blobs=e.blobs.map(e=>(0,n.ci)(e)):t.blobs=e.blobs),void 0!==e.data&&(t.data=e.data),void 0!==e.from&&(t.from=e.from),void 0!==e.gas&&(t.gas=(0,n.eC)(e.gas)),void 0!==e.gasPrice&&(t.gasPrice=(0,n.eC)(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=(0,n.eC)(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(t.maxFeePerGas=(0,n.eC)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=(0,n.eC)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(t.nonce=(0,n.eC)(e.nonce)),void 0!==e.to&&(t.to=e.to),void 0!==e.type&&(t.type=i[e.type]),void 0!==e.value&&(t.value=(0,n.eC)(e.value)),t}},62016:function(e,t,r){"use strict";r.d(t,{w:function(){return a}});var n=r(76087),i=r(90337),o=r(17310),s=r(92869);function a(e,t){let r=(0,n.fr)((0,i.v)(e,{strict:!1})?(0,o.O0)(e):e);return"bytes"===(t||"hex")?r:(0,s.NC)(r)}},28068:function(e,t,r){"use strict";r.d(t,{n:function(){return n}});let n=r(92090).r},25215:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var n=r(98393),i=r(92090);let o=e=>(0,n.tP)((0,i.r)(e),0,4)},37720:function(e,t,r){"use strict";r.d(t,{W:function(){return o}});var n=r(56076),i=r(7223);let o=e=>(function(e){let t=!0,r="",n=0,o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i];if(["(",")",","].includes(a)&&(t=!0),"("===a&&n++,")"===a&&n--,t){if(0===n){if(" "===a&&["event","function",""].includes(o))o="";else if(o+=a,")"===a){s=!0;break}continue}if(" "===a){","!==e[i-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}o+=a,r+=a}}if(!s)throw new i.G("Unable to normalize signature.");return o})("string"==typeof e?e:(0,n.tQ)(e))},92090:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(17310),i=r(62016);let o=e=>(0,i.w)((0,n.O0)(e));var s=r(37720);function a(e){return o((0,s.W)(e))}},71703:function(e,t,r){"use strict";r.d(t,{k:function(){return n}});class n extends Map{get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}}},16067:function(e,t,r){"use strict";r.d(t,{S:function(){return o}});var n=r(78794);let i=new Map;function o(e){let{fn:t,id:r,shouldSplitBatch:o,wait:s=0,sort:a}=e,c=async()=>{let e=d();l();let r=e.map(e=>{let{args:t}=e;return t});0!==r.length&&t(r).then(t=>{a&&Array.isArray(t)&&t.sort(a);for(let r=0;r<e.length;r++){let{resolve:n}=e[r];null==n||n([t[r],t])}}).catch(t=>{for(let r=0;r<e.length;r++){let{reject:n}=e[r];null==n||n(t)}})},l=()=>i.delete(r),u=()=>d().map(e=>{let{args:t}=e;return t}),d=()=>i.get(r)||[],f=e=>i.set(r,[...d(),e]);return{flush:l,async schedule(e){let{promise:t,resolve:r,reject:i}=(0,n.n)();return((null==o?void 0:o([...u(),e]))&&c(),d().length>0)?f({args:e,resolve:r,reject:i}):(f({args:e,resolve:r,reject:i}),setTimeout(c,s)),t}}}},78794:function(e,t,r){"use strict";function n(){let e=()=>void 0,t=()=>void 0;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}r.d(t,{n:function(){return n}})},83421:function(e,t,r){"use strict";r.d(t,{lh:function(){return n}});let n=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/},62575:function(e,t,r){"use strict";r.d(t,{mF:function(){return l}});var n=r(46495),i=r(76555),o=r(29751),s=r(39460),a=r(92869);function c(e){if(e&&0!==e.length)return e.reduce((e,t)=>{let{slot:r,value:n}=t;if(66!==r.length)throw new i.W_({size:r.length,targetSize:66,type:"hex"});if(66!==n.length)throw new i.W_({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function l(e){if(!e)return;let t={};for(let{address:r,...i}of e){if(!(0,s.U)(r,{strict:!1}))throw new n.b({address:r});if(t[r])throw new o.Nc({address:r});t[r]=function(e){let{balance:t,nonce:r,state:n,stateDiff:i,code:s}=e,l={};if(void 0!==s&&(l.code=s),void 0!==t&&(l.balance=(0,a.eC)(t)),void 0!==r&&(l.nonce=(0,a.eC)(r)),void 0!==n&&(l.state=c(n)),void 0!==i){if(l.state)throw new o.Z8;l.stateDiff=c(i)}return l}(i)}return t}},15189:function(e,t,r){"use strict";r.d(t,{P:function(){return n}});let n=(e,t,r)=>JSON.stringify(e,(e,r)=>{let n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n},r)},12709:function(e,t,r){"use strict";r.d(t,{F:function(){return l}});var n=r(89438),i=r(9059),o=r(46495),s=r(37323),a=r(43811),c=r(39460);function l(e){let{account:t,gasPrice:r,maxFeePerGas:l,maxPriorityFeePerGas:u,to:d}=e,f=t?(0,n.T)(t):void 0;if(f&&!(0,c.U)(f.address))throw new o.b({address:f.address});if(d&&!(0,c.U)(d))throw new o.b({address:d});if(void 0!==r&&(void 0!==l||void 0!==u))throw new a.xY;if(l&&l>i.zL)throw new s.Hh({maxFeePerGas:l});if(u&&l&&u>l)throw new s.cs({maxFeePerGas:l,maxPriorityFeePerGas:u})}},55546:function(e,t,r){"use strict";r.d(t,{d:function(){return o}});var n=r(12167),i=r(87981);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei";return(0,i.b)(e,n.ez[t])}},12434:function(e,t,r){"use strict";r.d(t,{o:function(){return o}});var n=r(12167),i=r(87981);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei";return(0,i.b)(e,n.Zn[t])}},87981:function(e,t,r){"use strict";function n(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[i,o]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return o=o.replace(/(0+)$/,""),"".concat(n?"-":"").concat(i||"0").concat(o?".".concat(o):"")}r.d(t,{b:function(){return n}})},31391:function(e,t,r){"use strict";r.d(t,{secp256k1:function(){return eA}});var n=r(95423),i=r(88835),o=r(35979);let s=BigInt(0),a=BigInt(1);function c(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function l(e){if(!c(e))throw Error("Uint8Array expected")}function u(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function d(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function f(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?s:BigInt("0x"+e)}let h="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,p=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function g(e){if(l(e),h)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=p[e[r]];return t}let m={_0:48,_9:57,A:65,F:70,a:97,f:102};function y(e){return e>=m._0&&e<=m._9?e-m._0:e>=m.A&&e<=m.F?e-(m.A-10):e>=m.a&&e<=m.f?e-(m.a-10):void 0}function b(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(h)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=y(e.charCodeAt(i)),o=y(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function v(e){return f(g(e))}function w(e){return l(e),f(g(Uint8Array.from(e).reverse()))}function E(e,t){return b(e.toString(16).padStart(2*t,"0"))}function C(e,t){return E(e,t).reverse()}function A(e,t,r){let n;if("string"==typeof t)try{n=b(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(c(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function x(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=0;for(let e=0;e<t.length;e++){let r=t[e];l(r),n+=r.length}let i=new Uint8Array(n);for(let e=0,r=0;e<t.length;e++){let n=t[e];i.set(n,r),r+=n.length}return i}let I=e=>"bigint"==typeof e&&s<=e;function N(e,t,r){return I(e)&&I(t)&&I(r)&&t<=e&&e<r}function S(e,t,r,n){if(!N(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let P=e=>(a<<BigInt(e))-a,O=e=>new Uint8Array(e),_=e=>Uint8Array.from(e),R={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||c(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function T(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(t,r,n)=>{let i=R[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function k(e){let t=new WeakMap;return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];let s=t.get(r);if(void 0!==s)return s;let a=e(r,...i);return t.set(r,a),a}}let B=BigInt(0),U=BigInt(1),M=BigInt(2),L=BigInt(3),D=BigInt(4),j=BigInt(5),F=BigInt(8);function q(e,t){let r=e%t;return r>=B?r:t+r}function z(e,t,r){let n=e;for(;t-- >B;)n*=n,n%=r;return n}function $(e,t){if(e===B)throw Error("invert: expected non-zero number");if(t<=B)throw Error("invert: expected positive modulus, got "+t);let r=q(e,t),n=t,i=B,o=U,s=U,a=B;for(;r!==B;){let e=n/r,t=n%r,c=i-s*e,l=o-a*e;n=r,r=t,i=s,o=a,s=c,a=l}if(n!==U)throw Error("invert: does not exist");return q(i,t)}function H(e,t){let r=(e.ORDER+U)/D,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function G(e,t){let r=(e.ORDER-j)/F,n=e.mul(t,M),i=e.pow(n,r),o=e.mul(t,i),s=e.mul(e.mul(o,M),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw Error("Cannot find square root");return a}let W=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function V(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function K(e,t){let r=(e.ORDER-U)/M,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!s)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function Z(e,t){void 0!==t&&(0,i.k8)(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Y(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=B)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=Z(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:e,isLE:n,BITS:o,BYTES:s,MASK:P(o),ZERO:B,ONE:U,create:t=>q(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return B<=t&&t<e},is0:e=>e===B,isOdd:e=>(e&U)===U,neg:t=>q(-t,e),eql:(e,t)=>e===t,sqr:t=>q(t*t,e),add:(t,r)=>q(t+r,e),sub:(t,r)=>q(t-r,e),mul:(t,r)=>q(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<B)throw Error("invalid exponent, negatives unsupported");if(r===B)return e.ONE;if(r===U)return t;let n=e.ONE,i=t;for(;r>B;)r&U&&(n=e.mul(n,i)),i=e.sqr(i),r>>=U;return n})(a,e,t),div:(t,r)=>q(t*$(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>$(t,e),sqrt:i.sqrt||(t=>(!r&&(r=e%D===L?H:e%F===j?G:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-U,r=0;for(;t%M===B;)t/=M,r++;let n=M,i=Y(e);for(;1===K(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return H;let o=i.pow(n,t),s=(t+U)/M;return function(e,n){if(e.is0(n))return n;if(1!==K(e,n))throw Error("Cannot find square root");let i=r,a=e.mul(e.ONE,o),c=e.pow(n,t),l=e.pow(n,s);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=U<<BigInt(i-t-1),o=e.pow(a,n);i=t,a=e.sqr(o),c=e.mul(c,a),l=e.mul(l,o)}return l}}(e)),r(a,t))),toBytes:e=>n?C(e,s):E(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?w(e):v(e)},invertBatch:e=>V(a,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(a)}function J(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function X(e){let t=J(e);return t+Math.ceil(t/2)}let Q=BigInt(0),ee=BigInt(1);function et(e,t){let r=t.negate();return e?r:t}function er(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function en(e,t){er(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:P(e),maxNumber:i,shiftBy:BigInt(e)}}function ei(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r,a=Number(e&i),c=e>>s;a>n&&(a-=o,c+=ee);let l=t*n,u=l+Math.abs(a)-1;return{nextN:c,offset:u,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}let eo=new WeakMap,es=new WeakMap;function ea(e){return es.get(e)||1}function ec(e){return T(e.Fp,W.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),T(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Z(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function el(e){void 0!==e.lowS&&u("lowS",e.lowS),void 0!==e.prehash&&u("prehash",e.prehash)}class eu extends Error{constructor(e=""){super(e)}}let ed={Err:eu,_tlv:{encode:(e,t)=>{let{Err:r}=ed;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=d(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?d(i.length/2|128):"";return d(e)+o+i+t},decode(e,t){let{Err:r}=ed,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let s=t.subarray(n,n+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=ed;if(e<ef)throw new t("integer: negative integers are not allowed");let r=d(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ed;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return v(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=ed,i=A("signature",e),{v:o,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=ed,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},ef=BigInt(0),eh=BigInt(1),ep=(BigInt(2),BigInt(3)),eg=BigInt(4),em=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ey=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eb=BigInt(0),ev=BigInt(1),ew=BigInt(2),eE=(e,t)=>(e+t/ew)/t,eC=Y(em,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),c=e*e*e%em,l=c*c*e%em,u=z(l,t,em)*l%em,d=z(u,t,em)*l%em,f=z(d,ew,em)*c%em,h=z(f,n,em)*f%em,p=z(h,i,em)*h%em,g=z(p,s,em)*p%em,m=z(g,a,em)*g%em,y=z(m,s,em)*p%em,b=z(y,t,em)*l%em,v=z(b,o,em)*h%em,w=z(v,r,em)*c%em,E=z(w,ew,em);if(!eC.eql(eC.sqr(E),e))throw Error("Cannot find square root");return E}}),eA=function(e,t){let r=t=>(function(e){let t=function(e){let t=ec(e);return T(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:i,nBitLength:o}=t,l=r.BYTES+1,d=2*r.BYTES+1;function f(e){return q(e,n)}let{ProjectivePoint:h,normPrivateKeyToScalar:p,weierstrassEquation:m,isWithinCurveOrder:y}=function(e){var t;let r=function(e){let t=ec(e);T(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=r,i=Y(r.n,r.nBitLength),o=r.toBytes||((e,t,r)=>{let i=t.toAffine();return x(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),l=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function d(e){let{a:t,b:i}=r,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,t)),i)}function f(e,t){let r=n.sqr(t),i=d(e);return n.eql(r,i)}if(!f(r.Gx,r.Gy))throw Error("bad curve params: generator point");let h=n.mul(n.pow(r.a,ep),eg),p=n.mul(n.sqr(r.b),BigInt(27));if(n.is0(n.add(h,p)))throw Error("bad curve params: a or b");function m(e){let t;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:s}=r;if(n&&"bigint"!=typeof e){if(c(e)&&(e=g(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:v(A("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(t=q(t,s)),S("private key",t,eh,s),t}function y(e){if(!(e instanceof E))throw Error("ProjectivePoint expected")}let b=k((e,t)=>{let{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};let s=e.is0();null==t&&(t=s?n.ONE:n.inv(o));let a=n.mul(r,t),c=n.mul(i,t),l=n.mul(o,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw Error("invZ was invalid");return{x:a,y:c}}),w=k(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");if(!f(t,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class E{static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof E)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?E.ZERO:new E(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=V(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(E.fromAffine)}static fromHex(e){let t=E.fromAffine(l(A("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return E.BASE.multiply(m(e))}static msm(e,t){return function(e,t,r,n){!function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,o=n.length;if(i!==o)throw Error("arrays of points and scalars must have equal length");let c=e.ZERO,l=function(e){let t;for(t=0;e>s;e>>=a,t+=1);return t}(BigInt(i)),u=1;l>12?u=l-3:l>4?u=l-2:l>0&&(u=2);let d=P(u),f=Array(Number(d)+1).fill(c),h=Math.floor((t.BITS-1)/u)*u,p=c;for(let e=h;e>=0;e-=u){f.fill(c);for(let t=0;t<o;t++){let i=Number(n[t]>>BigInt(e)&d);f[i]=f[i].add(r[t])}let t=c;for(let e=f.length-1,r=c;e>0;e--)r=r.add(f[e]),t=t.add(r);if(p=p.add(t),0!==e)for(let e=0;e<u;e++)p=p.double()}return p}(E,i,e,t)}_setWindowSize(e){O.setWindowSize(this,e)}assertValidity(){w(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){y(e);let{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(o,i)),l=n.eql(n.mul(r,a),n.mul(s,i));return c&&l}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,ep),{px:o,py:s,pz:a}=this,c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(o,o),f=n.mul(s,s),h=n.mul(a,a),p=n.mul(o,s);return p=n.add(p,p),u=n.mul(o,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,h),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(p,c),u=n.mul(i,u),h=n.mul(e,h),p=n.sub(d,h),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,h),d=n.mul(d,p),l=n.add(l,d),h=n.mul(s,a),h=n.add(h,h),d=n.mul(h,p),c=n.sub(c,d),u=n.mul(h,f),u=n.add(u,u),new E(c,l,u=n.add(u,u))}add(e){y(e);let{px:t,py:i,pz:o}=this,{px:s,py:a,pz:c}=e,l=n.ZERO,u=n.ZERO,d=n.ZERO,f=r.a,h=n.mul(r.b,ep),p=n.mul(t,s),g=n.mul(i,a),m=n.mul(o,c),b=n.add(t,i),v=n.add(s,a);b=n.mul(b,v),v=n.add(p,g),b=n.sub(b,v),v=n.add(t,o);let w=n.add(s,c);return v=n.mul(v,w),w=n.add(p,m),v=n.sub(v,w),w=n.add(i,o),l=n.add(a,c),w=n.mul(w,l),l=n.add(g,m),w=n.sub(w,l),d=n.mul(f,v),l=n.mul(h,m),d=n.add(l,d),l=n.sub(g,d),d=n.add(g,d),u=n.mul(l,d),g=n.add(p,p),g=n.add(g,p),m=n.mul(f,m),v=n.mul(h,v),g=n.add(g,m),m=n.sub(p,m),m=n.mul(f,m),v=n.add(v,m),p=n.mul(g,v),u=n.add(u,p),p=n.mul(w,v),l=n.mul(b,l),l=n.sub(l,p),p=n.mul(b,g),d=n.mul(w,d),new E(l,u,d=n.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(E.ZERO)}wNAF(e){return O.wNAFCached(this,e,E.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;S("scalar",e,ef,i);let o=E.ZERO;if(e===ef)return o;if(this.is0()||e===eh)return this;if(!t||O.hasPrecomputes(this))return O.wNAFCachedUnsafe(this,e,E.normalizeZ);let{k1neg:s,k1:a,k2neg:c,k2:l}=t.splitScalar(e),u=o,d=o,f=this;for(;a>ef||l>ef;)a&eh&&(u=u.add(f)),l&eh&&(d=d.add(f)),f=f.double(),a>>=eh,l>>=eh;return s&&(u=u.negate()),c&&(d=d.negate()),d=new E(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i;let{endo:o,n:s}=r;if(S("scalar",e,eh,s),o){let{k1neg:r,k1:s,k2neg:a,k2:c}=o.splitScalar(e),{p:l,f:u}=this.wNAF(s),{p:d,f:f}=this.wNAF(c);l=O.constTimeNegate(r,l),d=O.constTimeNegate(a,d),d=new E(n.mul(d.px,o.beta),d.py,d.pz),t=l.add(d),i=u.add(f)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return E.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=E.BASE,i=(e,t)=>t!==ef&&t!==eh&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return b(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===eh)return!0;if(t)return t(E,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===eh?this:t?t(E,this):this.multiplyUnsafe(r.h)}toRawBytes(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return u("isCompressed",e),this.assertValidity(),o(E,this,e)}toHex(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return u("isCompressed",e),g(this.toRawBytes(e))}constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}}E.BASE=new E(r.Gx,r.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO);let{endo:C,nBitLength:I}=r,O=(t=C?Math.ceil(I/2):I,{constTimeNegate:et,hasPrecomputes:e=>1!==ea(e),unsafeLadder(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.ZERO,n=e;for(;t>Q;)t&ee&&(r=r.add(n)),n=n.double(),t>>=ee;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=en(r,t),o=[],s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,r,n){let i=E.ZERO,o=E.BASE,s=en(e,t);for(let e=0;e<s.windows;e++){let{nextN:t,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:d}=ei(n,e,s);n=t,c?o=o.add(et(u,r[d])):i=i.add(et(l,r[a]))}return{p:i,f:o}},wNAFUnsafe(e,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.ZERO,o=en(e,t);for(let e=0;e<o.windows&&n!==Q;e++){let{nextN:t,offset:s,isZero:a,isNeg:c}=ei(n,e,o);if(n=t,!a){let e=r[s];i=i.add(c?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=eo.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&eo.set(t,r(n))),n},wNAFCached(e,t,r){let n=ea(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=ea(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){er(r,t),es.set(e,r),eo.delete(e)}});return{CURVE:r,ProjectivePoint:E,normPrivateKeyToScalar:m,weierstrassEquation:d,isWithinCurveOrder:function(e){return N(e,eh,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),o=r.toBytes(i.x);return(u("isCompressed",n),n)?x(Uint8Array.from([t.hasEvenY()?2:3]),o):x(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],i=e.subarray(1);if(t===l&&(2===n||3===n)){let e;let t=v(i);if(!N(t,eh,r.ORDER))throw Error("Point is not on curve");let o=m(t);try{e=r.sqrt(o)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&eh)===eh)&&(e=r.neg(e)),{x:t,y:e}}if(t===d&&4===n)return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+l+", or uncompressed "+d+", got "+t)}}),I=(e,t,r)=>v(e.slice(t,r));class R{static fromCompact(e){return new R(I(e=A("compactSignature",e,2*i),0,i),I(e,i,2*i))}static fromDER(e){let{r:t,s:r}=ed.toSig(A("DER",e));return new R(t,r)}assertValidity(){}addRecoveryBit(e){return new R(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:o,recovery:s}=this,a=L(A("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");let c=2===s||3===s?i+t.n:i;if(c>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let l=(1&s)==0?"02":"03",u=h.fromHex(l+g(E(c,r.BYTES))),d=$(c,n),p=f(-a*d),m=f(o*d),y=h.BASE.multiplyAndAddUnsafe(u,p,m);if(!y)throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>n>>eh}normalizeS(){return this.hasHighS()?new R(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return b(this.toDERHex())}toDERHex(){return ed.hexFromSig(this)}toCompactRawBytes(){return b(this.toCompactHex())}toCompactHex(){return g(E(this.r,i))+g(E(this.s,i))}constructor(e,t,r){S("r",e,eh,n),S("s",t,eh,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}}function B(e){if("bigint"==typeof e)return!1;if(e instanceof h)return!0;let n=A("key",e).length,o=r.BYTES,s=o+1;if(!t.allowedPrivateKeyLengths&&i!==s)return n===s||n===2*o+1}let M=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=v(e),r=8*e.length-o;return r>0?t>>BigInt(r):t},L=t.bits2int_modN||function(e){return f(M(e))},D=P(o);function j(e){return S("num < 2^"+o,e,ef,D),E(e,i)}let F={lowS:t.lowS,prehash:!1},z={lowS:t.lowS,prehash:!1};return h.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return h.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!0===B(e))throw Error("first arg must be private key");if(!1===B(t))throw Error("second arg must be public key");return h.fromHex(t).multiply(p(e)).toRawBytes(r)},sign:function(e,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F,{seed:s,k2sig:a}=function(e,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F;if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:s,randomBytes:a}=t,{lowS:c,prehash:l,extraEntropy:u}=o;null==c&&(c=!0),e=A("msgHash",e),el(o),l&&(e=A("prehashed msgHash",s(e)));let d=L(e),g=p(i),m=[j(g),j(d)];if(null!=u&&!1!==u){let e=!0===u?a(r.BYTES):u;m.push(A("extraEntropy",e))}return{seed:x(...m),k2sig:function(e){let t=M(e);if(!y(t))return;let r=$(t,n),i=h.BASE.multiply(t).toAffine(),o=f(i.x);if(o===ef)return;let s=f(r*f(d+o*g));if(s===ef)return;let a=(i.x===o?0:2)|Number(i.y&eh),l=s;if(c&&s>n>>eh)l=s>n>>eh?f(-s):s,a^=1;return new R(o,l,a)}}}(e,i,o);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=O(e),i=O(e),o=0,s=()=>{n.fill(1),i.fill(0),o=0},a=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return r(i,n,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O(0);i=a(_([0]),e),n=a(),0!==e.length&&(i=a(_([1]),e),n=a())},l=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=a()).slice();r.push(t),e+=n.length}return x(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(l()));)c();return s(),r}})(t.hash.outputLen,t.nByteLength,t.hmac)(s,a)},verify:function(e,r,i){var o;let s;let a,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;r=A("msgHash",r),i=A("publicKey",i);let{lowS:u,prehash:d,format:p}=l;if(el(l),"strict"in l)throw Error("options.strict was renamed to lowS");if(void 0!==p&&"compact"!==p&&"der"!==p)throw Error("format must be compact or der");let g="string"==typeof e||c(e),m=!g&&!p&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!g&&!m)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(m&&(s=new R(e.r,e.s)),g){try{"compact"!==p&&(s=R.fromDER(e))}catch(e){if(!(e instanceof ed.Err))throw e}s||"der"===p||(s=R.fromCompact(e))}a=h.fromHex(i)}catch(e){return!1}if(!s||u&&s.hasHighS())return!1;d&&(r=t.hash(r));let{r:y,s:b}=s,v=L(r),w=$(b,n),E=f(v*w),C=f(y*w),x=null===(o=h.BASE.multiplyAndAddUnsafe(a,E,C))||void 0===o?void 0:o.toAffine();return!!x&&f(x.x)===y},ProjectivePoint:h,Signature:R,utils:{isValidPrivateKey(e){try{return p(e),!0}catch(e){return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let e=X(t.n);return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.length,i=J(t),o=X(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let s=q(r?w(e):v(e),t-U)+U;return r?C(s,i):E(s,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}})({...e,hash:t,hmac:function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return(0,o.b)(t,e,(0,i.eV)(...n))},randomBytes:i.O6});return{...r(t),create:r}}({a:eb,b:BigInt(7),Fp:eC,n:ey,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ev*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=eE(t*e,ey),s=eE(-r*e,ey),a=q(e-o*t-s*n,ey),c=q(-o*r-s*t,ey),l=a>i,u=c>i;if(l&&(a=ey-a),u&&(c=ey-c),a>i||c>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:a,k2neg:u,k2:c}}}},n.JQ)},5022:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var n,i,o=r(30345),s=r(24617),a=r(54583),c=r(74889);let l={getConnectorsByType(e,t,r){let{customWallets:n}=s.OptionsController.state,i=s.MO.getRecentWallets(),o=c.J.filterOutDuplicateWallets(t),a=c.J.filterOutDuplicateWallets(r),l=e.filter(e=>"MULTI_CHAIN"===e.type),u=e.filter(e=>"ANNOUNCED"===e.type),d=e.filter(e=>"INJECTED"===e.type);return{custom:n,recent:i,external:e.filter(e=>"EXTERNAL"===e.type),multiChain:l,announced:u,injected:d,recommended:o,featured:a}},showConnector(e){var t;let r=null===(t=e.info)||void 0===t?void 0:t.rdns,n=!!r&&s.ApiController.state.excludedWallets.some(e=>!!e.rdns&&e.rdns===r),i=!!e.name&&s.ApiController.state.excludedWallets.some(t=>a.gk.isLowerCaseMatch(t.name,e.name));return!("INJECTED"===e.type&&("Browser Wallet"===e.name&&(!s.j1.isMobile()||s.j1.isMobile()&&!r&&!s.ConnectionController.checkInstalled())||n||i))&&("ANNOUNCED"!==e.type&&"EXTERNAL"!==e.type||!n&&!i)},getIsConnectedWithWC:()=>Array.from(s.RY.state.chains.values()).some(e=>s.ConnectorController.getConnectorId(e.namespace)===o.bq.CONNECTOR_ID.WALLET_CONNECT),getConnectorTypeOrder(e){let{recommended:t,featured:r,custom:o,recent:a,announced:c,injected:l,multiChain:u,external:d,overriddenConnectors:f=null!==(i=null===(n=s.OptionsController.state.features)||void 0===n?void 0:n.connectorTypeOrder)&&void 0!==i?i:[]}=e,h=[{type:"walletConnect",isEnabled:s.OptionsController.state.enableWalletConnect},{type:"recent",isEnabled:a.length>0},{type:"injected",isEnabled:[...l,...c,...u].length>0},{type:"featured",isEnabled:r.length>0},{type:"custom",isEnabled:o&&o.length>0},{type:"external",isEnabled:d.length>0},{type:"recommended",isEnabled:t.length>0}].filter(e=>e.isEnabled),p=new Set(h.map(e=>e.type)),g=f.filter(e=>p.has(e)).map(e=>({type:e,isEnabled:!0})),m=h.filter(e=>{let{type:t}=e;return!g.some(e=>{let{type:r}=e;return r===t})});return Array.from(new Set([...g,...m].map(e=>{let{type:t}=e;return t})))},getAuthName(e){let{email:t,socialUsername:r,socialProvider:n}=e;return r?n&&"discord"===n&&r.endsWith("0")?r.slice(0,-1):r:t.length>30?"".concat(t.slice(0,-3),"..."):t},async fetchProviderData(e){try{var t,r;if("Browser Wallet"===e.name&&!s.j1.isMobile()||e.id===o.bq.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};let[n,i]=await Promise.all([null===(t=e.provider)||void 0===t?void 0:t.request({method:"eth_accounts"}),null===(r=e.provider)||void 0===r?void 0:r.request({method:"eth_chainId"}).then(e=>Number(e))]);return{accounts:n,chainId:i}}catch(t){return console.warn("Failed to fetch provider data for ".concat(e.name),t),{accounts:[],chainId:void 0}}}}},75547:function(e,t,r){"use strict";r.d(t,{b:function(){return i}});var n=r(25566);let i={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(void 0!==n&&void 0!==n.env?n.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]}},74889:function(e,t,r){"use strict";r.d(t,{J:function(){return a}});var n=r(24617),i=r(54583),o=r(5022),s=r(75547);let a={filterOutDuplicatesByRDNS(e){let t=n.OptionsController.state.enableEIP6963?n.ConnectorController.state.connectors:[],r=n.MO.getRecentWallets(),i=t.map(e=>{var t;return null===(t=e.info)||void 0===t?void 0:t.rdns}).filter(Boolean),o=r.map(e=>e.rdns).filter(Boolean),s=i.concat(o);if(s.includes("io.metamask.mobile")&&n.j1.isMobile()){let e=s.indexOf("io.metamask.mobile");s[e]="io.metamask"}return e.filter(e=>!((null==e?void 0:e.rdns)&&s.includes(String(e.rdns))||!(null==e?void 0:e.rdns)&&t.some(t=>t.name===e.name)))},filterOutDuplicatesByIds(e){let t=n.ConnectorController.state.connectors.filter(e=>"ANNOUNCED"===e.type||"INJECTED"===e.type),r=n.MO.getRecentWallets(),i=t.map(e=>e.explorerId),o=r.map(e=>e.id),s=i.concat(o);return e.filter(e=>!s.includes(null==e?void 0:e.id))},filterOutDuplicateWallets(e){let t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){let{connectors:t}=n.ConnectorController.state,{featuredWalletIds:r}=n.OptionsController.state,i=t.filter(e=>"ANNOUNCED"===e.type).reduce((e,t)=>{var r;return(null===(r=t.info)||void 0===r?void 0:r.rdns)&&(e[t.info.rdns]=!0),e},{});return e.map(e=>{var t;return{...e,installed:!!e.rdns&&!!i[null!==(t=e.rdns)&&void 0!==t?t:""]}}).sort((e,t)=>{let n=Number(t.installed)-Number(e.installed);if(0!==n)return n;if(null==r?void 0:r.length){let n=r.indexOf(e.id),i=r.indexOf(t.id);if(-1!==n&&-1!==i)return n-i;if(-1!==n)return -1;if(-1!==i)return 1}return 0})},getConnectOrderMethod(e,t){var r;let i=(null==e?void 0:e.connectMethodsOrder)||(null===(r=n.OptionsController.state.features)||void 0===r?void 0:r.connectMethodsOrder),a=t||n.ConnectorController.state.connectors;if(i)return i;let{injected:c,announced:l}=o.C.getConnectorsByType(a,n.ApiController.state.recommended,n.ApiController.state.featured),u=c.filter(o.C.showConnector),d=l.filter(o.C.showConnector);return u.length||d.length?["wallet","email","social"]:s.b.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){let t=!!e.rdns&&n.ApiController.state.excludedWallets.some(t=>t.rdns===e.rdns),r=!!e.name&&n.ApiController.state.excludedWallets.some(t=>i.gk.isLowerCaseMatch(t.name,e.name));return t||r},markWalletsWithDisplayIndex:e=>e.map((e,t)=>({...e,display_index:t}))}},11410:function(e,t,r){"use strict";r.d(t,{Hg:function(){return i.H},iv:function(){return s.iv},Mo:function(){return o.M},n:function(){return n.n},Hs:function(){return n.Hs},R:function(){return n.R}});var n=r(26814),i=r(6444);r(30345);var o=r(74621);r(849);var s=r(33522)},849:function(e,t,r){"use strict";r.d(t,{TV:function(){return n},W2:function(){return i}});let n={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},i={colors:{black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},fontFamily:{regular:"KHTeka",mono:"KHTekaMono"},fontWeight:{regular:"400",medium:"500"},textSize:{h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},typography:{"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},tokens:{core:n.core,theme:n.dark},borderRadius:{1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},spacing:{0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},durations:{xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},easings:{"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"}}},33522:function(e,t,r){"use strict";r.d(t,{e5:function(){return s},gR:function(){return a},iv:function(){return c}});var n=r(11937),i=r(849);let o="--apkt",s={createCSSVariables(e){let t={},r={};return!function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";for(let[i,s]of Object.entries(t)){let t=n?"".concat(n,"-").concat(i):i;s&&"object"==typeof s&&Object.keys(s).length?(r[i]={},e(s,r[i],t)):"string"==typeof s&&(r[i]="".concat(o,"-").concat(t))}}(e,t),!function e(t,r){for(let[n,i]of Object.entries(t))i&&"object"==typeof i?(r[n]={},e(i,r[n])):"string"==typeof i&&(r[n]="var(".concat(i,")"))}(t,r),{cssVariables:t,cssVariablesVarPrefix:r}},assignCSSVariables(e,t){let r={};return!function e(t,n,i){for(let[s,a]of Object.entries(t)){let t=i?"".concat(i,"-").concat(s):s,c=n[s];a&&"object"==typeof a?e(a,c,t):"string"==typeof c&&(r["".concat(o,"-").concat(t)]=c)}}(e,t),r},createRootStyles(e,t){let r={...i.W2,tokens:{...i.W2.tokens,theme:"light"===e?i.TV.light:i.TV.dark}},{cssVariables:n}=s.createCSSVariables(r),o=s.assignCSSVariables(n,r),a=s.generateW3MVariables(t),c=s.generateW3MOverrides(t),l=s.generateScaledVariables(t),u=s.generateBaseVariables(o),d={...o,...u,...a,...c,...l},f=s.applyColorMixToVariables(t,d),h=Object.entries({...d,...f}).map(e=>{let[t,r]=e;return"".concat(t,":").concat(r.replace("/[:;{}</>]/g",""),";")}).join("");return":root {".concat(h,"}")},generateW3MVariables(e){if(!e)return{};let t={};return t["--w3m-font-family"]=e["--w3m-font-family"]||"KHTeka",t["--w3m-accent"]=e["--w3m-accent"]||"#0988F0",t["--w3m-color-mix"]=e["--w3m-color-mix"]||"#000",t["--w3m-color-mix-strength"]="".concat(e["--w3m-color-mix-strength"]||0,"%"),t["--w3m-font-size-master"]=e["--w3m-font-size-master"]||"10px",t["--w3m-border-radius-master"]=e["--w3m-border-radius-master"]||"4px",e["--w3m-z-index"]&&(t["--apkt-z-index"]="".concat(e["--w3m-z-index"])),t},generateW3MOverrides(e){if(!e)return{};let t={};if(e["--w3m-accent"]){let r=e["--w3m-accent"];t["--apkt-tokens-core-iconAccentPrimary"]=r,t["--apkt-tokens-core-borderAccentPrimary"]=r,t["--apkt-tokens-core-textAccentPrimary"]=r,t["--apkt-tokens-core-backgroundAccentPrimary"]=r}return e["--w3m-font-family"]&&(t["--apkt-fontFamily-regular"]=e["--w3m-font-family"]),t},generateScaledVariables(e){if(!e)return{};let t={};if(e["--w3m-font-size-master"]){let r=parseFloat(e["--w3m-font-size-master"].replace("px",""));t["--apkt-textSize-h1"]="".concat(5*Number(r),"px"),t["--apkt-textSize-h2"]="".concat(4.4*Number(r),"px"),t["--apkt-textSize-h3"]="".concat(3.8*Number(r),"px"),t["--apkt-textSize-h4"]="".concat(3.2*Number(r),"px"),t["--apkt-textSize-h5"]="".concat(2.6*Number(r),"px"),t["--apkt-textSize-h6"]="".concat(2*Number(r),"px"),t["--apkt-textSize-large"]="".concat(1.6*Number(r),"px"),t["--apkt-textSize-medium"]="".concat(1.4*Number(r),"px"),t["--apkt-textSize-small"]="".concat(1.2*Number(r),"px")}if(e["--w3m-border-radius-master"]){let r=parseFloat(e["--w3m-border-radius-master"].replace("px",""));t["--apkt-borderRadius-1"]="".concat(Number(r),"px"),t["--apkt-borderRadius-2"]="".concat(2*Number(r),"px"),t["--apkt-borderRadius-3"]="".concat(3*Number(r),"px"),t["--apkt-borderRadius-4"]="".concat(4*Number(r),"px"),t["--apkt-borderRadius-5"]="".concat(5*Number(r),"px"),t["--apkt-borderRadius-6"]="".concat(6*Number(r),"px"),t["--apkt-borderRadius-8"]="".concat(8*Number(r),"px"),t["--apkt-borderRadius-16"]="".concat(16*Number(r),"px"),t["--apkt-borderRadius-20"]="".concat(20*Number(r),"px"),t["--apkt-borderRadius-32"]="".concat(32*Number(r),"px"),t["--apkt-borderRadius-64"]="".concat(64*Number(r),"px"),t["--apkt-borderRadius-128"]="".concat(128*Number(r),"px")}return t},generateColorMixCSS(e,t){if(!(null==e?void 0:e["--w3m-color-mix"])||!e["--w3m-color-mix-strength"])return"";let r=e["--w3m-color-mix"],n=e["--w3m-color-mix-strength"];if(!n||0===n)return"";let i=Object.keys(t||{}).filter(e=>{let t=e.includes("-tokens-core-background")||e.includes("-tokens-core-text")||e.includes("-tokens-core-border")||e.includes("-tokens-core-foreground")||e.includes("-tokens-core-icon")||e.includes("-tokens-theme-background")||e.includes("-tokens-theme-text")||e.includes("-tokens-theme-border")||e.includes("-tokens-theme-foreground")||e.includes("-tokens-theme-icon"),r=e.includes("-borderRadius-")||e.includes("-spacing-")||e.includes("-textSize-")||e.includes("-fontFamily-")||e.includes("-fontWeight-")||e.includes("-typography-")||e.includes("-duration-")||e.includes("-ease-")||e.includes("-path-")||e.includes("-width-")||e.includes("-height-")||e.includes("-visual-size-")||e.includes("-modal-width")||e.includes("-cover");return t&&!r});if(0===i.length)return"";let o=i.map(e=>{let i=(null==t?void 0:t[e])||"";return i.includes("color-mix")||i.startsWith("#")||i.startsWith("rgb")?"".concat(e,": color-mix(in srgb, ").concat(r," ").concat(n,"%, ").concat(i,");"):"".concat(e,": color-mix(in srgb, ").concat(r," ").concat(n,"%, var(").concat(e,"-base, ").concat(i,"));")}).join("");return" @supports (background: color-mix(in srgb, white 50%, black)) {\n      :root {\n        ".concat(o,"\n      }\n    }")},generateBaseVariables(e){let t={},r=e["--apkt-tokens-theme-backgroundPrimary"];r&&(t["--apkt-tokens-theme-backgroundPrimary-base"]=r);let n=e["--apkt-tokens-core-backgroundAccentPrimary"];return n&&(t["--apkt-tokens-core-backgroundAccentPrimary-base"]=n),t},applyColorMixToVariables(e,t){let r={};if((null==t?void 0:t["--apkt-tokens-theme-backgroundPrimary"])&&(r["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),(null==t?void 0:t["--apkt-tokens-core-backgroundAccentPrimary"])&&(r["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)"),!(null==e?void 0:e["--w3m-color-mix"])||!e["--w3m-color-mix-strength"])return r;let n=e["--w3m-color-mix"],i=e["--w3m-color-mix-strength"];if(!i||0===i)return r;let o=Object.keys(t||{}).filter(e=>{let t=e.includes("-tokens-core-background")||e.includes("-tokens-core-text")||e.includes("-tokens-core-border")||e.includes("-tokens-core-foreground")||e.includes("-tokens-core-icon")||e.includes("-tokens-theme-background")||e.includes("-tokens-theme-text")||e.includes("-tokens-theme-border")||e.includes("-tokens-theme-foreground")||e.includes("-tokens-theme-icon")||e.includes("-tokens-theme-overlay"),r=e.includes("-borderRadius-")||e.includes("-spacing-")||e.includes("-textSize-")||e.includes("-fontFamily-")||e.includes("-fontWeight-")||e.includes("-typography-")||e.includes("-duration-")||e.includes("-ease-")||e.includes("-path-")||e.includes("-width-")||e.includes("-height-")||e.includes("-visual-size-")||e.includes("-modal-width")||e.includes("-cover");return t&&!r});return 0===o.length||o.forEach(e=>{let o=(null==t?void 0:t[e])||"";e.endsWith("-base")||("--apkt-tokens-theme-backgroundPrimary"===e||"--apkt-tokens-core-backgroundAccentPrimary"===e?r[e]="color-mix(in srgb, ".concat(n," ").concat(i,"%, var(").concat(e,"-base))"):o.includes("color-mix")||o.startsWith("#")||o.startsWith("rgb")?r[e]="color-mix(in srgb, ".concat(n," ").concat(i,"%, ").concat(o,")"):r[e]="color-mix(in srgb, ".concat(n," ").concat(i,"%, var(").concat(e,"-base, ").concat(o,"))"))}),r}},{cssVariablesVarPrefix:a}=s.createCSSVariables(i.W2);function c(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return(0,n.iv)(e,...r.map(e=>"function"==typeof e?(0,n.$m)(e(a)):(0,n.$m)(e)))}},26814:function(e,t,r){"use strict";let n,i,o,s,a;r.d(t,{ET:function(){return x},Hs:function(){return E},R:function(){return C},ZM:function(){return I},n:function(){return w}});var c=r(11362),l=r(11937),u=r(33522);function d(){let e=(0,c._)([""]);return d=function(){return e},e}function f(){let e=(0,c._)(["\n            @font-face {\n              font-family: 'KHTeka';\n              src:\n                url(",") format('woff2'),\n                url(",") format('woff');\n              font-weight: 400;\n              font-style: normal;\n              font-display: swap;\n            }\n\n            @font-face {\n              font-family: 'KHTeka';\n              src:\n                url(",") format('woff2'),\n                url(",") format('woff');\n              font-weight: 300;\n              font-style: normal;\n            }\n\n            @font-face {\n              font-family: 'KHTekaMono';\n              src:\n                url(",") format('woff2'),\n                url(",") format('woff');\n              font-weight: 400;\n              font-style: normal;\n            }\n\n            @font-face {\n              font-family: 'KHTeka';\n              src:\n                url(",") format('woff2'),\n                url(",") format('woff');\n              font-weight: 400;\n              font-style: normal;\n            }\n          "]);return f=function(){return e},e}function h(){let e=(0,c._)(["\n      ","\n\n      @keyframes w3m-shake {\n        0% {\n          transform: scale(1) rotate(0deg);\n        }\n        20% {\n          transform: scale(1) rotate(-1deg);\n        }\n        40% {\n          transform: scale(1) rotate(1.5deg);\n        }\n        60% {\n          transform: scale(1) rotate(-1.5deg);\n        }\n        80% {\n          transform: scale(1) rotate(1deg);\n        }\n        100% {\n          transform: scale(1) rotate(0deg);\n        }\n      }\n      @keyframes w3m-iframe-fade-out {\n        0% {\n          opacity: 1;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n      @keyframes w3m-iframe-zoom-in {\n        0% {\n          transform: translateY(50px);\n          opacity: 0;\n        }\n        100% {\n          transform: translateY(0px);\n          opacity: 1;\n        }\n      }\n      @keyframes w3m-iframe-zoom-in-mobile {\n        0% {\n          transform: scale(0.95);\n          opacity: 0;\n        }\n        100% {\n          transform: scale(1);\n          opacity: 1;\n        }\n      }\n      :root {\n        --apkt-modal-width: 370px;\n\n        --apkt-visual-size-inherit: inherit;\n        --apkt-visual-size-sm: 40px;\n        --apkt-visual-size-md: 55px;\n        --apkt-visual-size-lg: 80px;\n\n        --apkt-path-network-sm: path(\n          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'\n        );\n\n        --apkt-path-network-md: path(\n          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'\n        );\n\n        --apkt-path-network-lg: path(\n          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'\n        );\n\n        --apkt-width-network-sm: 36px;\n        --apkt-width-network-md: 48px;\n        --apkt-width-network-lg: 86px;\n\n        --apkt-duration-dynamic: 0ms;\n        --apkt-height-network-sm: 40px;\n        --apkt-height-network-md: 54px;\n        --apkt-height-network-lg: 96px;\n      }\n    "]);return h=function(){return e},e}function p(){let e=(0,c._)(["\n      :root {\n      }\n    "]);return p=function(){return e},e}function g(){let e=(0,c._)(["\n      :root {\n      }\n    "]);return g=function(){return e},e}function m(){let e=(0,c._)(["\n  div,\n  span,\n  iframe,\n  a,\n  img,\n  form,\n  button,\n  label,\n  *::after,\n  *::before {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-style: normal;\n    text-rendering: optimizeSpeed;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-tap-highlight-color: transparent;\n    backface-visibility: hidden;\n  }\n\n  :host {\n    font-family: var(--apkt-fontFamily-regular);\n  }\n"]);return m=function(){return e},e}function y(){let e=(0,c._)(["\n  button,\n  a {\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n\n    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;\n    outline: none;\n    border: none;\n    text-decoration: none;\n    transition:\n      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),\n      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);\n    will-change:\n      background-color, color, border, box-shadow, width, height, transform, opacity, scale,\n      border-radius;\n  }\n\n  a:active:not([disabled]),\n  button:active:not([disabled]) {\n    scale: 0.975;\n    transform-origin: center;\n  }\n\n  button:disabled {\n    cursor: default;\n  }\n\n  input {\n    border: none;\n    outline: none;\n    appearance: none;\n  }\n"]);return y=function(){return e},e}let b={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dark";n&&document.head.removeChild(n),(n=document.createElement("style")).textContent=u.e5.createRootStyles(t,e),document.head.appendChild(n)}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dark";if(a=e,i=document.createElement("style"),o=document.createElement("style"),s=document.createElement("style"),i.textContent=A(e).core.cssText,o.textContent=A(e).dark.cssText,s.textContent=A(e).light.cssText,document.head.appendChild(i),document.head.appendChild(o),document.head.appendChild(s),v(e,t),E(t),!(null==e?void 0:e["--w3m-font-family"]))for(let[e,t]of Object.entries(b)){let r=document.createElement("link");r.rel="preload",r.href=t,r.as="font",r.type=e.includes("woff2")?"font/woff2":"font/woff",r.crossOrigin="anonymous",document.head.appendChild(r)}E(t)}function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark";o&&s&&n&&("light"===e?(v(a,e),o.removeAttribute("media"),s.media="enabled"):(v(a,e),s.removeAttribute("media"),o.media="enabled"))}function C(e){if(a=e,i&&o&&s&&(i.textContent=A(e).core.cssText,o.textContent=A(e).dark.cssText,s.textContent=A(e).light.cssText,null==e?void 0:e["--w3m-font-family"])){var t,r,c;let n=e["--w3m-font-family"];i.textContent=null===(t=i.textContent)||void 0===t?void 0:t.replace("font-family: KHTeka","font-family: ".concat(n)),o.textContent=null===(r=o.textContent)||void 0===r?void 0:r.replace("font-family: KHTeka","font-family: ".concat(n)),s.textContent=null===(c=s.textContent)||void 0===c?void 0:c.replace("font-family: KHTeka","font-family: ".concat(n))}n&&v(e,(null==s?void 0:s.media)==="enabled"?"light":"dark")}function A(e){let t=!!(null==e?void 0:e["--w3m-font-family"]);return{core:(0,l.iv)(h(),t?(0,l.iv)(d()):(0,l.iv)(f(),(0,l.$m)(b["KHTeka-400-woff2"]),(0,l.$m)(b["KHTeka-400-woff"]),(0,l.$m)(b["KHTeka-300-woff2"]),(0,l.$m)(b["KHTeka-300-woff"]),(0,l.$m)(b["KHTekaMono-400-woff2"]),(0,l.$m)(b["KHTekaMono-400-woff"]),(0,l.$m)(b["KHTeka-400-woff2"]),(0,l.$m)(b["KHTeka-400-woff"]))),dark:(0,l.iv)(p()),light:(0,l.iv)(g())}}let x=(0,l.iv)(m()),I=(0,l.iv)(y())},6444:function(e,t,r){"use strict";r.d(t,{H:function(){return n}});let n={getSpacingStyles:(e,t)=>Array.isArray(e)?e[t]?"var(--apkt-spacing-".concat(e[t],")"):void 0:"string"==typeof e?"var(--apkt-spacing-".concat(e,")"):void 0,getFormattedDate:e=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(e),formatCurrency(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Number(e);return isNaN(r)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2,...t}).format(r)},getHostName(e){try{return new URL(e).hostname}catch(e){return""}},getTruncateString(e){let{string:t,charsStart:r,charsEnd:n,truncate:i}=e;return t.length<=r+n?t:"end"===i?"".concat(t.substring(0,r),"..."):"start"===i?"...".concat(t.substring(t.length-n)):"".concat(t.substring(0,Math.floor(r)),"...").concat(t.substring(t.length-Math.floor(n)))},generateAvatarColors(e){let t=e.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),r=this.hexToRgb(t),n=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),i=100-3*Number(null==n?void 0:n.replace("px","")),o="".concat(i,"% ").concat(i,"% at 65% 40%"),s=[];for(let e=0;e<5;e+=1){let t=this.tintColor(r,.15*e);s.push("rgb(".concat(t[0],", ").concat(t[1],", ").concat(t[2],")"))}return"\n    --local-color-1: ".concat(s[0],";\n    --local-color-2: ").concat(s[1],";\n    --local-color-3: ").concat(s[2],";\n    --local-color-4: ").concat(s[3],";\n    --local-color-5: ").concat(s[4],";\n    --local-radial-circle: ").concat(o,"\n   ")},hexToRgb(e){let t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]},tintColor(e,t){let[r,n,i]=e;return[Math.round(r+(255-r)*t),Math.round(n+(255-n)*t),Math.round(i+(255-i)*t)]},isNumber:e=>/^[0-9]+$/u.test(e),getColorTheme(e){if(e)return e;if("undefined"!=typeof window&&window.matchMedia&&"function"==typeof window.matchMedia){var t;return(null===(t=window.matchMedia("(prefers-color-scheme: dark)"))||void 0===t?void 0:t.matches)?"dark":"light"}return"dark"},splitBalance(e){let t=e.split(".");return 2===t.length?[t[0],t[1]]:["0","00"]},roundNumber:(e,t,r)=>e.toString().length>=t?Number(e).toFixed(r):e,cssDurationToNumber:e=>e.endsWith("s")?1e3*Number(e.replace("s","")):e.endsWith("ms")?Number(e.replace("ms","")):0}},74621:function(e,t,r){"use strict";function n(e){return function(t){return"function"==typeof t?(customElements.get(e)||customElements.define(e,t),t):function(e,t){let{kind:r,elements:n}=t;return{kind:r,elements:n,finisher(t){customElements.get(e)||customElements.define(e,t)}}}(e,t)}}r.d(t,{M:function(){return n}})},54583:function(e,t,r){"use strict";r.d(t,{fZ:function(){return m},bq:function(){return o.b},jD:function(){return u},gk:function(){return l},eF:function(){return f},CK:function(){return s.C},hA:function(){return E}});var n,i,o=r(83798),s=r(41134),a=r(30345),c=r(24617);let l={getCaipTokens(e){if(!e)return;let t={};return Object.entries(e).forEach(e=>{let[r,n]=e;t["".concat(o.b.EIP155,":").concat(r)]=n}),t},isLowerCaseMatch:(e,t)=>(null==e?void 0:e.toLowerCase())===(null==t?void 0:t.toLowerCase()),getActiveNamespaceConnectedToAuth(){let e=c.RY.state.activeChain;return a.bq.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>c.ConnectorController.getConnectorId(t)===a.bq.CONNECTOR_ID.AUTH&&t===e)},withRetry(e){let{conditionFn:t,intervalMs:r,maxRetries:n}=e,i=0;return new Promise(e=>{async function o(){return(i+=1,await t())?e(!0):i>=n?e(!1):(setTimeout(o,r),null)}o()})},userChainIdToChainNamespace(e){if("number"==typeof e)return a.bq.CHAIN.EVM;let[t]=e.split(":");return t},getOtherAuthNamespaces:e=>e?a.bq.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(t=>t!==e):[]},u={EmbeddedWalletAbortController:new AbortController,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>"The origin ".concat((0,a.$U)()?window.origin:"unknown"," is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.")},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:e=>"Unable to fetch App Configuration. ".concat(e,". Please check your network connection and try again shortly. Contact support if the issue persists.")},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:e=>"[Reown Config Notice] ".concat(e)},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(e,t)=>"An error occurred while connecting an inactive namespace ".concat(e,': "').concat(t,'"')},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}};var d=r(15133);let f={createLogger(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",r=(0,d.jI)({level:t}),{logger:n}=(0,d.Rt)({opts:r});return n.error=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];for(let t of r)if(t instanceof Error){e(t,...r);return}e(void 0,...r)},n}};var h=r(41679);function p(e,t){let r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",e),r.searchParams.set("projectId",t),r.toString()}let g=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],m={extendRpcUrlWithProjectId(e,t){let r=!1;try{r="rpc.walletconnect.org"===new URL(e).host}catch(e){r=!1}if(r){let r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork:e=>"chainNamespace"in e&&"caipNetworkId"in e,getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:a.bq.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:"".concat(a.bq.CHAIN.EVM,":").concat(e.id)},getDefaultRpcUrl(e,t,r){var n,i,o;let s=null===(o=e.rpcUrls)||void 0===o?void 0:null===(i=o.default)||void 0===i?void 0:null===(n=i.http)||void 0===n?void 0:n[0];return g.includes(t)?p(t,r):s||""},extendCaipNetwork(e,t){var r,n,i,o,a,c,l;let{customNetworkImageUrls:u,projectId:d,customRpcUrls:f}=t,h=this.getChainNamespace(e),p=this.getCaipNetworkId(e),g=null===(i=e.rpcUrls)||void 0===i?void 0:null===(n=i.default)||void 0===n?void 0:null===(r=n.http)||void 0===r?void 0:r[0],m=this.getDefaultRpcUrl(e,p,d),y=(null==e?void 0:null===(c=e.rpcUrls)||void 0===c?void 0:null===(a=c.chainDefault)||void 0===a?void 0:null===(o=a.http)||void 0===o?void 0:o[0])||g,b=(null==f?void 0:null===(l=f[p])||void 0===l?void 0:l.map(e=>e.url))||[],v=[...b,...m?[m]:[]],w=[...b];return y&&!w.includes(y)&&w.push(y),{...e,chainNamespace:h,caipNetworkId:p,assets:{imageId:s.C.NetworkImageIds[e.id],imageUrl:null==u?void 0:u[e.id]},rpcUrls:{...e.rpcUrls,default:{http:v},chainDefault:{http:w}}}},extendCaipNetworks(e,t){let{customNetworkImageUrls:r,projectId:n,customRpcUrls:i}=t;return e.map(e=>m.extendCaipNetwork(e,{customNetworkImageUrls:r,customRpcUrls:i,projectId:n}))},getViemTransport(e,t,r){var n,i,o;let s=[];return null==r||r.forEach(e=>{s.push((0,h.dJM)(e.url,e.config))}),g.includes(e.caipNetworkId)&&s.push((0,h.dJM)(p(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),null==e||null===(o=e.rpcUrls)||void 0===o||null===(i=o.default)||void 0===i||null===(n=i.http)||void 0===n||n.forEach(e=>{s.push((0,h.dJM)(e))}),(0,h.tvc)(s)},extendWagmiTransports(e,t,r){if(g.includes(e.caipNetworkId)){let n=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return(0,h.tvc)([r,(0,h.dJM)(n)])}return r},getUnsupportedNetwork:e=>({id:e.split(":")[1],caipNetworkId:e,name:a.bq.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}),getCaipNetworkFromStorage(e){var t;let r=c.MO.getActiveCaipNetworkId(),n=c.RY.getAllRequestedCaipNetworks(),i=Array.from((null===(t=c.RY.state.chains)||void 0===t?void 0:t.keys())||[]),o=null==r?void 0:r.split(":")[0],s=!!o&&i.includes(o),a=null==n?void 0:n.find(e=>e.caipNetworkId===r);return s&&!a&&r?this.getUnsupportedNetwork(r):a||e||(null==n?void 0:n[0])}};var y=r(96768),b=r(82853);let v={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},w=(0,y.sj)({providers:{...v},providerIds:{...v}}),E={state:w,subscribeKey:(e,t)=>(0,b.VW)(w,e,t),subscribe:e=>(0,y.Ld)(w,()=>{e(w)}),subscribeProviders:e=>(0,y.Ld)(w.providers,()=>e(w.providers)),setProvider(e,t){e&&t&&(w.providers[e]=(0,y.iH)(t))},getProvider(e){if(e)return w.providers[e]},setProviderId(e,t){t&&(w.providerIds[e]=t)},getProviderId(e){if(e)return w.providerIds[e]},reset(){w.providers={...v},w.providerIds={...v}},resetChain(e){w.providers[e]=void 0,w.providerIds[e]=void 0}};(n=i||(i={})).Google="google",n.Github="github",n.Apple="apple",n.Facebook="facebook",n.X="x",n.Discord="discord",n.Farcaster="farcaster"},83798:function(e,t,r){"use strict";r.d(t,{b:function(){return n}});let n={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:r(30345).bq.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"}},41134:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var n=r(30345),i=r(83798);let o={ConnectorExplorerIds:{[n.bq.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[n.bq.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[n.bq.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[n.bq.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[n.bq.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[i.b.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[i.b.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[i.b.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[i.b.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[i.b.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[i.b.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[i.b.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[i.b.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[i.b.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[i.b.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[i.b.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[i.b.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700"},ConnectorImageIds:{[n.bq.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[n.bq.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[n.bq.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[n.bq.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[n.bq.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[n.bq.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[n.bq.CONNECTOR_ID.INJECTED]:"Browser Wallet",[n.bq.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[n.bq.CONNECTOR_ID.COINBASE]:"Coinbase",[n.bq.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[n.bq.CONNECTOR_ID.LEDGER]:"Ledger",[n.bq.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[n.bq.CONNECTOR_ID.INJECTED]:"INJECTED",[n.bq.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[n.bq.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[n.bq.CONNECTOR_ID.AUTH]:"AUTH",[i.b.CONNECTOR_TYPE_AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]}},65314:function(e,t,r){"use strict";r.d(t,{y:function(){return i}});var n=r(25566);void 0!==n&&void 0!==n.env&&n.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL,void 0!==n&&void 0!==n.env&&n.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL,void 0!==n&&void 0!==n.env&&n.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION;let i={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}}},51097:function(e,t,r){"use strict";r.d(t,{createAppKit:function(){return a0}});var n,i,o=r(30345),s=r(24617),a=r(30808),c=r(15133);r(58020);var l=r(55445),u=r.n(l),d=Object.defineProperty,f=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t,r)=>f(e,"symbol"!=typeof t?t+"":t,r);class p{constructor(e){this.opts=e,h(this,"protocol","wc"),h(this,"version",2)}}class g{constructor(e){this.client=e}}r(65383);var m=r(40537),y=r(76454),b=r(3897);r(56076),r(23974),r(45686),r(5215);var v=r(21371);r(68257),r(3486),r(27681),r(66657);var w=r(91811);r(62340),r(58911),r(24358),r(50842),r(16315);var E=r(52981),C=r(62095),A=r(82944),x=r(57643);async function I(e){let{hash:t,signature:n}=e,i=(0,C.v)(t)?t:(0,w.NC)(t),{secp256k1:o}=await Promise.resolve().then(r.bind(r,76645)),s=(()=>{if("object"==typeof n&&"r"in n&&"s"in n){let{r:e,s:t,v:r,yParity:i}=n,s=N(Number(null!=i?i:r));return new o.Signature((0,x.y_)(e),(0,x.y_)(t)).addRecoveryBit(s)}let e=(0,C.v)(n)?n:(0,w.NC)(n);if(65!==(0,A.d)(e))throw Error("invalid signature length");let t=N((0,x.ly)("0x".concat(e.slice(130))));return o.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(t)})().recoverPublicKey(i.substring(2)).toHex(!1);return"0x".concat(s)}function N(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function S(e){let{hash:t,signature:r}=e;return function(e){let t=(0,v.w)("0x".concat(e.substring(4))).substring(26);return(0,E.x)("0x".concat(t))}(await I({hash:t,signature:r}))}r(90766),r(23377),r(50357),r(72876),r(3807),r(82326),r(46820),r(10267),r(1056),r(34303),r(12513),r(25319),r(12426),r(69137),r(91587),r(15160),r(14872),r(75707),r(78694),r(96630),new(r(53760)).k(128),r(51550),r(88527),r(20892),(0,w.eC)(0,{size:32}),r(7680),r(37277),r(7155),r(54883),r(29e3),RegExp("(?<protocol>https?:\\/\\/[^\\/]*|ipfs:\\/|ipns:\\/|ar:\\/)?(?<root>\\/)?(?<subpath>ipfs\\/|ipns\\/)?(?<target>[\\w\\-.]+)(?<subtarget>\\/.*)?"),RegExp("^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\\/(?<target>[\\w\\-.]+))?(?<subtarget>\\/.*)?$"),r(7498),r(26592),r(80948),r(17549),r(9803),r(61690),r(48373),r(47879),r(93802),r(70681),r(9689),r(71633),r(97057),r(71229),r(66931),r(18635),r(19598),r(77608),r(17373),r(96120),r(45259),r(61684),r(98167),r(38780),r(47724),r(76645),RegExp("^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\\/\\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\\n)(?<address>0x[a-fA-F0-9]{40})\\n\\n(?:(?<statement>.*)\\n\\n)?"),RegExp("(?:URI: (?<uri>.+))\\n(?:Version: (?<version>.+))\\n(?:Chain ID: (?<chainId>\\d+))\\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\\n(?:Issued At: (?<issuedAt>.+))(?:\\nExpiration Time: (?<expirationTime>.+))?(?:\\nNot Before: (?<notBefore>.+))?(?:\\nRequest ID: (?<requestId>.+))?"),r(76213),r(54293),r(28832);var P=r(54414),O=r(54003),_=r(46905);r(46633);var R=r(47159);r(21086);var T=r(84041),k=r(25566),B=r(84398).lW;function U(e){let[t,r]=e.split(":");return{namespace:t,reference:r}}function M(e,t){return e.includes(":")?[e]:t.chains||[]}var L=Object.defineProperty,D=Object.defineProperties,j=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,$=(e,t,r)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,H=(e,t)=>{for(var r in t||(t={}))q.call(t,r)&&$(e,r,t[r]);if(F)for(var r of F(t))z.call(t,r)&&$(e,r,t[r]);return e},G=(e,t)=>D(e,j(t)),W=(e,t,r)=>$(e,"symbol"!=typeof t?t+"":t,r);let V={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function K(){return"u">typeof k&&"u">typeof k.versions&&"u">typeof k.versions.node}function Z(){return!(0,y.getDocument)()&&!!(0,y.getNavigator)()&&"ReactNative"===navigator.product}function Y(){return!K()&&!!(0,y.getNavigator)()&&!!(0,y.getDocument)()}function J(e,t){return e.filter(e=>t.includes(e)).length===e.length}function X(){let e,t,r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.FIVE_MINUTES,o=arguments.length>1?arguments[1]:void 0,s=(0,m.toMiliseconds)(i||m.FIVE_MINUTES);return{resolve:t=>{r&&e&&(clearTimeout(r),e(t),n=Promise.resolve(t))},reject:e=>{r&&t&&(clearTimeout(r),t(e))},done:()=>new Promise((i,a)=>{if(n)return i(n);r=setTimeout(()=>{let e=Error(o);n=Promise.reject(e),a(e)},s),e=i,t=a})}}function Q(e,t){return(0,m.fromMiliseconds)((t||Date.now())+(0,m.toMiliseconds)(e))}function ee(e){return Date.now()>=(0,m.toMiliseconds)(e)}function et(e,t){return"".concat(e).concat(t?":".concat(t):"")}function er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[...new Set([...e,...t])]}async function en(e){var t;let{id:n,topic:i,wcDeepLink:o}=e;try{if(!o)return;let e="string"==typeof o?JSON.parse(o):o,s=null==e?void 0:e.href;if("string"!=typeof s)return;let a=function(e,t,r){let n="requestId=".concat(t,"&sessionTopic=").concat(r);e.endsWith("/")&&(e=e.slice(0,-1));let i="".concat(e);if(e.startsWith("https://t.me")){let t=e.includes("?")?"&startapp=":"?startapp=";i="".concat(i).concat(t).concat(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=B.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}(n,!0))}else i="".concat(i,"/wc?").concat(n);return i}(s,n,i),c=Z()?V.reactNative:K()?V.node:Y()?V.browser:V.unknown;if(c===V.browser){let e;if(!(null!=(t=(0,y.getDocument)())&&t.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}e="_self",function(){try{return window.self!==window.top}catch(e){return!1}}()?e="_top":("u">typeof window&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||a.startsWith("https://")||a.startsWith("http://"))&&(e="_blank"),window.open(a,e,"noreferrer noopener")}else c===V.reactNative&&"u">typeof(null==r.g?void 0:r.g.Linking)&&await r.g.Linking.openURL(a)}catch(e){console.error(e)}}async function ei(e,t){let r="";try{if(Y()&&(r=localStorage.getItem(t)))return r;r=await e.getItem(t)}catch(e){console.error(e)}return r}function eo(e,t){if(!e.includes(t))return null;let r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}class es{add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){let e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}constructor({limit:e}){W(this,"limit"),W(this,"set"),this.limit=e,this.set=new Set}}let ea=BigInt(4294967296-1),ec=BigInt(32);function el(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?{h:Number(e&ea),l:Number(e>>ec&ea)}:{h:0|Number(e>>ec&ea),l:0|Number(e&ea)}}function eu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:r,l:s}=el(e[o],t);[n[o],i[o]]=[r,s]}return[n,i]}let ed=(e,t,r)=>e>>>r,ef=(e,t,r)=>e<<32-r|t>>>r,eh=(e,t,r)=>e>>>r|t<<32-r,ep=(e,t,r)=>e<<32-r|t>>>r,eg=(e,t,r)=>e<<64-r|t>>>r-32,em=(e,t,r)=>e>>>r-32|t<<64-r,ey=(e,t)=>t,eb=(e,t)=>e,ev=(e,t,r)=>e<<r|t>>>32-r,ew=(e,t,r)=>t<<r|e>>>32-r,eE=(e,t,r)=>t<<r-32|e>>>64-r,eC=(e,t,r)=>e<<r-32|t>>>64-r;function eA(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}}let ex=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),eI=(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,eN=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),eS=(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,eP=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),eO=(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0,e_="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function eR(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function eT(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function ek(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!eR(e))throw Error("Uint8Array expected");if(r.length>0&&!r.includes(e.length))throw Error("Uint8Array expected of length "+r+", got length="+e.length)}function eB(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function eU(e,t){ek(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function eM(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function eL(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let e=0;e<t.length;e++)t[e].fill(0)}function eD(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ej(e,t){return e<<32-t|e>>>t}let eF=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function eq(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}let ez=eF?e=>e:e=>eq(e),e$=eF?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=eq(e[t]);return e},eH="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,eG=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function eW(e){if(ek(e),eH)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=eG[e[r]];return t}let eV={_0:48,_9:57,A:65,F:70,a:97,f:102};function eK(e){return e>=eV._0&&e<=eV._9?e-eV._0:e>=eV.A&&e<=eV.F?e-(eV.A-10):e>=eV.a&&e<=eV.f?e-(eV.a-10):void 0}function eZ(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(eH)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=eK(e.charCodeAt(i)),o=eK(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function eY(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),ek(e),e}function eJ(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=0;for(let e=0;e<t.length;e++){let r=t[e];ek(r),n+=r.length}let i=new Uint8Array(n);for(let e=0,r=0;e<t.length;e++){let n=t[e];i.set(n,r),r+=n.length}return i}class eX{}function eQ(e){let t=t=>e().update(eY(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function e0(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(e_&&"function"==typeof e_.getRandomValues)return e_.getRandomValues(new Uint8Array(e));if(e_&&"function"==typeof e_.randomBytes)return Uint8Array.from(e_.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}let e1=BigInt(0),e2=BigInt(1),e6=BigInt(2),e5=BigInt(7),e8=BigInt(256),e3=BigInt(113),e4=[],e9=[],e7=[];for(let e=0,t=e2,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],e4.push(2*(5*n+r)),e9.push((e+1)*(e+2)/2%64);let i=e1;for(let e=0;e<7;e++)(t=(t<<e2^(t>>e5)*e3)%e8)&e6&&(i^=e2<<(e2<<BigInt(e))-e2);e7.push(i)}let te=eu(e7,!0),tt=te[0],tr=te[1],tn=(e,t,r)=>r>32?eE(e,t,r):ev(e,t,r),ti=(e,t,r)=>r>32?eC(e,t,r):ew(e,t,r);class to extends eX{clone(){return this._cloneInto()}keccak(){e$(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],s=r[i+1],a=tn(o,s,1)^r[n],c=ti(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=e9[r],o=tn(t,i,n),s=ti(t,i,n),a=e4[r];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=tt[n],e[1]^=tr[n]}eL(r)}(this.state32,this.rounds),e$(this.state32),this.posOut=0,this.pos=0}update(e){eB(this),ek(e=eY(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){eB(this,!1),ek(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return eT(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(eU(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,eL(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new to(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,eT(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=eM(this.state)}}let ts=eQ(()=>new to(136,1,32));class ta extends eX{update(e){eB(this),ek(e=eY(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let o=0;o<i;){let s=Math.min(n-this.pos,i-o);if(s===n){let t=eD(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){eB(this),eU(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,eL(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+l,a,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=eD(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=a/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.destroyed=o,e.finished=i,e.length=n,e.pos=s,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=eD(this.buffer)}}let tc=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tl=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),tu=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),td=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tf=new Uint32Array(64);class th extends ta{get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)tf[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=tf[e-15],r=tf[e-2],n=ej(t,7)^ej(t,18)^t>>>3,i=ej(r,17)^ej(r,19)^r>>>10;tf[e]=i+tf[e-7]+n+tf[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){var u,d,f,h;let t=l+(ej(s,6)^ej(s,11)^ej(s,25))+((u=s)&a^~u&c)+td[e]+tf[e]|0,p=(ej(r,2)^ej(r,13)^ej(r,22))+((d=r)&(f=n)^d&(h=i)^f&h)|0;l=c,c=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+p|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,o,s,a,c,l)}roundClean(){eL(tf)}destroy(){this.set(0,0,0,0,0,0,0,0),eL(this.buffer)}constructor(e=32){super(64,e,8,!1),this.A=0|tc[0],this.B=0|tc[1],this.C=0|tc[2],this.D=0|tc[3],this.E=0|tc[4],this.F=0|tc[5],this.G=0|tc[6],this.H=0|tc[7]}}let tp=eu(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),tg=tp[0],tm=tp[1],ty=new Uint32Array(80),tb=new Uint32Array(80);class tv extends ta{get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:l,Fh:u,Fl:d,Gh:f,Gl:h,Hh:p,Hl:g}=this;return[e,t,r,n,i,o,s,a,c,l,u,d,f,h,p,g]}set(e,t,r,n,i,o,s,a,c,l,u,d,f,h,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)ty[r]=e.getUint32(t),tb[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|ty[e-15],r=0|tb[e-15],n=eh(t,r,1)^eh(t,r,8)^ed(t,r,7),i=ep(t,r,1)^ep(t,r,8)^ef(t,r,7),o=0|ty[e-2],s=0|tb[e-2],a=eh(o,s,19)^eg(o,s,61)^ed(o,s,6),c=eN(i,ep(o,s,19)^em(o,s,61)^ef(o,s,6),tb[e-7],tb[e-16]),l=eS(c,n,a,ty[e-7],ty[e-16]);ty[e]=0|l,tb[e]=0|c}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:l,Eh:u,El:d,Fh:f,Fl:h,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){let t=eh(u,d,14)^eh(u,d,18)^eg(u,d,41),b=ep(u,d,14)^ep(u,d,18)^em(u,d,41),v=u&f^~u&p,w=eP(y,b,d&h^~d&g,tm[e],tb[e]),E=eO(w,m,t,v,tg[e],ty[e]),C=0|w,A=eh(r,n,28)^eg(r,n,34)^eg(r,n,39),x=ep(r,n,28)^em(r,n,34)^em(r,n,39),I=r&i^r&s^i&s,N=n&o^n&a^o&a;m=0|p,y=0|g,p=0|f,g=0|h,f=0|u,h=0|d,({h:u,l:d}=eA(0|c,0|l,0|E,0|C)),c=0|s,l=0|a,s=0|i,a=0|o,i=0|r,o=0|n;let S=ex(C,x,N);r=eI(S,E,A,I),n=0|S}({h:r,l:n}=eA(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=eA(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=eA(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:l}=eA(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=eA(0|this.Eh,0|this.El,0|u,0|d)),({h:f,l:h}=eA(0|this.Fh,0|this.Fl,0|f,0|h)),({h:p,l:g}=eA(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=eA(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,i,o,s,a,c,l,u,d,f,h,p,g,m,y)}roundClean(){eL(ty,tb)}destroy(){eL(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(e=64){super(128,e,16,!1),this.Ah=0|tu[0],this.Al=0|tu[1],this.Bh=0|tu[2],this.Bl=0|tu[3],this.Ch=0|tu[4],this.Cl=0|tu[5],this.Dh=0|tu[6],this.Dl=0|tu[7],this.Eh=0|tu[8],this.El=0|tu[9],this.Fh=0|tu[10],this.Fl=0|tu[11],this.Gh=0|tu[12],this.Gl=0|tu[13],this.Hh=0|tu[14],this.Hl=0|tu[15]}}class tw extends tv{constructor(){super(48),this.Ah=0|tl[0],this.Al=0|tl[1],this.Bh=0|tl[2],this.Bl=0|tl[3],this.Ch=0|tl[4],this.Cl=0|tl[5],this.Dh=0|tl[6],this.Dl=0|tl[7],this.Eh=0|tl[8],this.El=0|tl[9],this.Fh=0|tl[10],this.Fl=0|tl[11],this.Gh=0|tl[12],this.Gl=0|tl[13],this.Hh=0|tl[14],this.Hl=0|tl[15]}}let tE=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class tC extends tv{constructor(){super(32),this.Ah=0|tE[0],this.Al=0|tE[1],this.Bh=0|tE[2],this.Bl=0|tE[3],this.Ch=0|tE[4],this.Cl=0|tE[5],this.Dh=0|tE[6],this.Dl=0|tE[7],this.Eh=0|tE[8],this.El=0|tE[9],this.Fh=0|tE[10],this.Fl=0|tE[11],this.Gh=0|tE[12],this.Gl=0|tE[13],this.Hh=0|tE[14],this.Hl=0|tE[15]}}let tA=eQ(()=>new th),tx=eQ(()=>new tv),tI=eQ(()=>new tw),tN=eQ(()=>new tC),tS=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),tP=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),tO=new Uint32Array(32);function t_(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=tO[2*e],l=tO[2*e+1],u=tO[2*t],d=tO[2*t+1],f=tO[2*r],h=tO[2*r+1],p=tO[2*n],g=tO[2*n+1],m=ex(c,u,s);l=eI(m,l,d,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:ey(g,p),Dl:eb(g)}),({h:h,l:f}=eA(h,f,g,p)),({Bh:d,Bl:u}={Bh:d^h,Bl:u^f}),({Bh:d,Bl:u}={Bh:eh(d,u,24),Bl:ep(d,u,24)}),tO[2*e]=c,tO[2*e+1]=l,tO[2*t]=u,tO[2*t+1]=d,tO[2*r]=f,tO[2*r+1]=h,tO[2*n]=p,tO[2*n+1]=g}function tR(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=tO[2*e],l=tO[2*e+1],u=tO[2*t],d=tO[2*t+1],f=tO[2*r],h=tO[2*r+1],p=tO[2*n],g=tO[2*n+1],m=ex(c,u,s);l=eI(m,l,d,a),c=0|m,({Dh:g,Dl:p}={Dh:g^l,Dl:p^c}),({Dh:g,Dl:p}={Dh:eh(g,p,16),Dl:ep(g,p,16)}),({h:h,l:f}=eA(h,f,g,p)),({Bh:d,Bl:u}={Bh:d^h,Bl:u^f}),({Bh:d,Bl:u}={Bh:eg(d,u,63),Bl:em(d,u,63)}),tO[2*e]=c,tO[2*e+1]=l,tO[2*t]=u,tO[2*t+1]=d,tO[2*r]=f,tO[2*r+1]=h,tO[2*n]=p,tO[2*n+1]=g}class tT extends eX{update(e){eB(this),ek(e=eY(e));let{blockLen:t,buffer:r,buffer32:n}=this,i=e.length,o=e.byteOffset,s=e.buffer;for(let a=0;a<i;){this.pos===t&&(e$(n),this.compress(n,0,!1),e$(n),this.pos=0);let c=Math.min(t-this.pos,i-a),l=o+a;if(c===t&&!(l%4)&&a+c<i){let e=new Uint32Array(s,l,Math.floor((i-a)/4));e$(e);for(let r=0;a+t<i;r+=n.length,a+=t)this.length+=t,this.compress(e,r,!1);e$(e);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,this.length+=c,a+=c}return this}digestInto(e){eB(this),eU(e,this);let{pos:t,buffer32:r}=this;this.finished=!0,eL(this.buffer.subarray(t)),e$(r),this.compress(r,0,!0),e$(r);let n=eM(e);this.get().forEach((e,t)=>n[t]=ez(e))}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){let{buffer:t,length:r,finished:n,destroyed:i,outputLen:o,pos:s}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=n,e.length=r,e.pos=s,e.outputLen=o,e}clone(){return this._cloneInto()}constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,eT(e),eT(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=eM(this.buffer)}}class tk extends tT{get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:o,v3l:s,v3h:a,v4l:c,v4h:l,v5l:u,v5h:d,v6l:f,v6h:h,v7l:p,v7h:g}=this;return[e,t,r,n,i,o,s,a,c,l,u,d,f,h,p,g]}set(e,t,r,n,i,o,s,a,c,l,u,d,f,h,p,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|o,this.v3l=0|s,this.v3h=0|a,this.v4l=0|c,this.v4h=0|l,this.v5l=0|u,this.v5h=0|d,this.v6l=0|f,this.v6h=0|h,this.v7l=0|p,this.v7h=0|g}compress(e,t,r){this.get().forEach((e,t)=>tO[t]=e),tO.set(tP,16);let{h:n,l:i}=el(BigInt(this.length));tO[24]=tP[8]^i,tO[25]=tP[9]^n,r&&(tO[28]=~tO[28],tO[29]=~tO[29]);let o=0;for(let r=0;r<12;r++)t_(0,4,8,12,e,t+2*tS[o++]),tR(0,4,8,12,e,t+2*tS[o++]),t_(1,5,9,13,e,t+2*tS[o++]),tR(1,5,9,13,e,t+2*tS[o++]),t_(2,6,10,14,e,t+2*tS[o++]),tR(2,6,10,14,e,t+2*tS[o++]),t_(3,7,11,15,e,t+2*tS[o++]),tR(3,7,11,15,e,t+2*tS[o++]),t_(0,5,10,15,e,t+2*tS[o++]),tR(0,5,10,15,e,t+2*tS[o++]),t_(1,6,11,12,e,t+2*tS[o++]),tR(1,6,11,12,e,t+2*tS[o++]),t_(2,7,8,13,e,t+2*tS[o++]),tR(2,7,8,13,e,t+2*tS[o++]),t_(3,4,9,14,e,t+2*tS[o++]),tR(3,4,9,14,e,t+2*tS[o++]);this.v0l^=tO[0]^tO[16],this.v0h^=tO[1]^tO[17],this.v1l^=tO[2]^tO[18],this.v1h^=tO[3]^tO[19],this.v2l^=tO[4]^tO[20],this.v2h^=tO[5]^tO[21],this.v3l^=tO[6]^tO[22],this.v3h^=tO[7]^tO[23],this.v4l^=tO[8]^tO[24],this.v4h^=tO[9]^tO[25],this.v5l^=tO[10]^tO[26],this.v5h^=tO[11]^tO[27],this.v6l^=tO[12]^tO[28],this.v6h^=tO[13]^tO[29],this.v7l^=tO[14]^tO[30],this.v7h^=tO[15]^tO[31],eL(tO)}destroy(){this.destroyed=!0,eL(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(e={}){let t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|tP[0],this.v0h=0|tP[1],this.v1l=0|tP[2],this.v1h=0|tP[3],this.v2l=0|tP[4],this.v2h=0|tP[5],this.v3l=0|tP[6],this.v3h=0|tP[7],this.v4l=0|tP[8],this.v4h=0|tP[9],this.v5l=0|tP[10],this.v5h=0|tP[11],this.v6l=0|tP[12],this.v6h=0|tP[13],this.v7l=0|tP[14],this.v7h=0|tP[15],function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(eT(r),e<0||e>r)throw Error("outputLen bigger than keyLen");let{key:o,salt:s,personalization:a}=t;if(void 0!==o&&(o.length<1||o.length>r))throw Error("key length must be undefined or 1.."+r);if(void 0!==s&&s.length!==n)throw Error("salt must be undefined or "+n);if(void 0!==a&&a.length!==i)throw Error("personalization must be undefined or "+i)}(t,e,64,16,16);let{key:r,personalization:n,salt:i}=e,o=0;if(void 0!==r&&(o=(r=eY(r)).length),this.v0l^=this.outputLen|o<<8|16842752,void 0!==i){let e=eM(i=eY(i));this.v4l^=ez(e[0]),this.v4h^=ez(e[1]),this.v5l^=ez(e[2]),this.v5h^=ez(e[3])}if(void 0!==n){let e=eM(n=eY(n));this.v6l^=ez(e[0]),this.v6h^=ez(e[1]),this.v7l^=ez(e[2]),this.v7h^=ez(e[3])}if(void 0!==r){let e=new Uint8Array(this.blockLen);e.set(r),this.update(e)}}}let tB=function(e){let t=(t,r)=>e(r).update(eY(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new tk(e));function tU(e){let t="\x19Ethereum Signed Message:\n".concat(e.length),r=new TextEncoder().encode(t+e);return"0x"+B.from(ts(r)).toString("hex")}async function tM(e,t,r,n,i,o){switch(r.t){case"eip191":return await tL(e,t,r.s);case"eip1271":return await tD(e,t,r.s,n,i,o);default:throw Error("verifySignature failed: Attempted to verify CacaoSignature with unknown type: ".concat(r.t))}}async function tL(e,t,r){return(await S({hash:tU(t),signature:r})).toLowerCase()===e.toLowerCase()}async function tD(e,t,r,n,i,o){let s=U(n);if(!s.namespace||!s.reference)throw Error("isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ".concat(n));try{let s="0x1626ba7e",a=r.substring(2),c=(a.length/2).toString(16).padStart(64,"0"),l=(t.startsWith("0x")?t:tU(t)).substring(2),u=await fetch("".concat(o||"https://rpc.walletconnect.org/v1","/?chainId=").concat(n,"&projectId=").concat(i),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:s+l+"0000000000000000000000000000000000000000000000000000000000000040"+c+a},"latest"]})}),{result:d}=await u.json();return!!d&&d.slice(0,s.length).toLowerCase()===s.toLowerCase()}catch(e){return console.error("isValidEip1271Signature: ",e),!1}}function tj(e){let t=new Uint8Array(tA(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return P.Z.encode(t)}function tF(e){let t=B.from(e,"base64"),r=(0,O.Jx)(t).txn;if(!r)throw Error("Invalid signed transaction: missing 'txn' field");let n=(0,O.cv)(r),i=B.from("TX"),o=tN(B.concat([i,B.from(n)]));return _.pJ.encode(o).replace(/=+$/,"")}function tq(e){let t=[],r=BigInt(e);for(;r>=BigInt(128);)t.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return t.push(Number(r)),B.from(t)}var tz=Object.defineProperty,t$=Object.defineProperties,tH=Object.getOwnPropertyDescriptors,tG=Object.getOwnPropertySymbols,tW=Object.prototype.hasOwnProperty,tV=Object.prototype.propertyIsEnumerable,tK=(e,t,r)=>t in e?tz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tZ=(e,t)=>{for(var r in t||(t={}))tW.call(t,r)&&tK(e,r,t[r]);if(tG)for(var r of tG(t))tV.call(t,r)&&tK(e,r,t[r]);return e},tY=(e,t)=>t$(e,tH(t));let tJ=e=>null==e?void 0:e.split(":"),tX=e=>{let t=e&&tJ(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]},tQ=e=>{let t=e&&tJ(e);if(t)return t[2]+":"+t[3]},t0=e=>{let t=e&&tJ(e);if(t)return t.pop()};async function t1(e){let{cacao:t,projectId:r}=e,{s:n,p:i}=t,o=t2(i,i.iss),s=t0(i.iss);return await tM(s,o,n,tQ(i.iss),r)}let t2=(e,t)=>{let r="".concat(e.domain," wants you to sign in with your Ethereum account:"),n=t0(t);if(!e.aud&&!e.uri)throw Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0,o="URI: ".concat(e.aud||e.uri),s="Version: ".concat(e.version),a="Chain ID: ".concat(tX(t)),c="Nonce: ".concat(e.nonce),l="Issued At: ".concat(e.iat),u=e.exp?"Expiration Time: ".concat(e.exp):void 0,d=e.nbf?"Not Before: ".concat(e.nbf):void 0,f=e.requestId?"Request ID: ".concat(e.requestId):void 0,h=e.resources?"Resources:".concat(e.resources.map(e=>"\n- ".concat(e)).join("")):void 0,p=t9(e.resources);return p&&(i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;t6(t);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;let n=[],i=0;Object.keys(t.att).forEach(e=>{let r=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));r.sort((e,t)=>e.action.localeCompare(t.action));let o={};r.forEach(e=>{o[e.ability]||(o[e.ability]=[]),o[e.ability].push(e.action)});let s=Object.keys(o).map(t=>(i++,"(".concat(i,") '").concat(t,"': '").concat(o[t].join("', '"),"' for '").concat(e,"'.")));n.push(s.join(", ").replace(".,","."))});let o=n.join(" "),s="".concat(r).concat(o);return"".concat(e?e+" ":"").concat(s)}(i,t8(p))),[r,n,"",i,"",o,s,a,c,l,u,d,f,h].filter(e=>null!=e).join("\n")};function t6(e){if(!e)throw Error("No recap provided, value is undefined");if(!e.att)throw Error("No `att` property found");let t=Object.keys(e.att);if(!(null!=t&&t.length))throw Error("No resources found in `att` property");t.forEach(t=>{let r=e.att[t];if(Array.isArray(r)||"object"!=typeof r)throw Error("Resource must be an object: ".concat(t));if(!Object.keys(r).length)throw Error("Resource object is empty: ".concat(t));Object.keys(r).forEach(e=>{let t=r[e];if(!Array.isArray(t))throw Error("Ability limits ".concat(e," must be an array of objects, found: ").concat(t));if(!t.length)throw Error("Value of ".concat(e," is empty array, must be an array with objects"));t.forEach(t=>{if("object"!=typeof t)throw Error("Ability limits (".concat(e,") must be an array of objects, found: ").concat(t))})})})}function t5(e){return t6(e),"urn:recap:".concat(B.from(JSON.stringify(e)).toString("base64").replace(/=/g,""))}function t8(e){var t;let r=(t=e.replace("urn:recap:",""),JSON.parse(B.from(t,"base64").toString("utf-8")));return t6(r),r}function t3(e){var t;let r=t8(e);t6(r);let n=null==(t=r.att)?void 0:t.eip155;return n?Object.keys(n).map(e=>e.split("/")[1]):[]}function t4(e){let t=t8(e);t6(t);let r=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=null==e?void 0:e[0])&&t.chains&&r.push(e[0].chains)})}),[...new Set(r.flat())]}function t9(e){if(!e)return;let t=null==e?void 0:e[e.length-1];return t&&t.includes("urn:recap:")?t:void 0}function t7(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function re(e){if("boolean"!=typeof e)throw Error("boolean expected, not ".concat(e))}function rt(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function rr(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!t7(e))throw Error("Uint8Array expected");if(r.length>0&&!r.includes(e.length))throw Error("Uint8Array expected of length "+r+", got length="+e.length)}function rn(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function ri(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ro(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(let e=0;e<t.length;e++)t[e].fill(0)}let rs=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function ra(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e);else if(t7(e))e=ru(e);else throw Error("Uint8Array expected, got "+typeof e);return e}function rc(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error("invalid output length, expected "+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function rl(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+l,a,n)}function ru(e){return Uint8Array.from(e)}let rd=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),rf=rd("expand 16-byte k"),rh=rd("expand 32-byte k"),rp=ri(rf),rg=ri(rh);function rm(e,t){return e<<t|e>>>32-t}function ry(e){return e.byteOffset%4==0}let rb=4294967296-1,rv=new Uint32Array,rw=(e,t)=>255&e[t++]|(255&e[t++])<<8;class rE{process(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{h:n,r:i}=this,o=i[0],s=i[1],a=i[2],c=i[3],l=i[4],u=i[5],d=i[6],f=i[7],h=i[8],p=i[9],g=rw(e,t+0),m=rw(e,t+2),y=rw(e,t+4),b=rw(e,t+6),v=rw(e,t+8),w=rw(e,t+10),E=rw(e,t+12),C=rw(e,t+14),A=n[0]+(8191&g),x=n[1]+((g>>>13|m<<3)&8191),I=n[2]+((m>>>10|y<<6)&8191),N=n[3]+((y>>>7|b<<9)&8191),S=n[4]+((b>>>4|v<<12)&8191),P=n[5]+(v>>>1&8191),O=n[6]+((v>>>14|w<<2)&8191),_=n[7]+((w>>>11|E<<5)&8191),R=n[8]+((E>>>8|C<<8)&8191),T=n[9]+(C>>>5|(r?0:2048)),k=0,B=0+A*o+5*p*x+5*h*I+5*f*N+5*d*S;k=B>>>13,B&=8191,B+=5*u*P+5*l*O+5*c*_+5*a*R+5*s*T,k+=B>>>13,B&=8191;let U=k+A*s+x*o+5*p*I+5*h*N+5*f*S;k=U>>>13,U&=8191,U+=5*d*P+5*u*O+5*l*_+5*c*R+5*a*T,k+=U>>>13,U&=8191;let M=k+A*a+x*s+I*o+5*p*N+5*h*S;k=M>>>13,M&=8191,M+=5*f*P+5*d*O+5*u*_+5*l*R+5*c*T,k+=M>>>13,M&=8191;let L=k+A*c+x*a+I*s+N*o+5*p*S;k=L>>>13,L&=8191,L+=5*h*P+5*f*O+5*d*_+5*u*R+5*l*T,k+=L>>>13,L&=8191;let D=k+A*l+x*c+I*a+N*s+S*o;k=D>>>13,D&=8191,D+=5*p*P+5*h*O+5*f*_+5*d*R+5*u*T,k+=D>>>13,D&=8191;let j=k+A*u+x*l+I*c+N*a+S*s;k=j>>>13,j&=8191,j+=P*o+5*p*O+5*h*_+5*f*R+5*d*T,k+=j>>>13,j&=8191;let F=k+A*d+x*u+I*l+N*c+S*a;k=F>>>13,F&=8191,F+=P*s+O*o+5*p*_+5*h*R+5*f*T,k+=F>>>13,F&=8191;let q=k+A*f+x*d+I*u+N*l+S*c;k=q>>>13,q&=8191,q+=P*a+O*s+_*o+5*p*R+5*h*T,k+=q>>>13,q&=8191;let z=k+A*h+x*f+I*d+N*u+S*l;k=z>>>13,z&=8191,z+=P*c+O*a+_*s+R*o+5*p*T,k+=z>>>13,z&=8191;let $=k+A*p+x*h+I*f+N*d+S*u;k=$>>>13,$&=8191,$+=P*l+O*c+_*a+R*s+T*o,k+=$>>>13,$&=8191,B=8191&(k=(k=(k<<2)+k|0)+B|0),k>>>=13,U+=k,n[0]=B,n[1]=U,n[2]=M,n[3]=L,n[4]=D,n[5]=j,n[6]=F,n[7]=q,n[8]=z,n[9]=$}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=n,n=e[t]>>>13,e[t]&=8191;e[0]+=5*n,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,r[0]=e[0]+5,n=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+n,n=r[t]>>>13,r[t]&=8191;r[9]-=8192;let i=(1^n)-1;for(let e=0;e<10;e++)r[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+t[0];e[0]=65535&o;for(let r=1;r<8;r++)o=(e[r]+t[r]|0)+(o>>>16)|0,e[r]=65535&o;ro(r)}update(e){rn(this),rr(e=ra(e));let{buffer:t,blockLen:r}=this,n=e.length;for(let i=0;i<n;){let o=Math.min(r-this.pos,n-i);if(o===r){for(;r<=n-i;i+=r)this.process(e,i);continue}t.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){ro(this.h,this.r,this.buffer,this.pad)}digestInto(e){rn(this),function(e,t){rr(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,h:r}=this,{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=r[t]>>>0,e[i++]=r[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,rr(e=ra(e),32);let t=rw(e,0),r=rw(e,2),n=rw(e,4),i=rw(e,6),o=rw(e,8),s=rw(e,10),a=rw(e,12),c=rw(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|n<<6)&7939,this.r[3]=(n>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|s<<2)&8191,this.r[7]=(s>>>11|a<<5)&8065,this.r[8]=(a>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=rw(e,16+2*t)}}let rC=function(e){let t=(t,r)=>e(r).update(ra(t)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new rE(e)),rA=function(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:o,rounds:s}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return rt(i),rt(s),re(o),re(r),function(t,a,c,l){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;rr(t),rr(a),rr(c);let d=c.length;if(void 0===l&&(l=new Uint8Array(d)),rr(l),rt(u),u<0||u>=rb)throw Error("arx: counter overflow");if(l.length<d)throw Error("arx: output (".concat(l.length,") is shorter than data (").concat(d,")"));let f=[],h=t.length,p,g;if(32===h)f.push(p=ru(t)),g=rg;else if(16===h&&r)(p=new Uint8Array(32)).set(t),p.set(t,16),g=rp,f.push(p);else throw Error("arx: invalid 32-byte key, got length=".concat(h));ry(a)||f.push(a=ru(a));let m=ri(p);if(n){if(24!==a.length)throw Error("arx: extended nonce must be 24 bytes");n(g,m,ri(a.subarray(0,16)),m),a=a.subarray(16)}let y=16-i;if(y!==a.length)throw Error("arx: nonce must be ".concat(y," or 16 bytes"));if(12!==y){let e=new Uint8Array(12);e.set(a,o?0:12-a.length),a=e,f.push(a)}return function(e,t,r,n,i,o,s,a){let c=i.length,l=new Uint8Array(64),u=ri(l),d=ry(i)&&ry(o),f=d?ri(i):rv,h=d?ri(o):rv;for(let p=0;p<c;s++){if(e(t,r,n,u,s,a),s>=rb)throw Error("arx: counter overflow");let g=Math.min(64,c-p);if(d&&64===g){let e=p/4;if(p%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)h[r=e+t]=f[r]^u[t];p+=64;continue}for(let e=0,t;e<g;e++)o[t=p+e]=i[t]^l[e];p+=g}}(e,g,m,ri(a),c,l,u,s),ro(...f),l}}(function(e,t,r,n,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,s=e[0],a=e[1],c=e[2],l=e[3],u=t[0],d=t[1],f=t[2],h=t[3],p=t[4],g=t[5],m=t[6],y=t[7],b=r[0],v=r[1],w=r[2],E=s,C=a,A=c,x=l,I=u,N=d,S=f,P=h,O=p,_=g,R=m,T=y,k=i,B=b,U=v,M=w;for(let e=0;e<o;e+=2)O=O+(k=rm(k^(E=E+I|0),16))|0,E=E+(I=rm(I^O,12))|0,O=O+(k=rm(k^E,8))|0,I=rm(I^O,7),_=_+(B=rm(B^(C=C+N|0),16))|0,C=C+(N=rm(N^_,12))|0,_=_+(B=rm(B^C,8))|0,N=rm(N^_,7),R=R+(U=rm(U^(A=A+S|0),16))|0,A=A+(S=rm(S^R,12))|0,R=R+(U=rm(U^A,8))|0,S=rm(S^R,7),T=T+(M=rm(M^(x=x+P|0),16))|0,x=x+(P=rm(P^T,12))|0,T=T+(M=rm(M^x,8))|0,P=rm(P^T,7),R=R+(M=rm(M^(E=E+N|0),16))|0,E=E+(N=rm(N^R,12))|0,R=R+(M=rm(M^E,8))|0,N=rm(N^R,7),T=T+(k=rm(k^(C=C+S|0),16))|0,C=C+(S=rm(S^T,12))|0,T=T+(k=rm(k^C,8))|0,S=rm(S^T,7),O=O+(B=rm(B^(A=A+P|0),16))|0,A=A+(P=rm(P^O,12))|0,O=O+(B=rm(B^A,8))|0,P=rm(P^O,7),_=_+(U=rm(U^(x=x+I|0),16))|0,x=x+(I=rm(I^_,12))|0,_=_+(U=rm(U^x,8))|0,I=rm(I^_,7);let L=0;n[L++]=s+E|0,n[L++]=a+C|0,n[L++]=c+A|0,n[L++]=l+x|0,n[L++]=u+I|0,n[L++]=d+N|0,n[L++]=f+S|0,n[L++]=h+P|0,n[L++]=p+O|0,n[L++]=g+_|0,n[L++]=m+R|0,n[L++]=y+T|0,n[L++]=i+k|0,n[L++]=b+B|0,n[L++]=v+U|0,n[L++]=w+M|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),rx=new Uint8Array(16),rI=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(rx.subarray(r))},rN=new Uint8Array(32);function rS(e,t,r,n,i){let o=e(t,r,rN),s=rC.create(o);i&&rI(s,i),rI(s,n);let a=function(e,t,r){re(r);let n=new Uint8Array(16),i=new DataView(n.buffer,n.byteOffset,n.byteLength);return rl(i,0,BigInt(t),r),rl(i,8,BigInt(e),r),n}(n.length,i?i.length:0,!0);s.update(a);let c=s.digest();return ro(o,a),c}n={blockSize:64,nonceLength:12,tagLength:16},i=(e,t,r)=>({encrypt(n,i){let o=n.length;(i=rc(o+16,i,!1)).set(n);let s=i.subarray(0,-16);rA(e,t,s,s,1);let a=rS(rA,e,t,s,r);return i.set(a,o),ro(a),i},decrypt(n,i){i=rc(n.length-16,i,!1);let o=n.subarray(0,-16),s=n.subarray(-16),a=rS(rA,e,t,o,r);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(s,a))throw Error("invalid tag");return i.set(n.subarray(0,-16)),rA(e,t,i,i,1),ro(a),i}}),Object.assign(function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];if(rr(e),!rs)throw Error("Non little-endian hardware is not yet supported");if(void 0!==n.nonceLength){let e=r[0];if(!e)throw Error("nonce / iv required");n.varSizeNonce?rr(e):rr(e,n.nonceLength)}let s=n.tagLength;s&&void 0!==r[1]&&rr(r[1]);let a=i(e,...r),c=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");rr(t)}},l=!1;return{encrypt(e,t){if(l)throw Error("cannot encrypt() twice with same key + nonce");return l=!0,rr(e),c(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(rr(e),s&&e.length<s)throw Error("invalid ciphertext length: smaller than tagLength="+s);return c(a.decrypt.length,t),a.decrypt(e,t)}}},n);class rP extends eX{update(e){return eB(this),this.iHash.update(e),this}digestInto(e){eB(this),ek(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");eT(e.outputLen),eT(e.blockLen)}(e);let r=eY(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),eL(i)}}let rO=(e,t,r)=>new rP(e,t).update(r).digest();rO.create=(e,t)=>new rP(e,t),Uint8Array.from([0]),Uint8Array.of();let r_=BigInt(0),rR=BigInt(1);function rT(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function rk(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function rB(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?r_:BigInt("0x"+e)}function rU(e){return ek(e),rB(eW(Uint8Array.from(e).reverse()))}function rM(e,t){return eZ(e.toString(16).padStart(2*t,"0"))}function rL(e,t){return rM(e,t).reverse()}function rD(e,t,r){let n;if("string"==typeof t)try{n=eZ(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(eR(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}let rj=e=>"bigint"==typeof e&&r_<=e;function rF(e,t,r,n){if(!(rj(t)&&rj(r)&&rj(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let rq=e=>(rR<<BigInt(e))-rR;function rz(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let o=typeof i;if(o!==r||null===i)throw Error('param "'.concat(t,'" is invalid: expected ').concat(r,", got ").concat(o))}Object.entries(t).forEach(e=>{let[t,r]=e;return n(t,r,!1)}),Object.entries(r).forEach(e=>{let[t,r]=e;return n(t,r,!0)})}function r$(e){let t=new WeakMap;return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];let s=t.get(r);if(void 0!==s)return s;let a=e(r,...i);return t.set(r,a),a}}let rH=BigInt(0),rG=BigInt(1),rW=BigInt(2),rV=BigInt(3),rK=BigInt(4),rZ=BigInt(5),rY=BigInt(8);function rJ(e,t){let r=e%t;return r>=rH?r:t+r}function rX(e,t,r){let n=e;for(;t-- >rH;)n*=n,n%=r;return n}function rQ(e,t){if(e===rH)throw Error("invert: expected non-zero number");if(t<=rH)throw Error("invert: expected positive modulus, got "+t);let r=rJ(e,t),n=t,i=rH,o=rG;for(;r!==rH;){let e=n/r,t=n%r,s=i-o*e;n=r,r=t,i=o,o=s}if(n!==rG)throw Error("invert: does not exist");return rJ(i,t)}function r0(e,t){let r=(e.ORDER+rG)/rK,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function r1(e,t){let r=(e.ORDER-rZ)/rY,n=e.mul(t,rW),i=e.pow(n,r),o=e.mul(t,i),s=e.mul(e.mul(o,rW),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw Error("Cannot find square root");return a}let r2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function r6(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function r5(e,t){let r=(e.ORDER-rG)/rW,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!s)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function r8(e,t){let r,n,i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=rH)throw Error("invalid field: expected ORDER > 0, got "+e);if("object"==typeof t&&null!=t){if(s.sqrt||o)throw Error("cannot specify opts in two arguments");t.BITS&&(r=t.BITS),t.sqrt&&(n=t.sqrt),"boolean"==typeof t.isLE&&(o=t.isLE)}else"number"==typeof t&&(r=t),s.sqrt&&(n=s.sqrt);let{nBitLength:a,nByteLength:c}=function(e,t){void 0!==t&&eT(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}(e,r);if(c>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let l=Object.freeze({ORDER:e,isLE:o,BITS:a,BYTES:c,MASK:rq(a),ZERO:rH,ONE:rG,create:t=>rJ(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return rH<=t&&t<e},is0:e=>e===rH,isValidNot0:e=>!l.is0(e)&&l.isValid(e),isOdd:e=>(e&rG)===rG,neg:t=>rJ(-t,e),eql:(e,t)=>e===t,sqr:t=>rJ(t*t,e),add:(t,r)=>rJ(t+r,e),sub:(t,r)=>rJ(t-r,e),mul:(t,r)=>rJ(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<rH)throw Error("invalid exponent, negatives unsupported");if(r===rH)return e.ONE;if(r===rG)return t;let n=e.ONE,i=t;for(;r>rH;)r&rG&&(n=e.mul(n,i)),i=e.sqr(i),r>>=rG;return n})(l,e,t),div:(t,r)=>rJ(t*rQ(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>rQ(t,e),sqrt:n||(t=>(i||(i=e%rK===rV?r0:e%rY===rZ?r1:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-rG,r=0;for(;t%rW===rH;)t/=rW,r++;let n=rW,i=r8(e);for(;1===r5(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return r0;let o=i.pow(n,t),s=(t+rG)/rW;return function(e,n){if(e.is0(n))return n;if(1!==r5(e,n))throw Error("Cannot find square root");let i=r,a=e.mul(e.ONE,o),c=e.pow(n,t),l=e.pow(n,s);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=rG<<BigInt(i-t-1),o=e.pow(a,n);i=t,a=e.sqr(o),c=e.mul(c,a),l=e.mul(l,o)}return l}}(e)),i(l,t))),toBytes:e=>o?rL(e,c):rM(e,c),fromBytes:e=>{if(e.length!==c)throw Error("Field.fromBytes: expected "+c+" bytes, got "+e.length);return o?rU(e):rB(eW(e))},invertBatch:e=>r6(l,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(l)}function r3(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function r4(e){let t=r3(e);return t+Math.ceil(t/2)}let r9=BigInt(0),r7=BigInt(1);function ne(e,t){let r=t.negate();return e?r:t}function nt(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function nr(e,t){nt(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:rq(e),maxNumber:i,shiftBy:BigInt(e)}}function nn(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r,a=Number(e&i),c=e>>s;a>n&&(a-=o,c+=r7);let l=t*n;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}let ni=new WeakMap,no=new WeakMap;function ns(e){return no.get(e)||1}function na(e){if(e!==r9)throw Error("invalid wNAF")}function nc(e,t){if(!t)return r8(e);if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return rz(t,r2.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),t}BigInt(0),BigInt(1),BigInt(2),BigInt(8);let nl=BigInt(0),nu=BigInt(1),nd=BigInt(2);BigInt(0);let nf=BigInt(1),nh=BigInt(2),np=BigInt(3),ng=BigInt(5),nm=BigInt(8),ny={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:nm,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function nb(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function nv(e){void 0!==e.lowS&&rT("lowS",e.lowS),void 0!==e.prehash&&rT("prehash",e.prehash)}(()=>{let e=ny.p;return function(e){let{P:t,type:r,adjustScalarBytes:n,powPminus2:i,randomBytes:o}=(rz(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})),s="x25519"===r;if(!s&&"x448"!==r)throw Error("invalid type");let a=s?255:448,c=s?32:56,l=BigInt(s?9:5),u=BigInt(s?121665:39081),d=s?nd**BigInt(254):nd**BigInt(447),f=d+(s?BigInt(8)*nd**BigInt(251)-nu:BigInt(4)*nd**BigInt(445)-nu)+nu,h=e=>rJ(e,t),p=rL(h(l),c);function g(e,r){let o=function(e,r){rF("u",e,nl,t),rF("scalar",r,d,f);let n=nu,o=nl,s=e,c=nu,l=nl;for(let t=BigInt(a-1);t>=nl;t--){let i=r>>t&nu;l^=i,({x_2:n,x_3:s}=m(l,n,s)),({x_2:o,x_3:c}=m(l,o,c)),l=i;let a=n+o,d=h(a*a),f=n-o,p=h(f*f),g=d-p,y=s+c,b=h((s-c)*a),v=h(y*f),w=b+v,E=b-v;s=h(w*w),c=h(e*h(E*E)),n=h(d*p),o=h(g*(d+h(u*g)))}return{x_2:n,x_3:s}=m(l,n,s),{x_2:o,x_3:c}=m(l,o,c),h(n*i(o))}(function(e){let t=rD("u coordinate",e,c);return s&&(t[31]&=127),h(rU(t))}(r),rU(n(rD("scalar",e,c))));if(o===nl)throw Error("invalid private or public key received");return rL(h(o),c)}function m(e,t,r){let n=h(e*(t-r));return{x_2:t=h(t-n),x_3:r=h(r+n)}}(e,t)=>g(e,t),p.slice()}({P:e,type:"x25519",powPminus2:t=>{let{pow_p_5_8:r,b2:n}=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=ny.p,s=e*e%o*e%o,a=rX(s,nh,o)*s%o,c=rX(a,nf,o)*e%o,l=rX(c,ng,o)*c%o,u=rX(l,t,o)*l%o,d=rX(u,r,o)*u%o,f=rX(d,n,o)*d%o,h=rX(f,i,o)*f%o,p=rX(h,i,o)*f%o,g=rX(p,t,o)*l%o;return{pow_p_5_8:rX(g,nh,o)*e%o,b2:s}}(t);return rJ(rX(r,np,e)*n,e)},adjustScalarBytes:nb})})();class nw extends Error{constructor(e=""){super(e)}}let nE={Err:nw,_tlv:{encode:(e,t)=>{let{Err:r}=nE;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=rk(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?rk(i.length/2|128):"";return rk(e)+o+i+t},decode(e,t){let{Err:r}=nE,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let s=t.subarray(n,n+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=nE;if(e<nC)throw new t("integer: negative integers are not allowed");let r=rk(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=nE;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return rB(eW(e))}},toSig(e){let{Err:t,_int:r,_tlv:n}=nE,i=rD("signature",e),{v:o,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=nE,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},nC=BigInt(0),nA=BigInt(1),nx=BigInt(2),nI=BigInt(3),nN=BigInt(4);function nS(e,t,r){let{BYTES:n}=e;return function(i){let o;if("bigint"==typeof i)o=i;else{let r=rD("private key",i);if(t){if(!t.includes(2*r.length))throw Error("invalid private key");let e=new Uint8Array(n);e.set(r,e.length-r.length),r=e}try{o=e.fromBytes(r)}catch(e){throw Error("invalid private key: expected ui8a of size ".concat(n,", got ").concat(typeof i))}}if(r&&(o=e.create(o)),!e.isValidNot0(o))throw Error("invalid private key: out of range [1..N-1]");return o}}function nP(e){return Uint8Array.of(e?2:3)}function nO(e,t){let r=t=>(function(e){let{CURVE:t,curveOpts:r,ecdsaOpts:n}=function(e){let{CURVE:t,curveOpts:r}=function(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:r8(t.n,e.nBitLength),allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:r}}(e);return{CURVE:t,curveOpts:r,ecdsaOpts:{hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN}}}(e),i=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rz(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=t.randomBytes||e0,i=t.hmac||function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return rO(t.hash,e,eJ(...n))},{Fp:o,Fn:s}=e,{ORDER:a,BITS:c}=s;function l(e,t){if(!s.isValidNot0(t))throw Error("invalid signature ".concat(e,": out of range 1..CURVE.n"))}class u{static fromCompact(e){let t=s.BYTES,r=rD("compactSignature",e,2*t);return new u(s.fromBytes(r.subarray(0,t)),s.fromBytes(r.subarray(t,2*t)))}static fromDER(e){let{r:t,s:r}=nE.toSig(rD("DER",e));return new u(t,r)}assertValidity(){}addRecoveryBit(e){return new u(this.r,this.s,e)}recoverPublicKey(t){let r=o.ORDER,{r:n,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw Error("recovery id invalid");if(a*nx<r&&c>1)throw Error("recovery id is ambiguous for h>1 curve");let l=2===c||3===c?n+a:n;if(!o.isValid(l))throw Error("recovery id 2 or 3 invalid");let u=o.toBytes(l),d=e.fromHex(eJ(nP((1&c)==0),u)),f=s.inv(l),h=p(rD("msgHash",t)),g=s.create(-h*f),m=s.create(i*f),y=e.BASE.multiplyUnsafe(g).add(d.multiplyUnsafe(m));if(y.is0())throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>a>>nA}normalizeS(){return this.hasHighS()?new u(this.r,s.neg(this.s),this.recovery):this}toBytes(e){if("compact"===e)return eJ(s.toBytes(this.r),s.toBytes(this.s));if("der"===e)return eZ(nE.hexFromSig(this));throw Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return eW(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return eW(this.toBytes("compact"))}constructor(e,t,r){l("r",e),l("s",t),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}}let d=nS(s,r.allowedPrivateKeyLengths,r.wrapPrivateKey);function f(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let n=rD("key",t).length,i=o.BYTES,a=i+1;if(!(r.allowedPrivateKeyLengths||s.BYTES===a))return n===a||n===2*i+1}let h=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=rB(eW(e)),r=8*e.length-c;return r>0?t>>BigInt(r):t},p=t.bits2int_modN||function(e){return s.create(h(e))},g=rq(c);function m(e){return rF("num < 2^"+c,e,nC,g),s.toBytes(e)}let y={lowS:t.lowS,prehash:!1},b={lowS:t.lowS,prehash:!1};return e.BASE.precompute(8),Object.freeze({getPublicKey:function(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.fromPrivateKey(t).toBytes(r)},getSharedSecret:function(t,r){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!0===f(t))throw Error("first arg must be private key");if(!1===f(r))throw Error("second arg must be public key");return e.fromHex(r).multiply(d(t)).toBytes(n)},sign:function(r,c){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,{seed:f,k2sig:g}=function(r,i){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;if(["recovered","canonical"].some(e=>e in c))throw Error("sign() legacy options not supported");let{hash:l}=t,{lowS:f,prehash:g,extraEntropy:b}=c;null==f&&(f=!0),r=rD("msgHash",r),nv(c),g&&(r=rD("prehashed msgHash",l(r)));let v=p(r),w=d(i),E=[m(w),m(v)];if(null!=b&&!1!==b){let e=!0===b?n(o.BYTES):b;E.push(rD("extraEntropy",e))}return{seed:eJ(...E),k2sig:function(t){let r=h(t);if(!s.isValidNot0(r))return;let n=s.inv(r),i=e.BASE.multiply(r).toAffine(),o=s.create(i.x);if(o===nC)return;let c=s.create(n*s.create(v+o*w));if(c===nC)return;let l=(i.x===o?0:2)|Number(i.y&nA),d=c;return f&&c>a>>nA&&(d=c>a>>nA?s.neg(c):c,l^=1),new u(o,d,l)}}}(r,c,l);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=e=>new Uint8Array(e),i=e=>Uint8Array.of(e),o=n(e),s=n(e),a=0,c=()=>{o.fill(1),s.fill(0),a=0},l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(s,o,...t)},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(0);s=l(i(0),e),o=l(),0!==e.length&&(s=l(i(1),e),o=l())},d=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(o=l()).slice();r.push(t),e+=o.length}return eJ(...r)};return(e,t)=>{let r;for(c(),u(e);!(r=t(d()));)u();return c(),r}})(t.hash.outputLen,s.BYTES,i)(f,g)},verify:function(r,n,i){let o,a,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b;n=rD("msgHash",n),i=rD("publicKey",i),nv(c);let{lowS:l,prehash:d,format:f}=c;if("strict"in c)throw Error("options.strict was renamed to lowS");if(void 0!==f&&!["compact","der","js"].includes(f))throw Error('format must be "compact", "der" or "js"');let h="string"==typeof r||eR(r),g=!h&&!f&&"object"==typeof r&&null!==r&&"bigint"==typeof r.r&&"bigint"==typeof r.s;if(!h&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g){if(void 0===f||"js"===f)o=new u(r.r,r.s);else throw Error("invalid format")}if(h){try{"compact"!==f&&(o=u.fromDER(r))}catch(e){if(!(e instanceof nE.Err))throw e}o||"der"===f||(o=u.fromCompact(r))}a=e.fromHex(i)}catch(e){return!1}if(!o||l&&o.hasHighS())return!1;d&&(n=t.hash(n));let{r:m,s:y}=o,v=p(n),w=s.inv(y),E=s.create(v*w),C=s.create(m*w),A=e.BASE.multiplyUnsafe(E).add(a.multiplyUnsafe(C));return!A.is0()&&s.create(A.x)===m},utils:{isValidPrivateKey(e){try{return d(e),!0}catch(e){return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.length,i=r3(t),o=r4(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let s=rJ(r?rU(e):rB(eW(e)),t-rG)+rG;return r?rL(s,i):rM(s,i)})(n(r4(a)),a),precompute(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.BASE;return r.precompute(t,!1)}},Point:e,Signature:u})}(function(e){var t,r,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{Fp:o,Fn:s}=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||"object"!=typeof t)throw Error("expected valid ".concat(e," CURVE object"));for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>r9))throw Error("CURVE.".concat(e," must be positive bigint"))}let n=nc(t.p,r.Fp),i=nc(t.n,r.Fn);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!n.isValid(t[r]))throw Error("CURVE.".concat(r," must be valid field element of CURVE.Fp"));return{Fp:n,Fn:i}}("weierstrass",e,i),{h:a,n:c}=e;rz(i,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:l}=i;if(l&&(!o.is0(e.a)||"bigint"!=typeof l.beta||"function"!=typeof l.splitScalar))throw Error('invalid endo: expected "beta": bigint and "splitScalar": function');function u(){if(!o.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let d=i.toBytes||function(e,t,r){let{x:n,y:i}=t.toAffine(),s=o.toBytes(n);return(rT("isCompressed",r),r)?(u(),eJ(nP(!o.isOdd(i)),s)):eJ(Uint8Array.of(4),s,o.toBytes(i))},f=i.fromBytes||function(e){ek(e);let t=o.BYTES,r=t+1,n=2*t+1,i=e.length,s=e[0],a=e.subarray(1);if(i===r&&(2===s||3===s)){let e;let t=o.fromBytes(a);if(!o.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=h(t);try{e=o.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return u(),(1&s)==1!==o.isOdd(e)&&(e=o.neg(e)),{x:t,y:e}}if(i===n&&4===s){let e=o.fromBytes(a.subarray(0*t,1*t)),r=o.fromBytes(a.subarray(1*t,2*t));if(!p(e,r))throw Error("bad point: is not on curve");return{x:e,y:r}}throw Error("bad point: got length ".concat(i,", expected compressed=").concat(r," or uncompressed=").concat(n))},h=(t=e.a,r=e.b,function(e){let n=o.sqr(e),i=o.mul(n,e);return o.add(o.add(i,o.mul(e,t)),r)});function p(e,t){let r=o.sqr(t),n=h(e);return o.eql(r,n)}if(!p(e.Gx,e.Gy))throw Error("bad curve params: generator point");let g=o.mul(o.pow(e.a,nI),nN),m=o.mul(o.sqr(e.b),BigInt(27));if(o.is0(o.add(g,m)))throw Error("bad curve params: a or b");function y(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!o.isValid(t)||r&&o.is0(t))throw Error("bad point coordinate ".concat(e));return t}function b(e){if(!(e instanceof C))throw Error("ProjectivePoint expected")}let v=r$((e,t)=>{let{px:r,py:n,pz:i}=e;if(o.eql(i,o.ONE))return{x:r,y:n};let s=e.is0();null==t&&(t=s?o.ONE:o.inv(i));let a=o.mul(r,t),c=o.mul(n,t),l=o.mul(i,t);if(s)return{x:o.ZERO,y:o.ZERO};if(!o.eql(l,o.ONE))throw Error("invZ was invalid");return{x:a,y:c}}),w=r$(e=>{if(e.is0()){if(i.allowInfinityPoint&&!o.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:r}=e.toAffine();if(!o.isValid(t)||!o.isValid(r))throw Error("bad point: x or y not field elements");if(!p(t,r))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function E(e,t,r,n,i){return r=new C(o.mul(r.px,e),r.py,r.pz),t=ne(n,t),r=ne(i,r),t.add(r)}class C{static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!o.isValid(t)||!o.isValid(r))throw Error("invalid affine point");if(e instanceof C)throw Error("projective point not allowed");return o.is0(t)&&o.is0(r)?C.ZERO:new C(t,r,o.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){return function(e,t,r){let n=r6(e.Fp,r.map(e=>e.pz));return r.map((e,t)=>e.toAffine(n[t])).map(e.fromAffine)}(C,0,e)}static fromBytes(e){return ek(e),C.fromHex(e)}static fromHex(e){let t=C.fromAffine(f(rD("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){let t=nS(s,i.allowedPrivateKeyLengths,i.wrapPrivateKey);return C.BASE.multiply(t(e))}static msm(e,t){return function(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,o=n.length;if(i!==o)throw Error("arrays of points and scalars must have equal length");let s=e.ZERO,a=function(e){let t;for(t=0;e>r_;e>>=rR,t+=1);return t}(BigInt(i)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=rq(c),u=Array(Number(l)+1).fill(s),d=Math.floor((t.BITS-1)/c)*c,f=s;for(let e=d;e>=0;e-=c){u.fill(s);for(let t=0;t<o;t++){let i=Number(n[t]>>BigInt(e)&l);u[i]=u[i].add(r[t])}let t=s;for(let e=u.length-1,r=s;e>0;e--)r=r.add(u[e]),t=t.add(r);if(f=f.add(t),0!==e)for(let e=0;e<c;e++)f=f.double()}return f}(C,s,e,t)}precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return x.setWindowSize(this,e),t||this.multiply(nI),this}_setWindowSize(e){this.precompute(e)}assertValidity(){w(this)}hasEvenY(){let{y:e}=this.toAffine();if(!o.isOdd)throw Error("Field doesn't support isOdd");return!o.isOdd(e)}equals(e){b(e);let{px:t,py:r,pz:n}=this,{px:i,py:s,pz:a}=e,c=o.eql(o.mul(t,a),o.mul(i,n)),l=o.eql(o.mul(r,a),o.mul(s,n));return c&&l}negate(){return new C(this.px,o.neg(this.py),this.pz)}double(){let{a:t,b:r}=e,n=o.mul(r,nI),{px:i,py:s,pz:a}=this,c=o.ZERO,l=o.ZERO,u=o.ZERO,d=o.mul(i,i),f=o.mul(s,s),h=o.mul(a,a),p=o.mul(i,s);return p=o.add(p,p),u=o.mul(i,a),u=o.add(u,u),c=o.mul(t,u),l=o.mul(n,h),l=o.add(c,l),c=o.sub(f,l),l=o.add(f,l),l=o.mul(c,l),c=o.mul(p,c),u=o.mul(n,u),h=o.mul(t,h),p=o.sub(d,h),p=o.mul(t,p),p=o.add(p,u),u=o.add(d,d),d=o.add(u,d),d=o.add(d,h),d=o.mul(d,p),l=o.add(l,d),h=o.mul(s,a),h=o.add(h,h),d=o.mul(h,p),c=o.sub(c,d),u=o.mul(h,f),u=o.add(u,u),new C(c,l,u=o.add(u,u))}add(t){b(t);let{px:r,py:n,pz:i}=this,{px:s,py:a,pz:c}=t,l=o.ZERO,u=o.ZERO,d=o.ZERO,f=e.a,h=o.mul(e.b,nI),p=o.mul(r,s),g=o.mul(n,a),m=o.mul(i,c),y=o.add(r,n),v=o.add(s,a);y=o.mul(y,v),v=o.add(p,g),y=o.sub(y,v),v=o.add(r,i);let w=o.add(s,c);return v=o.mul(v,w),w=o.add(p,m),v=o.sub(v,w),w=o.add(n,i),l=o.add(a,c),w=o.mul(w,l),l=o.add(g,m),w=o.sub(w,l),d=o.mul(f,v),l=o.mul(h,m),d=o.add(l,d),l=o.sub(g,d),d=o.add(g,d),u=o.mul(l,d),g=o.add(p,p),g=o.add(g,p),m=o.mul(f,m),v=o.mul(h,v),g=o.add(g,m),m=o.sub(p,m),m=o.mul(f,m),v=o.add(v,m),p=o.mul(g,v),u=o.add(u,p),p=o.mul(w,v),l=o.mul(y,l),l=o.sub(l,p),p=o.mul(y,g),d=o.mul(w,d),new C(l,u,d=o.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(C.ZERO)}multiply(e){let t,r;let{endo:n}=i;if(!s.isValidNot0(e))throw Error("invalid scalar: out of range");let o=e=>x.wNAFCached(this,e,C.normalizeZ);if(n){let{k1neg:i,k1:s,k2neg:a,k2:c}=n.splitScalar(e),{p:l,f:u}=o(s),{p:d,f:f}=o(c);r=u.add(f),t=E(n.beta,l,d,i,a)}else{let{p:n,f:i}=o(e);t=n,r=i}return C.normalizeZ([t,r])[0]}multiplyUnsafe(e){let{endo:t}=i;if(!s.isValid(e))throw Error("invalid scalar: out of range");if(e===nC||this.is0())return C.ZERO;if(e===nA)return this;if(x.hasPrecomputes(this))return this.multiply(e);if(!t)return x.wNAFCachedUnsafe(this,e);{let{k1neg:r,k1:n,k2neg:i,k2:o}=t.splitScalar(e),{p1:s,p2:a}=function(e,t,r,n){let i=t,o=e.ZERO,s=e.ZERO;for(;r>r9||n>r9;)r&r7&&(o=o.add(i)),n&r7&&(s=s.add(i)),i=i.double(),r>>=r7,n>>=r7;return{p1:o,p2:s}}(C,this,n,o);return E(t.beta,s,a,r,i)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return v(this,e)}isTorsionFree(){let{isTorsionFree:e}=i;return a===nA||(e?e(C,this):x.wNAFCachedUnsafe(this,c).is0())}clearCofactor(){let{clearCofactor:e}=i;return a===nA?this:e?e(C,this):this.multiplyUnsafe(a)}toBytes(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return rT("isCompressed",e),this.assertValidity(),d(C,this,e)}toRawBytes(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return this.toBytes(e)}toHex(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return eW(this.toBytes(e))}toString(){return"<Point ".concat(this.is0()?"ZERO":this.toHex(),">")}constructor(e,t,r){this.px=y("x",e),this.py=y("y",t,!0),this.pz=y("z",r),Object.freeze(this)}}C.BASE=new C(e.Gx,e.Gy,o.ONE),C.ZERO=new C(o.ZERO,o.ONE,o.ZERO),C.Fp=o,C.Fn=s;let A=s.BITS,x=(n=i.endo?Math.ceil(A/2):A,{constTimeNegate:ne,hasPrecomputes:e=>1!==ns(e),unsafeLadder(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.ZERO,n=e;for(;t>r9;)t&r7&&(r=r.add(n)),n=n.double(),t>>=r7;return r},precomputeWindow(e,t){let{windows:r,windowSize:i}=nr(t,n),o=[],s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,t,r){let i=C.ZERO,o=C.BASE,s=nr(e,n);for(let e=0;e<s.windows;e++){let{nextN:n,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:d}=nn(r,e,s);r=n,c?o=o.add(ne(u,t[d])):i=i.add(ne(l,t[a]))}return na(r),{p:i,f:o}},wNAFUnsafe(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C.ZERO,o=nr(e,n);for(let e=0;e<o.windows&&r!==r9;e++){let{nextN:n,offset:s,isZero:a,isNeg:c}=nn(r,e,o);if(r=n,!a){let e=t[s];i=i.add(c?e.negate():e)}}return na(r),i},getPrecomputes(e,t,r){let n=ni.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),ni.set(t,n))),n},wNAFCached(e,t,r){let n=ns(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=ns(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,t){nt(t,n),no.set(e,t),ni.delete(e)}});return C}(t,r),n,r);return Object.assign({},i,{ProjectivePoint:i.Point,CURVE:e})})({...e,hash:t});return{...r(t),create:r}}let n_={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},nR={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},nT={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},nk=r8(n_.p),nB=r8(nR.p),nU=r8(nT.p);nO({...n_,Fp:nk,lowS:!1},tA),nO({...nR,Fp:nB,lowS:!1},tI),nO({...nT,Fp:nU,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},tx);let nM="base16",nL="base64pad",nD="base64url";function nj(e){let t=tA((0,R.mL)(e,nM));return(0,R.BB)(t,nM)}function nF(e){let t=tA((0,R.mL)(e,"utf8"));return(0,R.BB)(t,nM)}function nq(e,t,r){return"".concat(e,"?wc_ev=").concat(r,"&topic=").concat(t)}var nz=Object.defineProperty,n$=Object.defineProperties,nH=Object.getOwnPropertyDescriptors,nG=Object.getOwnPropertySymbols,nW=Object.prototype.hasOwnProperty,nV=Object.prototype.propertyIsEnumerable,nK=(e,t,r)=>t in e?nz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nZ=(e,t)=>{for(var r in t||(t={}))nW.call(t,r)&&nK(e,r,t[r]);if(nG)for(var r of nG(t))nV.call(t,r)&&nK(e,r,t[r]);return e},nY=(e,t)=>n$(e,nH(t));function nJ(e){let t=[];return e.forEach(e=>{let[r,n]=e.split(":");t.push("".concat(r,":").concat(n))}),t}function nX(e){return e.includes(":")}function nQ(e){return nX(e)?e.split(":")[0]:e}function n0(e){var t,r,n;let i={};if(!n4(e))return i;for(let[o,s]of Object.entries(e)){let e=nX(o)?[o]:s.chains,a=s.methods||[],c=s.events||[],l=nQ(o);i[l]=nY(nZ({},i[l]),{chains:er(e,null==(t=i[l])?void 0:t.chains),methods:er(a,null==(r=i[l])?void 0:r.methods),events:er(c,null==(n=i[l])?void 0:n.events)})}return i}function n1(e,t){let r=function(e){let t={};return null==e||e.forEach(e=>{var r;let[n,i]=e.split(":");t[n]||(t[n]={accounts:[],chains:[],events:[],methods:[]}),t[n].accounts.push(e),null==(r=t[n].chains)||r.push("".concat(n,":").concat(i))}),t}(t=t.map(e=>e.replace("did:pkh:","")));for(let[t,n]of Object.entries(r))n.methods?n.methods=er(n.methods,e):n.methods=e,n.events=["chainChanged","accountsChanged"];return r}let n2={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},n6={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function n5(e,t){let{message:r,code:n}=n6[e];return{message:t?"".concat(r," ").concat(t):r,code:n}}function n8(e,t){let{message:r,code:n}=n2[e];return{message:t?"".concat(r," ").concat(t):r,code:n}}function n3(e,t){return!!Array.isArray(e)&&(!("u">typeof t)||!e.length||e.every(t))}function n4(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function n9(e){return typeof e>"u"}function n7(e,t){return!!(t&&n9(e))||"string"==typeof e&&!!e.trim().length}function ie(e,t){return!!(t&&n9(e))||"number"==typeof e&&!isNaN(e)}function it(e){return!!(n7(e,!1)&&e.includes(":"))&&2===e.split(":").length}function ir(e){let t=!0;return n3(e)?e.length&&(t=e.every(e=>n7(e,!1))):t=!1,t}function ii(e,t){let r=null;return Object.values(e).forEach(e=>{var n;let i;if(r)return;let o=(n="".concat(t,", namespace"),i=null,ir(null==e?void 0:e.methods)?ir(null==e?void 0:e.events)||(i=n8("UNSUPPORTED_EVENTS","".concat(n,", events should be an array of strings or empty array for no events"))):i=n8("UNSUPPORTED_METHODS","".concat(n,", methods should be an array of strings or empty array for no methods")),i);o&&(r=o)}),r}function io(e,t){let r=null;if(e&&n4(e)){let n;let i=ii(e,t);i&&(r=i);let o=(n=null,Object.values(e).forEach(e=>{var r,i;let o;if(n)return;let s=(r=null==e?void 0:e.accounts,i="".concat(t," namespace"),o=null,n3(r)?r.forEach(e=>{o||function(e){if(n7(e,!1)&&e.includes(":")){let t=e.split(":");if(3===t.length){let e=t[0]+":"+t[1];return!!t[2]&&it(e)}}return!1}(e)||(o=n8("UNSUPPORTED_ACCOUNTS","".concat(i,", account ").concat(e,' should be a string and conform to "namespace:chainId:address" format')))}):o=n8("UNSUPPORTED_ACCOUNTS","".concat(i,', accounts should be an array of strings conforming to "namespace:chainId:address" format')),o);s&&(n=s)}),n);o&&(r=o)}else r=n5("MISSING_OR_INVALID","".concat(t,", namespaces should be an object with data"));return r}function is(e){return n7(e.protocol,!0)}function ia(e){return"u">typeof e}function ic(e,t){return!(!it(t)||!(function(e){let t=[];return Object.values(e).forEach(e=>{t.push(...nJ(e.accounts))}),t})(e).includes(t))}function il(e,t,r){let n=null,i=function(e){let t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:null==(n=e[r].chains)||n.forEach(n=>{t[n]={methods:e[r].methods,events:e[r].events}})}),t}(e),o=function(e){let t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{let n=nJ(e[r].accounts);null==n||n.forEach(n=>{t[n]={accounts:e[r].accounts.filter(e=>e.includes("".concat(n,":"))),methods:e[r].methods,events:e[r].events}})}}),t}(t),s=Object.keys(i),a=Object.keys(o),c=iu(Object.keys(e)),l=iu(Object.keys(t)),u=c.filter(e=>!l.includes(e));return u.length&&(n=n5("NON_CONFORMING_NAMESPACES","".concat(r," namespaces keys don't satisfy requiredNamespaces.\n      Required: ").concat(u.toString(),"\n      Received: ").concat(Object.keys(t).toString()))),J(s,a)||(n=n5("NON_CONFORMING_NAMESPACES","".concat(r," namespaces chains don't satisfy required namespaces.\n      Required: ").concat(s.toString(),"\n      Approved: ").concat(a.toString()))),Object.keys(t).forEach(e=>{if(!e.includes(":")||n)return;let i=nJ(t[e].accounts);i.includes(e)||(n=n5("NON_CONFORMING_NAMESPACES","".concat(r," namespaces accounts don't satisfy namespace accounts for ").concat(e,"\n        Required: ").concat(e,"\n        Approved: ").concat(i.toString())))}),s.forEach(e=>{n||(J(i[e].methods,o[e].methods)?J(i[e].events,o[e].events)||(n=n5("NON_CONFORMING_NAMESPACES","".concat(r," namespaces events don't satisfy namespace events for ").concat(e))):n=n5("NON_CONFORMING_NAMESPACES","".concat(r," namespaces methods don't satisfy namespace methods for ").concat(e)))}),n}function iu(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}let id={};class ih{static get(e){return id[e]}static set(e,t){id[e]=t}static delete(e){delete id[e]}}function ip(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}var ig=r(5276);let im="client",iy="".concat("wc","@").concat(2,":").concat(im,":"),ib={name:im,logger:"error"},iv="WALLETCONNECT_DEEPLINK_CHOICE",iw="Proposal expired",iE=m.SEVEN_DAYS,iC={wc_sessionPropose:{req:{ttl:m.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:m.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:m.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:m.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:m.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:m.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:m.ONE_DAY,prompt:!1,tag:1104},res:{ttl:m.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:m.ONE_DAY,prompt:!1,tag:1106},res:{ttl:m.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:m.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:m.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:m.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:m.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:m.ONE_DAY,prompt:!1,tag:1112},res:{ttl:m.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:m.ONE_DAY,prompt:!1,tag:1114},res:{ttl:m.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:m.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:m.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:m.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:m.FIVE_MINUTES,prompt:!1,tag:1119}}},iA={min:m.FIVE_MINUTES,max:m.SEVEN_DAYS},ix={idle:"IDLE",active:"ACTIVE"},iI={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},iN=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],iS="".concat("wc","@",1.5,":").concat("auth",":"),iP="".concat(iS,":PUB_KEY");var iO=Object.defineProperty,i_=Object.defineProperties,iR=Object.getOwnPropertyDescriptors,iT=Object.getOwnPropertySymbols,ik=Object.prototype.hasOwnProperty,iB=Object.prototype.propertyIsEnumerable,iU=(e,t,r)=>t in e?iO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,iM=(e,t)=>{for(var r in t||(t={}))ik.call(t,r)&&iU(e,r,t[r]);if(iT)for(var r of iT(t))iB.call(t,r)&&iU(e,r,t[r]);return e},iL=(e,t)=>i_(e,iR(t)),iD=(e,t,r)=>iU(e,"symbol"!=typeof t?t+"":t,r);class ij extends g{async processPendingMessageEvents(){try{let e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(let[e,r]of Object.entries(t))for(let t of r)try{await this.onProviderMessageEvent({topic:e,message:t,publishedAt:Date.now()})}catch(r){this.client.logger.warn("Error processing pending message event for topic: ".concat(e,", message: ").concat(t))}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){let{message:e}=n5("NOT_INITIALIZED",this.name);throw Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(a.Mb.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){let{topic:t,message:r,attestation:n,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(iP)?this.client.auth.authKeys.get(iP):{responseTopic:void 0,publicKey:void 0};try{let e=await this.client.core.crypto.decode(t,r,{receiverPublicKey:o,encoding:i===a.QZ.link_mode?nD:nL});(0,ig.isJsonRpcRequest)(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:n,transportType:i,encryptedId:nF(r)})):(0,ig.isJsonRpcResponse)(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i}),await this.client.core.relayer.messages.ack(t,r)}catch(e){this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(a.i9.expired,async e=>{let{topic:t,id:r}=function(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else if("id"===t&&Number.isInteger(Number(r)))n.id=Number(r);else throw Error("Invalid target, expected id:number or topic:string, got ".concat(t,":").concat(r));return n}(e.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,n5("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,n5("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))})}registerPairingEvents(){this.client.core.pairing.events.on(a.I8.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(a.I8.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!n7(e,!1)){let{message:t}=n5("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e));throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=n5("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e));throw Error(t)}if(ee(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=n5("EXPIRED","pairing topic: ".concat(e));throw Error(t)}}async isValidSessionTopic(e){if(!n7(e,!1)){let{message:t}=n5("MISSING_OR_INVALID","session topic should be a string: ".concat(e));throw Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:t}=n5("NO_MATCHING_KEY","session topic doesn't exist: ".concat(e));throw Error(t)}if(ee(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:t}=n5("EXPIRED","session topic: ".concat(e));throw Error(t)}if(!this.client.core.crypto.keychain.has(e)){let{message:t}=n5("MISSING_OR_INVALID","session topic does not exist in keychain: ".concat(e));throw await this.deleteSession({topic:e}),Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(n7(e,!1)){let{message:t}=n5("NO_MATCHING_KEY","session or pairing topic doesn't exist: ".concat(e));throw Error(t)}else{let{message:t}=n5("MISSING_OR_INVALID","session or pairing topic should be a string: ".concat(e));throw Error(t)}}async isValidProposalId(e){if("number"!=typeof e){let{message:t}=n5("MISSING_OR_INVALID","proposal id should be a number: ".concat(e));throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=n5("NO_MATCHING_KEY","proposal id doesn't exist: ".concat(e));throw Error(t)}if(ee(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:t}=n5("EXPIRED","proposal id: ".concat(e));throw Error(t)}}constructor(e){var t;super(e),t=this,iD(this,"name","engine"),iD(this,"events",new(u())),iD(this,"initialized",!1),iD(this,"requestQueue",{state:ix.idle,queue:[]}),iD(this,"sessionRequestQueue",{state:ix.idle,queue:[]}),iD(this,"emittedSessionRequests",new es({limit:500})),iD(this,"requestQueueDelay",m.ONE_SECOND),iD(this,"expectedPairingMethodMap",new Map),iD(this,"recentlyDeletedMap",new Map),iD(this,"recentlyDeletedLimit",200),iD(this,"relayMessageCache",[]),iD(this,"pendingSessions",new Map),iD(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(iC)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,m.toMiliseconds)(this.requestQueueDelay)))}),iD(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let t=iL(iM({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t),t.optionalNamespaces=function(e,t){var r,n,i,o,s,a;let c=n0(e),l=n0(t),u={};for(let e of Object.keys(c).concat(Object.keys(l)))u[e]={chains:er(null==(r=c[e])?void 0:r.chains,null==(n=l[e])?void 0:n.chains),methods:er(null==(i=c[e])?void 0:i.methods,null==(o=l[e])?void 0:o.methods),events:er(null==(s=c[e])?void 0:s.events,null==(a=l[e])?void 0:a.events)};return u}(t.requiredNamespaces,t.optionalNamespaces),t.requiredNamespaces={};let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:o,scopedProperties:s,relays:c}=t,l=r,u,d=!1;try{if(l){let e=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=e.active}}catch(e){throw this.client.logger.error("connect() -> pairing.get(".concat(l,") failed")),e}if(!l||!d){let{topic:e,uri:t}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});l=e,u=t}if(!l){let{message:e}=n5("NO_MATCHING_KEY","connect() pairing topic: ".concat(l));throw Error(e)}let f=await this.client.core.crypto.generateKeyPair(),h=iC.wc_sessionPropose.req.ttl||m.FIVE_MINUTES,p=Q(h),g=iL(iM(iM({requiredNamespaces:n,optionalNamespaces:i,relays:null!=c?c:[{protocol:a.ZF}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:p,pairingTopic:l},o&&{sessionProperties:o}),s&&{scopedProperties:s}),{id:(0,ig.payloadId)()}),y=et("session_connect",g.id),{reject:b,resolve:v,done:w}=X(h,iw),E=e=>{let{id:t}=e;t===g.id&&(this.client.events.off("proposal_expire",E),this.pendingSessions.delete(g.id),this.events.emit(y,{error:{message:iw,code:0}}))};return this.client.events.on("proposal_expire",E),this.events.once(y,e=>{let{error:t,session:r}=e;this.client.events.off("proposal_expire",E),t?b(t):r&&v(r)}),await this.sendProposeSession({proposal:g,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:g.id}}}),await this.setProposal(g.id,g),{uri:u,approval:w}}),iD(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}}),iD(this,"approve",async e=>{var t,r,n;let i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=null==e?void 0:e.id)?void 0:t.toString(),trace:[a.Wk.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw i.setError(a.cQ.no_internet_connection),e}try{await this.isValidProposalId(null==e?void 0:e.id)}catch(t){throw this.client.logger.error("approve() -> proposal.get(".concat(null==e?void 0:e.id,") failed")),i.setError(a.cQ.proposal_not_found),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(a.cQ.session_approve_namespace_validation_failure),e}let{id:o,relayProtocol:s,namespaces:c,sessionProperties:l,scopedProperties:u,sessionConfig:d}=e,f=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:i.eventId});let{pairingTopic:h,proposer:p,requiredNamespaces:g,optionalNamespaces:m}=f,y=null==(r=this.client.core.eventClient)?void 0:r.getEvent({topic:h});y||(y=null==(n=this.client.core.eventClient)?void 0:n.createEvent({type:a.Wk.session_approve_started,properties:{topic:h,trace:[a.Wk.session_approve_started,a.Wk.session_namespaces_validation_success]}}));let b=await this.client.core.crypto.generateKeyPair(),v=p.publicKey,w=await this.client.core.crypto.generateSharedKey(b,v),E=iM(iM(iM({relay:{protocol:null!=s?s:"irn"},namespaces:c,controller:{publicKey:b,metadata:this.client.metadata},expiry:Q(iE)},l&&{sessionProperties:l}),u&&{scopedProperties:u}),d&&{sessionConfig:d}),C=a.QZ.relay;y.addTrace(a.Wk.subscribing_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:C,internal:{skipSubscribe:!0}})}catch(e){throw y.setError(a.cQ.subscribe_session_topic_failure),e}y.addTrace(a.Wk.subscribe_session_topic_success);let A=iL(iM({},E),{topic:w,requiredNamespaces:g,optionalNamespaces:m,pairingTopic:h,acknowledged:!1,self:E.controller,peer:{publicKey:p.publicKey,metadata:p.metadata},controller:b,transportType:a.QZ.relay});await this.client.session.set(w,A),y.addTrace(a.Wk.store_session);try{await this.sendApproveSession({sessionTopic:w,proposal:f,pairingProposalResponse:{relay:{protocol:null!=s?s:"irn"},responderPublicKey:b},sessionSettleRequest:E,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:o}}}),y.addTrace(a.Wk.session_approve_publish_success)}catch(e){throw this.client.logger.error(e),this.client.session.delete(w,n8("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(w),e}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:p.metadata}),await this.deleteProposal(o),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(w,Q(iE)),{topic:w,acknowledged:()=>Promise.resolve(this.client.session.get(w))}}),iD(this,"reject",async e=>{let t;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}let{id:r,reason:n}=e;try{t=this.client.proposal.get(r).pairingTopic}catch(e){throw this.client.logger.error("reject() -> proposal.get(".concat(r,") failed")),e}t&&await this.sendError({id:r,topic:t,error:n,rpcOpts:iC.wc_sessionPropose.reject}),await this.deleteProposal(r)}),iD(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}let{topic:t,namespaces:r}=e,{done:n,resolve:i,reject:o}=X(),s=(0,ig.payloadId)(),a=(0,ig.getBigIntRpcId)().toString(),c=this.client.session.get(t).namespaces;return this.events.once(et("session_update",s),e=>{let{error:t}=e;t?o(t):i()}),await this.client.session.update(t,{namespaces:r}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:a}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),o(e)}),{acknowledged:n}}),iD(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}let{topic:t}=e,r=(0,ig.payloadId)(),{done:n,resolve:i,reject:o}=X();return this.events.once(et("session_extend",r),e=>{let{error:t}=e;t?o(t):i()}),await this.setExpiry(t,Q(iE)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch(e=>{o(e)}),{acknowledged:n}}),iD(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}let{chainId:t,request:r,topic:n,expiry:i=iC.wc_sessionRequest.req.ttl}=e,o=this.client.session.get(n);(null==o?void 0:o.transportType)===a.QZ.relay&&await this.confirmOnlineStateOrThrow();let s=(0,ig.payloadId)(),c=(0,ig.getBigIntRpcId)().toString(),{done:l,resolve:u,reject:d}=X(i,"Request expired. Please try again.");this.events.once(et("session_request",s),e=>{let{error:t,result:r}=e;t?d(t):u(r)});let f="wc_sessionRequest",h=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(h)return await this.sendRequest({clientRpcId:s,relayRpcId:c,topic:n,method:f,params:{request:iL(iM({},r),{expiryTimestamp:Q(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:h}).catch(e=>d(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:s}),await l();let p={request:iL(iM({},r),{expiryTimestamp:Q(i)}),chainId:t};return await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:s,relayRpcId:c,topic:n,method:f,params:p,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(s,p)}).catch(e=>d(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:s}),e()}),new Promise(async e=>{var t;if(!(null!=(t=o.sessionConfig)&&t.disableDeepLink)){let e=await ei(this.client.core.storage,iv);await en({id:s,topic:n,wcDeepLink:e})}e()}),l()]).then(e=>e[2])}),iD(this,"respond",async e=>{this.isInitialized(),await this.isValidRespond(e);let{topic:t,response:r}=e,{id:n}=r,i=this.client.session.get(t);i.transportType===a.QZ.relay&&await this.confirmOnlineStateOrThrow();let o=this.getAppLinkIfEnabled(i.peer.metadata,i.transportType);(0,ig.isJsonRpcResult)(r)?await this.sendResult({id:n,topic:t,result:r.result,throwOnFailedPublish:!0,appLink:o}):(0,ig.isJsonRpcError)(r)&&await this.sendError({id:n,topic:t,error:r.error,appLink:o}),this.cleanupAfterResponse(e)}),iD(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=(0,ig.payloadId)(),r=(0,ig.getBigIntRpcId)().toString(),{done:n,resolve:i,reject:o}=X();this.events.once(et("session_ping",e),e=>{let{error:t}=e;t?o(t):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:r}),n()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),iD(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);let{topic:t,event:r,chainId:n}=e,i=(0,ig.getBigIntRpcId)().toString(),o=(0,ig.payloadId)();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:n},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:o})}),iD(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);let{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:n8("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{let{message:e}=n5("MISMATCHED_TOPIC","Session or pairing topic not found: ".concat(t));throw Error(e)}}),iD(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(function(e,t){let{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r),o=!0;return!!J(i,n)&&(n.forEach(t=>{let{accounts:n,methods:i,events:s}=e.namespaces[t],a=nJ(n),c=r[t];J(M(t,c),a)&&J(c.methods,i)&&J(c.events,s)||(o=!1)}),o)})(t,e)))),iD(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),iD(this,"authenticate",async(e,t)=>{var r,n,i;let o;this.isInitialized(),this.isValidAuthenticate(e);let s=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(r=this.client.metadata.redirect)?void 0:r.linkMode),c=s?a.QZ.link_mode:a.QZ.relay;c===a.QZ.relay&&await this.confirmOnlineStateOrThrow();let{chains:l,statement:u="",uri:d,domain:f,nonce:h,type:p,exp:g,nbf:m,methods:y=[],expiry:b}=e,v=[...e.resources||[]],{topic:w,uri:E}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:w,uri:E}});let C=await this.client.core.crypto.generateKeyPair(),A=nj(C);if(await Promise.all([this.client.auth.authKeys.set(iP,{responseTopic:A,publicKey:C}),this.client.auth.pairingTopics.set(A,{topic:A,pairingTopic:w})]),await this.client.core.relayer.subscribe(A,{transportType:c}),this.client.logger.info("sending request to new pairing topic: ".concat(w)),y.length>0){let{namespace:e}=U(l[0]),t=t5(function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null==r||r.sort((e,t)=>e.localeCompare(t)),{att:{[e]:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.assign({},...(t=null==t?void 0:t.sort((e,t)=>e.localeCompare(t))).map(t=>({["".concat(e,"/").concat(t)]:[r]})))}(t,r,n)}}}(e,"request",y));t9(v)&&(n=t,i=v.pop(),t=t5(function(e,t){t6(e),t6(t);let r=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),n={att:{}};return r.forEach(r=>{var i,o;Object.keys((null==(i=e.att)?void 0:i[r])||{}).concat(Object.keys((null==(o=t.att)?void 0:o[r])||{})).sort((e,t)=>e.localeCompare(t)).forEach(i=>{var o,s;n.att[r]=tY(tZ({},n.att[r]),{[i]:(null==(o=e.att[r])?void 0:o[i])||(null==(s=t.att[r])?void 0:s[i])})})}),n}(t8(n),t8(i)))),v.push(t)}let x=b&&b>iC.wc_sessionAuthenticate.req.ttl?b:iC.wc_sessionAuthenticate.req.ttl,I={authPayload:{type:null!=p?p:"caip122",chains:l,statement:u,aud:d,domain:f,version:"1",nonce:h,iat:new Date().toISOString(),exp:g,nbf:m,resources:v},requester:{publicKey:C,metadata:this.client.metadata},expiryTimestamp:Q(x)},N={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:l,methods:[...new Set(["personal_sign",...y])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:w,proposer:{publicKey:C,metadata:this.client.metadata},expiryTimestamp:Q(iC.wc_sessionPropose.req.ttl),id:(0,ig.payloadId)()},{done:S,resolve:P,reject:O}=X(x,"Request expired"),_=(0,ig.payloadId)(),R=et("session_connect",N.id),T=et("session_request",_),k=async e=>{let{error:t,session:r}=e;this.events.off(T,B),t?O(t):r&&P({session:r})},B=async e=>{var r,n,i;let o;if(await this.deletePendingAuthRequest(_,{message:"fulfilled",code:0}),e.error){let t=n8("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(R,k),O(e.error.message))}await this.deleteProposal(N.id),this.events.off(R,k);let{cacaos:s,responder:l}=e.result,u=[],d=[];for(let e of s){await t1({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),O(n8("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:t}=e,r=t9(t.resources),n=[tQ(t.iss)],i=t0(t.iss);if(r){let e=t3(r),t=t4(r);u.push(...e),n.push(...t)}for(let e of n)d.push("".concat(e,":").concat(i))}let f=await this.client.core.crypto.generateSharedKey(C,l.publicKey);u.length>0&&(o={topic:f,acknowledged:!0,self:{publicKey:C,metadata:this.client.metadata},peer:l,controller:l.publicKey,expiry:Q(iE),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:w,namespaces:n1([...new Set(u)],[...new Set(d)]),transportType:c},await this.client.core.relayer.subscribe(f,{transportType:c}),await this.client.session.set(f,o),w&&await this.client.core.pairing.updateMetadata({topic:w,metadata:l.metadata}),o=this.client.session.get(f)),null!=(r=this.client.metadata.redirect)&&r.linkMode&&null!=(n=l.metadata.redirect)&&n.linkMode&&null!=(i=l.metadata.redirect)&&i.universal&&t&&(this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.session.update(f,{transportType:a.QZ.link_mode})),P({auths:s,session:o})};this.events.once(R,k),this.events.once(T,B);try{if(s){let e=(0,ig.formatJsonRpcRequest)("wc_sessionAuthenticate",I,_);this.client.core.history.set(w,e);let r=await this.client.core.crypto.encode("",e,{type:2,encoding:nD});o=nq(t,w,r)}else await Promise.all([this.sendRequest({topic:w,method:"wc_sessionAuthenticate",params:I,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:_}),this.sendRequest({topic:w,method:"wc_sessionPropose",params:N,expiry:iC.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:N.id})])}catch(e){throw this.events.off(R,k),this.events.off(T,B),e}return await this.setProposal(N.id,N),await this.setAuthRequest(_,{request:iL(iM({},I),{verifyContext:{}}),pairingTopic:w,transportType:c}),{uri:null!=o?o:E,response:S}}),iD(this,"approveSessionAuthenticate",async e=>{let t;let{id:r,auths:n}=e,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[a.t7.authenticated_session_approve_started]}});try{this.isInitialized()}catch(e){throw i.setError(a.E9.no_internet_connection),e}let o=this.getPendingAuthRequest(r);if(!o)throw i.setError(a.E9.authenticated_session_pending_request_not_found),Error("Could not find pending auth request with id ".concat(r));let s=o.transportType||a.QZ.relay;s===a.QZ.relay&&await this.confirmOnlineStateOrThrow();let c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=nj(c),d={type:1,receiverPublicKey:c,senderPublicKey:l},f=[],h=[];for(let e of n){if(!await t1({cacao:e,projectId:this.client.core.projectId})){i.setError(a.E9.invalid_cacao);let e=n8("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:e,encodeOpts:d}),Error(e.message)}i.addTrace(a.t7.cacaos_verified);let{p:t}=e,n=t9(t.resources),o=[tQ(t.iss)],s=t0(t.iss);if(n){let e=t3(n),t=t4(n);f.push(...e),o.push(...t)}for(let e of o)h.push("".concat(e,":").concat(s))}let p=await this.client.core.crypto.generateSharedKey(l,c);if(i.addTrace(a.t7.create_authenticated_session_topic),(null==f?void 0:f.length)>0){t={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Q(iE),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:n1([...new Set(f)],[...new Set(h)]),transportType:s},i.addTrace(a.t7.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:s})}catch(e){throw i.setError(a.E9.subscribe_authenticated_session_topic_failure),e}i.addTrace(a.t7.subscribe_authenticated_session_topic_success),await this.client.session.set(p,t),i.addTrace(a.t7.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(a.t7.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:n,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,s)})}catch(e){throw i.setError(a.E9.authenticated_session_approve_publish_failure),e}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:t}}),iD(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();let{id:t,reason:r}=e,n=this.getPendingAuthRequest(t);if(!n)throw Error("Could not find pending auth request with id ".concat(t));n.transportType===a.QZ.relay&&await this.confirmOnlineStateOrThrow();let i=n.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),s=nj(i);await this.sendError({id:t,topic:s,error:r,encodeOpts:{type:1,receiverPublicKey:i,senderPublicKey:o},rpcOpts:iC.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)}),iD(this,"formatAuthMessage",e=>{this.isInitialized();let{request:t,iss:r}=e;return t2(t,r)}),iD(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),iD(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{let t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter(r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic});if(0===r.length)return;this.client.logger.info("Cleaning up ".concat(r.length," duplicate pairing(s)")),await Promise.all(r.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}}),iD(this,"deleteSession",async e=>{var t;let{topic:r,expirerHasDeleted:n=!1,emitEvent:i=!0,id:o=0}=e,{self:s}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,n8("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(s.publicKey)&&await this.client.core.crypto.deleteKeyPair(s.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(iv).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===r&&this.deletePendingSessionRequest(e.id,n8("USER_DISCONNECTED"))}),r===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=ix.idle),i&&this.client.events.emit("session_delete",{id:o,topic:r})}),iD(this,"deleteProposal",async(e,t)=>{if(t)try{let t=this.client.proposal.get(e),r=this.client.core.eventClient.getEvent({topic:t.pairingTopic});null==r||r.setError(a.cQ.proposal_expired)}catch(e){}await Promise.all([this.client.proposal.delete(e,n8("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),iD(this,"deletePendingSessionRequest",async function(e,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.pendingRequest.delete(e,r),n?Promise.resolve():t.client.core.expirer.del(e)]),t.addToRecentlyDeleted(e,"request"),t.sessionRequestQueue.queue=t.sessionRequestQueue.queue.filter(t=>t.id!==e),n&&(t.sessionRequestQueue.state=ix.idle,t.client.events.emit("session_request_expire",{id:e}))}),iD(this,"deletePendingAuthRequest",async function(e,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.auth.requests.delete(e,r),n?Promise.resolve():t.client.core.expirer.del(e)])}),iD(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),iD(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,Q(iC.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),iD(this,"setAuthRequest",async(e,t)=>{let{request:r,pairingTopic:n,transportType:i=a.QZ.relay}=t;this.client.core.expirer.set(e,r.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:e,pairingTopic:n,verifyContext:r.verifyContext,transportType:i})}),iD(this,"setPendingSessionRequest",async e=>{let{id:t,topic:r,params:n,verifyContext:i}=e,o=n.request.expiryTimestamp||Q(iC.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,o),await this.client.pendingRequest.set(t,{id:t,topic:r,params:n,verifyContext:i})}),iD(this,"sendRequest",async e=>{let t,n;let{topic:i,method:o,params:s,expiry:a,relayRpcId:c,clientRpcId:l,throwOnFailedPublish:u,appLink:d,tvf:f,publishOpts:h={}}=e,p=(0,ig.formatJsonRpcRequest)(o,s,l),g=!!d;try{let e=g?nD:nL;t=await this.client.core.crypto.encode(i,p,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error("sendRequest() -> core.crypto.encode() for topic ".concat(i," failed")),e}if(iN.includes(o)){let e=nF(JSON.stringify(p)),r=nF(t);n=await this.client.core.verify.register({id:r,decryptedId:e})}let m=iM(iM({},iC[o].req),h);if(m.attestation=n,a&&(m.ttl=a),c&&(m.id=c),this.client.core.history.set(i,p),g){let e=nq(d,i,t);await r.g.Linking.openURL(e,this.client.name)}else m.tvf=iL(iM({},f),{correlationId:p.id}),u?(m.internal=iL(iM({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,t,m)):this.client.core.relayer.publish(i,t,m).catch(e=>this.client.logger.error(e));return p.id}),iD(this,"sendProposeSession",async e=>{let{proposal:t,publishOpts:r}=e,n=(0,ig.formatJsonRpcRequest)("wc_sessionPropose",t,t.id);this.client.core.history.set(t.pairingTopic,n);let i=await this.client.core.crypto.encode(t.pairingTopic,n,{encoding:nL}),o=nF(JSON.stringify(n)),s=nF(i),a=await this.client.core.verify.register({id:s,decryptedId:o});await this.client.core.relayer.publishCustom({payload:{pairingTopic:t.pairingTopic,sessionProposal:i},opts:iL(iM({},r),{publishMethod:"wc_proposeSession",attestation:a})})}),iD(this,"sendApproveSession",async e=>{let{sessionTopic:t,pairingProposalResponse:r,proposal:n,sessionSettleRequest:i,publishOpts:o}=e,s=(0,ig.formatJsonRpcResult)(n.id,r),a=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:nL}),c=(0,ig.formatJsonRpcRequest)("wc_sessionSettle",i,null==o?void 0:o.id),l=await this.client.core.crypto.encode(t,c,{encoding:nL});this.client.core.history.set(t,c),await this.client.core.relayer.publishCustom({payload:{sessionTopic:t,pairingTopic:n.pairingTopic,sessionProposalResponse:a,sessionSettlementRequest:l},opts:iL(iM({},o),{publishMethod:"wc_approveSession"})})}),iD(this,"sendResult",async e=>{let t,n,i;let{id:o,topic:s,result:a,throwOnFailedPublish:c,encodeOpts:l,appLink:u}=e,d=(0,ig.formatJsonRpcResult)(o,a),f=u&&"u">typeof(null==r.g?void 0:r.g.Linking);try{let e=f?nD:nL;t=await this.client.core.crypto.encode(s,d,iL(iM({},l||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error("sendResult() -> core.crypto.encode() for topic ".concat(s," failed")),e}try{let e=(n=await this.client.core.history.get(s,o)).request;try{i=this.getTVFParams(o,e.params,a)}catch(e){this.client.logger.warn("sendResult() -> getTVFParams() failed: ".concat(null==e?void 0:e.message))}}catch(e){throw this.client.logger.error("sendResult() -> history.get(".concat(s,", ").concat(o,") failed")),e}if(f){let e=nq(u,s,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=iC[n.request.method].res;e.tvf=iL(iM({},i),{correlationId:o}),c?(e.internal=iL(iM({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,t,e)):this.client.core.relayer.publish(s,t,e).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(d)}),iD(this,"sendError",async e=>{let t,n;let{id:i,topic:o,error:s,encodeOpts:a,rpcOpts:c,appLink:l}=e,u=(0,ig.formatJsonRpcError)(i,s),d=l&&"u">typeof(null==r.g?void 0:r.g.Linking);try{let e=d?nD:nL;t=await this.client.core.crypto.encode(o,u,iL(iM({},a||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error("sendError() -> core.crypto.encode() for topic ".concat(o," failed")),e}try{n=await this.client.core.history.get(o,i)}catch(e){throw this.client.logger.error("sendError() -> history.get(".concat(o,", ").concat(i,") failed")),e}if(d){let e=nq(l,o,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=n.request.method,r=c||iC[e].res;this.client.core.relayer.publish(o,t,r)}await this.client.core.history.resolve(u)}),iD(this,"cleanup",async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{let r=!1;ee(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{ee(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),iD(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),iD(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),iD(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===ix.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info("Request queue starting with ".concat(this.requestQueue.queue.length," requests"));this.requestQueue.queue.length>0;){this.requestQueue.state=ix.active;let e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=ix.idle}),iD(this,"processRequest",async e=>{let{topic:t,payload:r,attestation:n,transportType:i,encryptedId:o}=e,s=r.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:s}))switch(s){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:r,attestation:n,encryptedId:o});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,r);case"wc_sessionPing":return await this.onSessionPingRequest(t,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:r,attestation:n,encryptedId:o,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:r,attestation:n,encryptedId:o,transportType:i});default:return this.client.logger.info("Unsupported request method ".concat(s))}}),iD(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r,transportType:n}=e,i=(await this.client.core.history.get(t,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r,n);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,r);default:return this.client.logger.info("Unsupported response method ".concat(i))}}),iD(this,"onRelayEventUnknownPayload",e=>{let{topic:t}=e,{message:r}=n5("MISSING_OR_INVALID","Decoded payload on topic ".concat(t," is not identifiable as a JSON-RPC request or a response."));throw Error(r)}),iD(this,"shouldIgnorePairingRequest",e=>{let{topic:t,requestMethod:r}=e,n=this.expectedPairingMethodMap.get(t);return!(!n||n.includes(r))&&!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),iD(this,"onSessionProposeRequest",async e=>{let{topic:t,payload:r,attestation:n,encryptedId:i}=e,{params:o,id:s}=r;try{let e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),null==e||e.setError(a.jb.proposal_listener_not_found)),this.isValidConnect(iM({},r.params));let c=o.expiryTimestamp||Q(iC.wc_sessionPropose.req.ttl),l=iM({id:s,pairingTopic:t,expiryTimestamp:c,attestation:n,encryptedId:i},o);await this.setProposal(s,l);let u=await this.getVerifyContext({attestationId:n,hash:nF(JSON.stringify(r)),encryptedId:i,metadata:l.proposer.metadata});null==e||e.addTrace(a.ne.emit_session_proposal),this.client.events.emit("session_proposal",{id:s,params:l,verifyContext:u})}catch(e){await this.sendError({id:s,topic:t,error:e,rpcOpts:iC.wc_sessionPropose.autoReject}),this.client.logger.error(e)}}),iD(this,"onSessionProposeResponse",async(e,t,r)=>{let{id:n}=t;if((0,ig.isJsonRpcResult)(t)){let{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});let o=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});let s=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:s});let a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});let c=await this.client.core.crypto.generateSharedKey(s,a);this.pendingSessions.set(n,{sessionTopic:c,pairingTopic:e,proposalId:n,publicKey:s});let l=await this.client.core.relayer.subscribe(c,{transportType:r});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if((0,ig.isJsonRpcError)(t)){await this.deleteProposal(n);let e=et("session_connect",n);if(0===this.events.listenerCount(e))throw Error("emitting ".concat(e," without any listeners, 954"));this.events.emit(e,{error:t.error})}}),iD(this,"onSessionSettleRequest",async(e,t)=>{let{id:r,params:n}=t;try{this.isValidSessionSettleRequest(n);let{relay:r,controller:i,expiry:o,namespaces:s,sessionProperties:c,scopedProperties:l,sessionConfig:u}=t.params,d=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!d)return this.client.logger.error("Pending session not found for topic ".concat(e));let f=this.client.proposal.get(d.proposalId),h=iL(iM(iM(iM({topic:e,relay:r,expiry:o,namespaces:s,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:f.requiredNamespaces,optionalNamespaces:f.optionalNamespaces,controller:i.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},c&&{sessionProperties:c}),l&&{scopedProperties:l}),u&&{sessionConfig:u}),{transportType:a.QZ.relay});await this.client.session.set(h.topic,h),await this.setExpiry(h.topic,h.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:h.peer.metadata}),this.client.events.emit("session_connect",{session:h}),this.events.emit(et("session_connect",d.proposalId),{session:h}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(h),await this.sendResult({id:t.id,topic:e,result:!0})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),iD(this,"onSessionSettleResponse",async(e,t)=>{let{id:r}=t;(0,ig.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(et("session_approve",r),{})):(0,ig.isJsonRpcError)(t)&&(await this.client.session.delete(e,n8("USER_DISCONNECTED")),this.events.emit(et("session_approve",r),{error:t.error}))}),iD(this,"onSessionUpdateRequest",async(e,t)=>{let{params:r,id:n}=t;try{let t="".concat(e,"_session_update"),i=ih.get(t);if(i&&this.isRequestOutOfSync(i,n)){this.client.logger.warn("Discarding out of sync request - ".concat(n)),this.sendError({id:n,topic:e,error:n8("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(iM({topic:e},r));try{ih.set(t,n),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:e,result:!0})}catch(e){throw ih.delete(t),e}this.client.events.emit("session_update",{id:n,topic:e,params:r})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),iD(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),iD(this,"onSessionUpdateResponse",(e,t)=>{let{id:r}=t,n=et("session_update",r);if(0===this.events.listenerCount(n))throw Error("emitting ".concat(n," without any listeners"));(0,ig.isJsonRpcResult)(t)?this.events.emit(et("session_update",r),{}):(0,ig.isJsonRpcError)(t)&&this.events.emit(et("session_update",r),{error:t.error})}),iD(this,"onSessionExtendRequest",async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,Q(iE)),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),iD(this,"onSessionExtendResponse",(e,t)=>{let{id:r}=t,n=et("session_extend",r);if(0===this.events.listenerCount(n))throw Error("emitting ".concat(n," without any listeners"));(0,ig.isJsonRpcResult)(t)?this.events.emit(et("session_extend",r),{}):(0,ig.isJsonRpcError)(t)&&this.events.emit(et("session_extend",r),{error:t.error})}),iD(this,"onSessionPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),iD(this,"onSessionPingResponse",(e,t)=>{let{id:r}=t,n=et("session_ping",r);setTimeout(()=>{if(0===this.events.listenerCount(n))throw Error("emitting ".concat(n," without any listeners 2176"));(0,ig.isJsonRpcResult)(t)?this.events.emit(et("session_ping",r),{}):(0,ig.isJsonRpcError)(t)&&this.events.emit(et("session_ping",r),{error:t.error})},500)}),iD(this,"onSessionDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise(t=>{this.client.core.relayer.once(a.Mb.publish,async()=>{t(await this.deleteSession({topic:e,id:r}))})}),this.sendResult({id:r,topic:e,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:n8("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(e){this.client.logger.error(e)}}),iD(this,"onSessionRequest",async e=>{var t,r,n;let{topic:i,payload:o,attestation:s,encryptedId:c,transportType:l}=e,{id:u,params:d}=o;try{await this.isValidRequest(iM({topic:i},d));let e=this.client.session.get(i),o=await this.getVerifyContext({attestationId:s,hash:nF(JSON.stringify((0,ig.formatJsonRpcRequest)("wc_sessionRequest",d,u))),encryptedId:c,metadata:e.peer.metadata,transportType:l}),f={id:u,topic:i,params:d,verifyContext:o};await this.setPendingSessionRequest(f),l===a.QZ.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(r=e.peer.metadata.redirect)?void 0:r.universal),null!=(n=this.client.signConfig)&&n.disableRequestQueue?this.emitSessionRequest(f):(this.addSessionRequestToSessionRequestQueue(f),this.processSessionRequestQueue())}catch(e){await this.sendError({id:u,topic:i,error:e}),this.client.logger.error(e)}}),iD(this,"onSessionRequestResponse",(e,t)=>{let{id:r}=t,n=et("session_request",r);if(0===this.events.listenerCount(n))throw Error("emitting ".concat(n," without any listeners"));(0,ig.isJsonRpcResult)(t)?this.events.emit(et("session_request",r),{result:t.result}):(0,ig.isJsonRpcError)(t)&&this.events.emit(et("session_request",r),{error:t.error})}),iD(this,"onSessionEventRequest",async(e,t)=>{let{id:r,params:n}=t;try{let t="".concat(e,"_session_event_").concat(n.event.name),i=ih.get(t);if(i&&this.isRequestOutOfSync(i,r)){this.client.logger.info("Discarding out of sync request - ".concat(r));return}this.isValidEmit(iM({topic:e},n)),this.client.events.emit("session_event",{id:r,topic:e,params:n}),ih.set(t,r)}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),iD(this,"onSessionAuthenticateResponse",(e,t)=>{let{id:r}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),(0,ig.isJsonRpcResult)(t)?this.events.emit(et("session_request",r),{result:t.result}):(0,ig.isJsonRpcError)(t)&&this.events.emit(et("session_request",r),{error:t.error})}),iD(this,"onSessionAuthenticateRequest",async e=>{var t;let{topic:r,payload:n,attestation:i,encryptedId:o,transportType:s}=e;try{let{requester:e,authPayload:c,expiryTimestamp:l}=n.params,u=await this.getVerifyContext({attestationId:i,hash:nF(JSON.stringify(n)),encryptedId:o,metadata:e.metadata,transportType:s}),d={requester:e,pairingTopic:r,id:n.id,authPayload:c,verifyContext:u,expiryTimestamp:l};await this.setAuthRequest(n.id,{request:d,pairingTopic:r,transportType:s}),s===a.QZ.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:r,params:n.params,id:n.id,verifyContext:u})}catch(o){this.client.logger.error(o);let e=n.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),i=this.getAppLinkIfEnabled(n.params.requester.metadata,s);await this.sendError({id:n.id,topic:r,error:o,encodeOpts:{type:1,receiverPublicKey:e,senderPublicKey:t},rpcOpts:iC.wc_sessionAuthenticate.autoReject,appLink:i})}}),iD(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),iD(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ix.idle,this.processSessionRequestQueue()},(0,m.toMiliseconds)(this.requestQueueDelay))}),iD(this,"cleanupPendingSentRequestsForTopic",e=>{let{topic:t,error:r}=e,n=this.client.core.history.pending;n.length>0&&n.filter(e=>e.topic===t&&"wc_sessionRequest"===e.request.method).forEach(e=>{let t=et("session_request",e.request.id);if(0===this.events.listenerCount(t))throw Error("emitting ".concat(t," without any listeners"));this.events.emit(et("session_request",e.request.id),{error:r})})}),iD(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===ix.active){this.client.logger.info("session request queue is already active.");return}let e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}}),iD(this,"emitSessionRequest",e=>{if(this.emittedSessionRequests.has(e.id)){this.client.logger.warn({id:e.id},"Skipping emitting `session_request` event for duplicate request. id: ".concat(e.id));return}this.sessionRequestQueue.state=ix.active,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e)}),iD(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;let t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,ig.formatJsonRpcRequest)("wc_sessionPropose",iL(iM({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id),attestation:t.attestation,encryptedId:t.encryptedId})}),iD(this,"isValidConnect",async e=>{let t;if(!ia(e)){let{message:t}=n5("MISSING_OR_INVALID","connect() params: ".concat(JSON.stringify(e)));throw Error(t)}let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:o,scopedProperties:s,relays:a}=e;if(n9(r)||await this.isValidPairingTopic(r),t=!1,a?a&&n3(a)&&a.length&&a.forEach(e=>{t=is(e)}):t=!0,!t){let{message:e}=n5("MISSING_OR_INVALID","connect() relays: ".concat(a));throw Error(e)}if(!n9(n)&&0!==n4(n)){let e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(n,"requiredNamespaces")}if(n9(i)||0===n4(i)||this.validateNamespaces(i,"optionalNamespaces"),n9(o)||this.validateSessionProps(o,"sessionProperties"),!n9(s)){this.validateSessionProps(s,"scopedProperties");let e=Object.keys(n||{}).concat(Object.keys(i||{}));if(!Object.keys(s).every(t=>e.includes(t.split(":")[0])))throw Error("Scoped properties must be a subset of required/optional namespaces, received: ".concat(JSON.stringify(s),", required/optional namespaces: ").concat(JSON.stringify(e)))}}),iD(this,"validateNamespaces",(e,t)=>{let r=function(e,t,r){let n=null;if(e&&n4(e)){let i;let o=ii(e,t);o&&(n=o);let s=(i=null,Object.entries(e).forEach(e=>{var n,o;let s,[a,c]=e;if(i)return;let l=(n=M(a,c),o="".concat(t," ").concat(r),s=null,n3(n)&&n.length?n.forEach(e=>{s||it(e)||(s=n8("UNSUPPORTED_CHAINS","".concat(o,", chain ").concat(e,' should be a string and conform to "namespace:chainId" format')))}):it(a)||(s=n8("UNSUPPORTED_CHAINS","".concat(o,', chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }'))),s);l&&(i=l)}),i);s&&(n=s)}else n=n5("MISSING_OR_INVALID","".concat(t,", ").concat(r," should be an object with data"));return n}(e,"connect()",t);if(r)throw Error(r.message)}),iD(this,"isValidApprove",async e=>{if(!ia(e))throw Error(n5("MISSING_OR_INVALID","approve() params: ".concat(e)).message);let{id:t,namespaces:r,relayProtocol:n,sessionProperties:i,scopedProperties:o}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);let s=this.client.proposal.get(t),a=io(r,"approve()");if(a)throw Error(a.message);let c=il(s.requiredNamespaces,r,"approve()");if(c)throw Error(c.message);if(!n7(n,!0)){let{message:e}=n5("MISSING_OR_INVALID","approve() relayProtocol: ".concat(n));throw Error(e)}if(n9(i)||this.validateSessionProps(i,"sessionProperties"),!n9(o)){this.validateSessionProps(o,"scopedProperties");let e=new Set(Object.keys(r));if(!Object.keys(o).every(t=>e.has(t.split(":")[0])))throw Error("Scoped properties must be a subset of approved namespaces, received: ".concat(JSON.stringify(o),", approved namespaces: ").concat(Array.from(e).join(", ")))}}),iD(this,"isValidReject",async e=>{if(!ia(e)){let{message:t}=n5("MISSING_OR_INVALID","reject() params: ".concat(e));throw Error(t)}let{id:t,reason:r}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!r||"object"!=typeof r||!r.code||!ie(r.code,!1)||!r.message||!n7(r.message,!1)){let{message:e}=n5("MISSING_OR_INVALID","reject() reason: ".concat(JSON.stringify(r)));throw Error(e)}}),iD(this,"isValidSessionSettleRequest",e=>{let t;if(!ia(e)){let{message:t}=n5("MISSING_OR_INVALID","onSessionSettleRequest() params: ".concat(e));throw Error(t)}let{relay:r,controller:n,namespaces:i,expiry:o}=e;if(!is(r)){let{message:e}=n5("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let s=(t=null,n7(null==n?void 0:n.publicKey,!1)||(t=n5("MISSING_OR_INVALID","".concat("onSessionSettleRequest()"," controller public key should be a string"))),t);if(s)throw Error(s.message);let a=io(i,"onSessionSettleRequest()");if(a)throw Error(a.message);if(ee(o)){let{message:e}=n5("EXPIRED","onSessionSettleRequest()");throw Error(e)}}),iD(this,"isValidUpdate",async e=>{if(!ia(e)){let{message:t}=n5("MISSING_OR_INVALID","update() params: ".concat(e));throw Error(t)}let{topic:t,namespaces:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let n=this.client.session.get(t),i=io(r,"update()");if(i)throw Error(i.message);let o=il(n.requiredNamespaces,r,"update()");if(o)throw Error(o.message)}),iD(this,"isValidExtend",async e=>{if(!ia(e)){let{message:t}=n5("MISSING_OR_INVALID","extend() params: ".concat(e));throw Error(t)}let{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),iD(this,"isValidRequest",async e=>{var t;if(!ia(e)){let{message:t}=n5("MISSING_OR_INVALID","request() params: ".concat(e));throw Error(t)}let{topic:r,request:n,chainId:i,expiry:o}=e;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);let{namespaces:s}=this.client.session.get(r);if(!ic(s,i)){let{message:e}=n5("MISSING_OR_INVALID","request() chainId: ".concat(i));throw Error(e)}if(n9(n)||!n7(n.method,!1)){let{message:e}=n5("MISSING_OR_INVALID","request() ".concat(JSON.stringify(n)));throw Error(e)}if(!(n7(t=n.method,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{nJ(e.accounts).includes(t)&&r.push(...e.methods)}),r})(s,i).includes(t))){let{message:e}=n5("MISSING_OR_INVALID","request() method: ".concat(n.method));throw Error(e)}if(o&&(!ie(o,!1)||!(o<=iA.max)||!(o>=iA.min))){let{message:e}=n5("MISSING_OR_INVALID","request() expiry: ".concat(o,". Expiry must be a number (in seconds) between ").concat(iA.min," and ").concat(iA.max));throw Error(e)}}),iD(this,"isValidRespond",async e=>{var t;if(!ia(e)){let{message:t}=n5("MISSING_OR_INVALID","respond() params: ".concat(e));throw Error(t)}let{topic:r,response:n}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=null==e?void 0:e.response)&&t.id&&this.cleanupAfterResponse(e),r}if(n9(n)||n9(n.result)&&n9(n.error)||!ie(n.id,!1)||!n7(n.jsonrpc,!1)){let{message:e}=n5("MISSING_OR_INVALID","respond() response: ".concat(JSON.stringify(n)));throw Error(e)}}),iD(this,"isValidPing",async e=>{if(!ia(e)){let{message:t}=n5("MISSING_OR_INVALID","ping() params: ".concat(e));throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),iD(this,"isValidEmit",async e=>{var t;if(!ia(e)){let{message:t}=n5("MISSING_OR_INVALID","emit() params: ".concat(e));throw Error(t)}let{topic:r,event:n,chainId:i}=e;await this.isValidSessionTopic(r);let{namespaces:o}=this.client.session.get(r);if(!ic(o,i)){let{message:e}=n5("MISSING_OR_INVALID","emit() chainId: ".concat(i));throw Error(e)}if(n9(n)||!n7(n.name,!1)){let{message:e}=n5("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(n)));throw Error(e)}if(!(n7(t=n.name,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{nJ(e.accounts).includes(t)&&r.push(...e.events)}),r})(o,i).includes(t))){let{message:e}=n5("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(n)));throw Error(e)}}),iD(this,"isValidDisconnect",async e=>{if(!ia(e)){let{message:t}=n5("MISSING_OR_INVALID","disconnect() params: ".concat(e));throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),iD(this,"isValidAuthenticate",e=>{let{chains:t,uri:r,domain:n,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw Error("chains is required and must be a non-empty array");if(!n7(r,!1))throw Error("uri is required parameter");if(!n7(n,!1))throw Error("domain is required parameter");if(!n7(i,!1))throw Error("nonce is required parameter");if([...new Set(t.map(e=>U(e).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:o}=U(t[0]);if("eip155"!==o)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),iD(this,"getVerifyContext",async e=>{let{attestationId:t,hash:r,encryptedId:n,metadata:i,transportType:o}=e,s={verified:{verifyUrl:i.verifyUrl||a.sG,validation:"UNKNOWN",origin:i.url||""}};try{if(o===a.QZ.link_mode){let e=this.getAppLinkIfEnabled(i,o);return s.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",s}let e=await this.client.core.verify.resolve({attestationId:t,hash:r,encryptedId:n,verifyUrl:i.verifyUrl});e&&(s.verified.origin=e.origin,s.verified.isScam=e.isScam,s.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug("Verify context: ".concat(JSON.stringify(s))),s}),iD(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((r,n)=>{if(null==r){let{message:i}=n5("MISSING_OR_INVALID","".concat(t," must contain an existing value for each key. Received: ").concat(r," for key ").concat(Object.keys(e)[n]));throw Error(i)}})}),iD(this,"getPendingAuthRequest",e=>{let t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),iD(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0,t=this.recentlyDeletedLimit/2;for(let r of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(r)}}}),iD(this,"checkRecentlyDeleted",e=>{let t=this.recentlyDeletedMap.get(e);if(t){let{message:r}=n5("MISSING_OR_INVALID","Record was recently deleted - ".concat(t,": ").concat(e));throw Error(r)}}),iD(this,"isLinkModeEnabled",(e,t)=>{var n,i,o,s,c,l,u,d,f;return!!e&&t===a.QZ.link_mode&&(null==(i=null==(n=this.client.metadata)?void 0:n.redirect)?void 0:i.linkMode)===!0&&(null==(s=null==(o=this.client.metadata)?void 0:o.redirect)?void 0:s.universal)!==void 0&&(null==(l=null==(c=this.client.metadata)?void 0:c.redirect)?void 0:l.universal)!==""&&(null==(u=null==e?void 0:e.redirect)?void 0:u.universal)!==void 0&&(null==(d=null==e?void 0:e.redirect)?void 0:d.universal)!==""&&(null==(f=null==e?void 0:e.redirect)?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&"u">typeof(null==r.g?void 0:r.g.Linking)}),iD(this,"getAppLinkIfEnabled",(e,t)=>{var r;return this.isLinkModeEnabled(e,t)?null==(r=null==e?void 0:e.redirect)?void 0:r.universal:void 0}),iD(this,"handleLinkModeMessage",e=>{let{url:t}=e;if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;let r=eo(t,"topic")||"",n=decodeURIComponent(eo(t,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:a.QZ.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:n,sessionExists:i})}),iD(this,"registerLinkModeListeners",async()=>{var e;if("u">typeof k&&"true"===k.env.IS_VITEST||Z()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){let e=null==r.g?void 0:r.g.Linking;if("u">typeof e){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);let t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),iD(this,"getTVFParams",(e,t,r)=>{var n,i,o;if(!(null!=(n=t.request)&&n.method))return{};let s={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{let e=this.extractTxHashesFromResult(t.request,r);s.txHashes=e,s.contractAddresses=this.isValidContractData(t.request.params)?[null==(o=null==(i=t.request.params)?void 0:i[0])?void 0:o.to]:[]}catch(e){this.client.logger.warn("Error getting TVF params",e)}return s}),iD(this,"isValidContractData",e=>{var t;if(!e)return!1;try{let r=(null==e?void 0:e.data)||(null==(t=null==e?void 0:e[0])?void 0:t.data);if(!r.startsWith("0x"))return!1;let n=r.slice(2);return!!/^[0-9a-fA-F]*$/.test(n)&&n.length%2==0}catch(e){}return!1}),iD(this,"extractTxHashesFromResult",(e,t)=>{var r;try{if(!t)return[];let n=e.method,i=iI[n];if("sui_signTransaction"===n)return[function(e){let t=new Uint8Array(B.from(e,"base64")),r=Array.from("TransactionData::").map(e=>e.charCodeAt(0)),n=new Uint8Array(r.length+t.length);n.set(r),n.set(t,r.length);let i=tB(n,{dkLen:32});return P.Z.encode(i)}(t.transactionBytes)];if("near_signTransaction"===n)return[tj(t)];if("near_signTransactions"===n)return t.map(e=>tj(e));if("xrpl_signTransactionFor"===n||"xrpl_signTransaction"===n)return[null==(r=t.tx_json)?void 0:r.hash];if("polkadot_signTransaction"===n)return[function(e){let t=Uint8Array.from(B.from(e.signature,"hex")),r=function(e){var t,r;let{publicKey:n,signature:i,payload:o}=e,s=ip(o.method),a=128|parseInt((null==(t=o.version)?void 0:t.toString())||"4"),c=function(e){let t=P.Z.decode(e)[0];return 42===t?0:60===t?2:1}(o.address),l="00"===o.era?new Uint8Array([0]):ip(o.era);if(1!==l.length&&2!==l.length)throw Error("Invalid era length");let u=parseInt(o.nonce,16),d=new Uint8Array([255&u,u>>8&255]),f=new Uint8Array([0,...n,c,...i,...l,...d,...function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){let t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){let t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw Error("BigInt compact encoding not supported > 2^30")}(BigInt("0x".concat((r=o.tip).startsWith("0x")?r.slice(2):r))),...s]);return new Uint8Array([...function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){let t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<1073741824){let t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw Error("Compact encoding > 2^30 not supported")}(f.length+1),a,...f])}({publicKey:function(e){let t=P.Z.decode(e);if(t.length<33)throw Error("Too short to contain a public key");return t.slice(1,33)}(e.transaction.address),signature:t,payload:e.transaction});return function(e){let t=ip(e),r=(0,T.blake2b)(t,void 0,32);return"0x"+B.from(r).toString("hex")}(B.from(r).toString("hex"))}({transaction:e.params.transactionPayload,signature:t.signature})];if("algo_signTxn"===n)return n3(t)?t.map(e=>tF(e)):[tF(t)];if("cosmos_signDirect"===n)return[function(e){let t=B.from(e.signed.bodyBytes,"base64"),r=B.from(e.signed.authInfoBytes,"base64"),n=B.from(e.signature.signature,"base64"),i=[];i.push(B.from([10])),i.push(tq(t.length)),i.push(t),i.push(B.from([18])),i.push(tq(r.length)),i.push(r),i.push(B.from([26])),i.push(tq(n.length)),i.push(n);let o=tA(B.concat(i));return B.from(o).toString("hex").toUpperCase()}(t)];if("string"==typeof t)return[t];let o=t[i.key];if(n3(o))return"solana_signAllTransactions"===n?o.map(e=>(function(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let n=r[0];if(0===n)throw Error("No signatures found");if(r.length<1+64*n)throw Error("Transaction data too short for claimed signature count");if(r.length<100)throw Error("Transaction too short");let i=B.from(e,"base64").slice(1,65);return P.Z.encode(i)})(e)):o;if("string"==typeof o)return[o]}catch(e){this.client.logger.warn("Error extracting tx hashes from result",e)}return[]})}}class iF extends a.yh{constructor(e,t){super(e,t,"proposal",iy),this.core=e,this.logger=t}}class iq extends a.yh{constructor(e,t){super(e,t,"session",iy),this.core=e,this.logger=t}}class iz extends a.yh{constructor(e,t){super(e,t,"request",iy,e=>e.id),this.core=e,this.logger=t}}class i$ extends a.yh{constructor(e,t){super(e,t,"authKeys",iS,()=>iP),this.core=e,this.logger=t}}class iH extends a.yh{constructor(e,t){super(e,t,"pairingTopics",iS),this.core=e,this.logger=t}}class iG extends a.yh{constructor(e,t){super(e,t,"requests",iS,e=>e.id),this.core=e,this.logger=t}}var iW=Object.defineProperty,iV=(e,t,r)=>t in e?iW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,iK=(e,t,r)=>iV(e,"symbol"!=typeof t?t+"":t,r);class iZ{async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}constructor(e,t){this.core=e,this.logger=t,iK(this,"authKeys"),iK(this,"pairingTopics"),iK(this,"requests"),this.authKeys=new i$(this.core,this.logger),this.pairingTopics=new iH(this.core,this.logger),this.requests=new iG(this.core,this.logger)}}var iY=Object.defineProperty,iJ=(e,t,r)=>t in e?iY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,iX=(e,t,r)=>iJ(e,"symbol"!=typeof t?t+"":t,r);class iQ extends p{static async init(e){let t=new iQ(e);return await t.initialize(),t}get context(){return(0,c.Fd)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}constructor(e){super(e),iX(this,"protocol","wc"),iX(this,"version",2),iX(this,"name",ib.name),iX(this,"metadata"),iX(this,"core"),iX(this,"logger"),iX(this,"events",new l.EventEmitter),iX(this,"engine"),iX(this,"session"),iX(this,"proposal"),iX(this,"pendingRequest"),iX(this,"auth"),iX(this,"signConfig"),iX(this,"on",(e,t)=>this.events.on(e,t)),iX(this,"once",(e,t)=>this.events.once(e,t)),iX(this,"off",(e,t)=>this.events.off(e,t)),iX(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),iX(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),iX(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"update",async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"request",async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"find",e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),iX(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),iX(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),this.name=(null==e?void 0:e.name)||ib.name,this.metadata=function(e){var t,r;let n=(0,b.D)()||{name:"",description:"",url:"",icons:[""]};try{return null!=e&&e.url&&n.url&&new URL(e.url).host!==new URL(n.url).host&&(console.warn("The configured WalletConnect 'metadata.url':".concat(e.url," differs from the actual page url:").concat(n.url,". This is probably unintended and can lead to issues.")),e.url=n.url),null!=(t=null==e?void 0:e.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),G(H(H({},n),e),{url:(null==e?void 0:e.url)||n.url,name:(null==e?void 0:e.name)||n.name,description:(null==e?void 0:e.description)||n.description,icons:null!=(r=null==e?void 0:e.icons)&&r.length&&e.icons.length>0?e.icons:n.icons})}catch(t){return console.warn("Error populating app metadata",t),e||n}}(null==e?void 0:e.metadata),this.signConfig=null==e?void 0:e.signConfig;let t="u">typeof(null==e?void 0:e.logger)&&"string"!=typeof(null==e?void 0:e.logger)?e.logger:(0,c.gw)((0,c.jI)({level:(null==e?void 0:e.logger)||ib.logger}));this.core=(null==e?void 0:e.core)||new a.QY(e),this.logger=(0,c.Ep)(t,this.name),this.session=new iq(this.core,this.logger),this.proposal=new iF(this.core,this.logger),this.pendingRequest=new iz(this.core,this.logger),this.engine=new ij(this),this.auth=new iZ(this.core,this.logger)}}var i0=r(5071),i1=r(38979),i2=r(84398).lW;let i6="error",i5="".concat("wc","@2:").concat("universal_provider",":"),i8="https://rpc.walletconnect.org/v1/",i3="generic",i4="".concat(i8,"bundler"),i9="default_chain_changed";function i7(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function oe(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function ot(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let or="[object String]",on="[object Number]",oi="[object Boolean]",oo="[object Arguments]";function os(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oa(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=null==i?void 0:i(e,t,r,n);if(null!=o)return o;if(i7(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){let t=Array(e.length);n.set(e,t);for(let o=0;o<e.length;o++)t[o]=oa(e[o],o,r,n,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;for(let[o,s]of(n.set(e,t),e))t.set(o,oa(s,o,r,n,i));return t}if(e instanceof Set){let t=new Set;for(let o of(n.set(e,t),e))t.add(oa(o,void 0,r,n,i));return t}if("u">typeof i2&&i2.isBuffer(e))return e.subarray();if(os(e)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);n.set(e,t);for(let o=0;o<e.length;o++)t[o]=oa(e[o],o,r,n,i);return t}if(e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),oc(t,e,r,n,i),t}if("u">typeof File&&e instanceof File){let t=new File([e],e.name,{type:e.type});return n.set(e,t),oc(t,e,r,n,i),t}if(e instanceof Blob){let t=new Blob([e],{type:e.type});return n.set(e,t),oc(t,e,r,n,i),t}if(e instanceof Error){let t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,oc(t,e,r,n,i),t}if("object"==typeof e&&function(e){switch(ot(e)){case oo:case"[object Array]":case"[object ArrayBuffer]":case"[object DataView]":case oi:case"[object Date]":case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Map]":case on:case"[object Object]":case"[object RegExp]":case"[object Set]":case or:case"[object Symbol]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return!0;default:return!1}}(e)){let t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),oc(t,e,r,n,i),t}return e}function oc(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=[...Object.keys(t),...oe(t)];for(let s=0;s<o.length;s++){let a=o[s],c=Object.getOwnPropertyDescriptor(e,a);(null==c||c.writable)&&(e[a]=oa(t[a],a,r,n,i))}}function ol(e){var t;return t=(t,r,n,i)=>{let o=void 0;if(null!=o)return o;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case on:case or:case oi:{let t=new e.constructor(null==e?void 0:e.valueOf());return oc(t,e),t}case oo:{let t={};return oc(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}},oa(e,void 0,e,new Map,t)}function ou(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===ot(e)}function od(e){return"object"==typeof e&&null!==e}function of(){}var oh=Object.defineProperty,op=Object.defineProperties,og=Object.getOwnPropertyDescriptors,om=Object.getOwnPropertySymbols,oy=Object.prototype.hasOwnProperty,ob=Object.prototype.propertyIsEnumerable,ov=(e,t,r)=>t in e?oh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ow=(e,t)=>{for(var r in t||(t={}))oy.call(t,r)&&ov(e,r,t[r]);if(om)for(var r of om(t))ob.call(t,r)&&ov(e,r,t[r]);return e},oE=(e,t)=>op(e,og(t));function oC(e,t,r){var n;let i=U(e);return(null==(n=t.rpcMap)?void 0:n[i.reference])||"".concat(i8,"?chainId=").concat(i.namespace,":").concat(i.reference,"&projectId=").concat(r)}function oA(e){return e.includes(":")?e.split(":")[1]:e}function ox(e){return e.map(e=>"".concat(e.split(":")[0],":").concat(e.split(":")[1]))}function oI(e){return Object.fromEntries(Object.entries(e).filter(e=>{var t,r;let[n,i]=e;return(null==(t=null==i?void 0:i.chains)?void 0:t.length)&&(null==(r=null==i?void 0:i.chains)?void 0:r.length)>0}))}function oN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let i=r.slice(0,-1),o=r[r.length-1],s=e;for(let e=0;e<i.length;e++)s=function e(t,r,n,i){if(i7(t)&&(t=Object(t)),null==r||"object"!=typeof r)return t;if(i.has(r))return function(e){if(i7(e))return e;if(Array.isArray(e)||os(e)||e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);let t=Object.getPrototypeOf(e),r=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new r(e);if(e instanceof RegExp){let t=new r(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new r(e.buffer.slice(0));if(e instanceof Error){let t=new r(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}return"u">typeof File&&e instanceof File?new r([e],e.name,{type:e.type,lastModified:e.lastModified}):"object"==typeof e?Object.assign(Object.create(t),e):e}(i.get(r));if(i.set(r,t),Array.isArray(r)){var o;r=r.slice();for(let e=0;e<r.length;e++)r[e]=null!==(o=r[e])&&void 0!==o?o:void 0}let s=[...Object.keys(r),...oe(r)];for(let o=0;o<s.length;o++){let a=s[o],c=r[a],l=t[a];if(ou(c)&&(c={...c}),ou(l)&&(l={...l}),"u">typeof i2&&i2.isBuffer(c)&&(c=ol(c)),Array.isArray(c)){if("object"==typeof l&&null!=l){let e=[],t=Reflect.ownKeys(l);for(let r=0;r<t.length;r++){let n=t[r];e[n]=l[n]}l=e}else l=[]}let u=n(l,c,a,t,r,i);null!=u?t[a]=u:Array.isArray(c)||od(l)&&od(c)?t[a]=e(l,c,n,i):null==l&&function(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;let r=e[Symbol.toStringTag];return null!=r&&null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&!!t.writable&&e.toString()==="[object ".concat(r,"]")}let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}(c)?t[a]=e({},c,n,i):null==l&&os(c)?t[a]=ol(c):(void 0===l||void 0!==c)&&(t[a]=c)}return t}(s,i[e],o,new Map);return s}(e,...r,of)}(oI(oS(e)),oI(oS(t)))}function oS(e){var t,r,n,i,o;let s={};if(!n4(e))return s;for(let[a,c]of Object.entries(e)){let e=nX(a)?[a]:c.chains,l=c.methods||[],u=c.events||[],d=c.rpcMap||{},f=nQ(a);s[f]=oE(ow(ow({},s[f]),c),{chains:er(e,null==(t=s[f])?void 0:t.chains),methods:er(l,null==(r=s[f])?void 0:r.methods),events:er(u,null==(n=s[f])?void 0:n.events)}),(n4(d)||n4((null==(i=s[f])?void 0:i.rpcMap)||{}))&&(s[f].rpcMap=ow(ow({},d),null==(o=s[f])?void 0:o.rpcMap))}return s}function oP(e){return e.includes(":")?e.split(":")[2]:e}function oO(e){let t={};for(let[r,n]of Object.entries(e)){let e=n.methods||[],i=n.events||[],o=n.accounts||[],s=nX(r)?[r]:n.chains?n.chains:ox(n.accounts);t[r]={chains:s,methods:e,events:i,accounts:o}}return t}function o_(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):isNaN(Number(e=e.includes(":")?e.split(":")[1]:e))?e:Number(e)}let oR={},oT=e=>oR[e],ok=(e,t)=>{oR[e]=t};var oB=Object.defineProperty,oU=Object.getOwnPropertySymbols,oM=Object.prototype.hasOwnProperty,oL=Object.prototype.propertyIsEnumerable,oD=(e,t,r)=>t in e?oB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oj=(e,t)=>{for(var r in t||(t={}))oM.call(t,r)&&oD(e,r,t[r]);if(oU)for(var r of oU(t))oL.call(t,r)&&oD(e,r,t[r]);return e};let oF="eip155",oq=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],oz=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,o$=e=>e&&e.startsWith("0x")?e:"0x".concat(BigInt(e).toString(16)),oH=e=>Object.keys(e).filter(e=>oq.includes(e)).reduce((t,r)=>(t[r]=e[r],t),{}),oG=(e,t,r)=>{let{sessionProperties:n={},scopedProperties:i={}}=e,o={};if(!n4(i)&&!n4(n))return;let s=oH(n);for(let e of r){let r=oz(e);if(!r)continue;o[o$(r)]=s;let n=null==i?void 0:i["".concat(oF,":").concat(r)];if(n){let e=null==n?void 0:n["".concat(oF,":").concat(r,":").concat(t)];o[o$(r)]=oj(oj({},o[o$(r)]),oH(e||n))}}for(let[e,t]of Object.entries(o))0===Object.keys(t).length&&delete o[e];return Object.keys(o).length>0?o:void 0};var oW=Object.defineProperty,oV=(e,t,r)=>t in e?oW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oK=(e,t,r)=>oV(e,"symbol"!=typeof t?t+"":t,r);class oZ{updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i9,"".concat(this.name,":").concat(e))}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=oA(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||oC(e,this.namespace,this.client.core.projectId);if(!r)throw Error("No RPC url provided for chainId: ".concat(e));return new i1.r(new i0.Z(r,oT("disableProviderPing")))}constructor(e){oK(this,"name","polkadot"),oK(this,"client"),oK(this,"httpProviders"),oK(this,"events"),oK(this,"namespace"),oK(this,"chainId"),this.namespace=e.namespace,this.events=oT("events"),this.client=oT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}}var oY=Object.defineProperty,oJ=Object.defineProperties,oX=Object.getOwnPropertyDescriptors,oQ=Object.getOwnPropertySymbols,o0=Object.prototype.hasOwnProperty,o1=Object.prototype.propertyIsEnumerable,o2=(e,t,r)=>t in e?oY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o6=(e,t)=>{for(var r in t||(t={}))o0.call(t,r)&&o2(e,r,t[r]);if(oQ)for(var r of oQ(t))o1.call(t,r)&&o2(e,r,t[r]);return e},o5=(e,t)=>oJ(e,oX(t)),o8=(e,t,r)=>o2(e,"symbol"!=typeof t?t+"":t,r);class o3{async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(i9,"".concat(this.name,":").concat(e))}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let r=t||oC("".concat(this.name,":").concat(e),this.namespace,this.client.core.projectId);if(!r)throw Error("No RPC url provided for chainId: ".concat(e));return new i1.r(new i0.k(r,oT("disableProviderPing")))}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=parseInt(oA(t));e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(){let e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw Error("JSON-RPC provider for ".concat(e," not found"));return t}async handleSwitchChain(e){var t,r;let n=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0",i=parseInt(n=n.startsWith("0x")?n:"0x".concat(n),16);if(this.isChainApproved(i))this.setDefaultChain("".concat(i));else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain("".concat(i));else throw Error("Failed to switch to chain 'eip155:".concat(i,"'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method."));return null}isChainApproved(e){return this.namespace.chains.includes("".concat(this.name,":").concat(e))}async getCapabilities(e){var t,r,n,i,o;let s;let a=null==(r=null==(t=e.request)?void 0:t.params)?void 0:r[0],c=(null==(i=null==(n=e.request)?void 0:n.params)?void 0:i[1])||[];if(!a)throw Error("Missing address parameter in `wallet_getCapabilities` request");let l=this.client.session.get(e.topic),u=(null==(o=null==l?void 0:l.sessionProperties)?void 0:o.capabilities)||{},d="".concat(a).concat(c.join(",")),f=null==u?void 0:u[d];if(f)return f;try{s=oG(l,a,c)}catch(e){console.warn("Failed to extract capabilities from session",e)}if(s)return s;let h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:o5(o6({},l.sessionProperties||{}),{capabilities:o5(o6({},u||{}),{[d]:h})})})}catch(e){console.warn("Failed to update session with capabilities",e)}return h}async getCallStatus(e){var t,r;let n=this.client.session.get(e.topic),i=null==(t=n.sessionProperties)?void 0:t.bundler_name;if(i){let t=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(t,e)}catch(e){console.warn("Failed to fetch call status from bundler",e,t)}}let o=null==(r=n.sessionProperties)?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(e){console.warn("Failed to fetch call status from custom bundler",e,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var r;let n=new URL(e),i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,ig.formatJsonRpcRequest)("eth_getUserOperationReceipt",[null==(r=t.request.params)?void 0:r[0]]))});if(!i.ok)throw Error("Failed to fetch user operation receipt - ".concat(i.status));return await i.json()}getBundlerUrl(e,t){return"".concat(i4,"?projectId=").concat(this.client.core.projectId,"&chainId=").concat(e,"&bundler=").concat(t)}constructor(e){o8(this,"name","eip155"),o8(this,"client"),o8(this,"chainId"),o8(this,"namespace"),o8(this,"httpProviders"),o8(this,"events"),this.namespace=e.namespace,this.events=oT("events"),this.client=oT("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}}var o4=Object.defineProperty,o9=(e,t,r)=>t in e?o4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o7=(e,t,r)=>o9(e,"symbol"!=typeof t?t+"":t,r);class se{updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i9,"".concat(this.name,":").concat(e))}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=oA(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||oC(e,this.namespace,this.client.core.projectId);if(!r)throw Error("No RPC url provided for chainId: ".concat(e));return new i1.r(new i0.Z(r,oT("disableProviderPing")))}constructor(e){o7(this,"name","solana"),o7(this,"client"),o7(this,"httpProviders"),o7(this,"events"),o7(this,"namespace"),o7(this,"chainId"),this.namespace=e.namespace,this.events=oT("events"),this.client=oT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}}var st=Object.defineProperty,sr=(e,t,r)=>t in e?st(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sn=(e,t,r)=>sr(e,"symbol"!=typeof t?t+"":t,r);class si{updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i9,"".concat(this.name,":").concat(this.chainId))}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=oA(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||oC(e,this.namespace,this.client.core.projectId);if(!r)throw Error("No RPC url provided for chainId: ".concat(e));return new i1.r(new i0.Z(r,oT("disableProviderPing")))}constructor(e){sn(this,"name","cosmos"),sn(this,"client"),sn(this,"httpProviders"),sn(this,"events"),sn(this,"namespace"),sn(this,"chainId"),this.namespace=e.namespace,this.events=oT("events"),this.client=oT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}}var so=Object.defineProperty,ss=(e,t,r)=>t in e?so(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sa=(e,t,r)=>ss(e,"symbol"!=typeof t?t+"":t,r);class sc{updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){let r=t||oC("".concat(this.name,":").concat(e),this.namespace,this.client.core.projectId);if(!r)throw Error("No RPC url provided for chainId: ".concat(e));this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(i9,"".concat(this.name,":").concat(this.chainId))}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||oC(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new i1.r(new i0.Z(r,oT("disableProviderPing")))}constructor(e){sa(this,"name","algorand"),sa(this,"client"),sa(this,"httpProviders"),sa(this,"events"),sa(this,"namespace"),sa(this,"chainId"),this.namespace=e.namespace,this.events=oT("events"),this.client=oT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}}var sl=Object.defineProperty,su=(e,t,r)=>t in e?sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sd=(e,t,r)=>su(e,"symbol"!=typeof t?t+"":t,r);class sf{updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i9,"".concat(this.name,":").concat(this.chainId))}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=this.getCardanoRPCUrl(t),n=oA(t);e[n]=this.createHttpProvider(n,r)}),e}getHttpProvider(){let e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw Error("JSON-RPC provider for ".concat(e," not found"));return t}getCardanoRPCUrl(e){let t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||this.getCardanoRPCUrl(e);if(!r)throw Error("No RPC url provided for chainId: ".concat(e));return new i1.r(new i0.Z(r,oT("disableProviderPing")))}constructor(e){sd(this,"name","cip34"),sd(this,"client"),sd(this,"httpProviders"),sd(this,"events"),sd(this,"namespace"),sd(this,"chainId"),this.namespace=e.namespace,this.events=oT("events"),this.client=oT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}}var sh=Object.defineProperty,sp=(e,t,r)=>t in e?sh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sg=(e,t,r)=>sp(e,"symbol"!=typeof t?t+"":t,r);class sm{updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i9,"".concat(this.name,":").concat(e))}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=oA(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||oC(e,this.namespace,this.client.core.projectId);if(!r)throw Error("No RPC url provided for chainId: ".concat(e));return new i1.r(new i0.Z(r,oT("disableProviderPing")))}constructor(e){sg(this,"name","elrond"),sg(this,"client"),sg(this,"httpProviders"),sg(this,"events"),sg(this,"namespace"),sg(this,"chainId"),this.namespace=e.namespace,this.events=oT("events"),this.client=oT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}}var sy=Object.defineProperty,sb=(e,t,r)=>t in e?sy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sv=(e,t,r)=>sb(e,"symbol"!=typeof t?t+"":t,r);class sw{updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i9,"".concat(this.name,":").concat(e))}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=oA(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||oC(e,this.namespace,this.client.core.projectId);if(!r)throw Error("No RPC url provided for chainId: ".concat(e));return new i1.r(new i0.Z(r,oT("disableProviderPing")))}constructor(e){sv(this,"name","multiversx"),sv(this,"client"),sv(this,"httpProviders"),sv(this,"events"),sv(this,"namespace"),sv(this,"chainId"),this.namespace=e.namespace,this.events=oT("events"),this.client=oT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}}var sE=Object.defineProperty,sC=(e,t,r)=>t in e?sE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sA=(e,t,r)=>sC(e,"symbol"!=typeof t?t+"":t,r);class sx{updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||oC("".concat(this.name,":").concat(e),this.namespace);if(!r)throw Error("No RPC url provided for chainId: ".concat(e));this.setHttpProvider(e,r)}this.events.emit(i9,"".concat(this.name,":").concat(this.chainId))}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||oC(e,this.namespace);return typeof r>"u"?void 0:new i1.r(new i0.Z(r,oT("disableProviderPing")))}constructor(e){sA(this,"name","near"),sA(this,"client"),sA(this,"httpProviders"),sA(this,"events"),sA(this,"namespace"),sA(this,"chainId"),this.namespace=e.namespace,this.events=oT("events"),this.client=oT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}}var sI=Object.defineProperty,sN=(e,t,r)=>t in e?sI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sS=(e,t,r)=>sN(e,"symbol"!=typeof t?t+"":t,r);class sP{updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||oC("".concat(this.name,":").concat(e),this.namespace);if(!r)throw Error("No RPC url provided for chainId: ".concat(e));this.setHttpProvider(e,r)}this.events.emit(i9,"".concat(this.name,":").concat(this.chainId))}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){let e="".concat(this.name,":").concat(this.chainId),t=this.httpProviders[e];if(typeof t>"u")throw Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||oC(e,this.namespace);return typeof r>"u"?void 0:new i1.r(new i0.Z(r))}constructor(e){sS(this,"name","tezos"),sS(this,"client"),sS(this,"httpProviders"),sS(this,"events"),sS(this,"namespace"),sS(this,"chainId"),this.namespace=e.namespace,this.events=oT("events"),this.client=oT("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}}var sO=Object.defineProperty,s_=(e,t,r)=>t in e?sO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sR=(e,t,r)=>s_(e,"symbol"!=typeof t?t+"":t,r);class sT{updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i9,"".concat(this.name,":").concat(e))}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return U(e).namespace}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var e,t;let r={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(e=>{r[U(e).reference]=this.createHttpProvider(e)}),r}getHttpProvider(e){let t=this.httpProviders[e];if(typeof t>"u")throw Error("JSON-RPC provider for ".concat(e," not found"));return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||oC(e,this.namespace,this.client.core.projectId);if(!r)throw Error("No RPC url provided for chainId: ".concat(e));return new i1.r(new i0.Z(r,oT("disableProviderPing")))}constructor(e){sR(this,"name",i3),sR(this,"client"),sR(this,"httpProviders"),sR(this,"events"),sR(this,"namespace"),sR(this,"chainId"),this.namespace=e.namespace,this.events=oT("events"),this.client=oT("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}}var sk=Object.defineProperty,sB=Object.defineProperties,sU=Object.getOwnPropertyDescriptors,sM=Object.getOwnPropertySymbols,sL=Object.prototype.hasOwnProperty,sD=Object.prototype.propertyIsEnumerable,sj=(e,t,r)=>t in e?sk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sF=(e,t)=>{for(var r in t||(t={}))sL.call(t,r)&&sj(e,r,t[r]);if(sM)for(var r of sM(t))sD.call(t,r)&&sj(e,r,t[r]);return e},sq=(e,t)=>sB(e,sU(t)),sz=(e,t,r)=>sj(e,"symbol"!=typeof t?t+"":t,r);class s${static async init(e){let t=new s$(e);return await t.initialize(),t}async request(e,t,r){let[n,i]=this.validateChain(t);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(n).request({request:sF({},e),chainId:"".concat(n,":").concat(i),topic:this.session.topic,expiry:r})}sendAsync(e,t,r,n){let i=new Date().getTime();this.request(e,r,n).then(e=>t(null,(0,ig.formatJsonRpcResult)(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:n8("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();let{uri:r,response:n}=await this.client.authenticate(e,t);r&&(this.uri=r,this.events.emit("display_uri",r));let i=await n();if(this.session=i.session,this.session){let e=oO(this.session.namespaces);this.namespaces=oN(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){let{uri:t,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));let n=await r();this.session=n;let i=oO(n.namespaces);return this.namespaces=oN(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;let[r,n]=this.validateChain(e);this.getProvider(r).setDefaultChain(n,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if(!n3(t))return;for(let r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info("Inactive pairings cleared: ".concat(t.length))}catch(e){this.logger.warn("Failed to cleanup pending pairings",e)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await iQ.init({core:this.providerOpts.core,logger:this.providerOpts.logger||i6,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),Error("The provided session: ".concat(null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic," doesn't exist in the Sign client"))}else{let e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(e=>nQ(e)))];ok("client",this.client),ok("events",this.events),ok("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;let t=function(e,t){let r=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!r.length)return[];let n=[];return r.forEach(e=>{let r=t.namespaces[e].accounts;n.push(...r)}),n}(e,this.session);if((null==t?void 0:t.length)===0)return;let r=ox(t),n=sq(sF({},oN(this.namespaces,this.optionalNamespaces)[e]),{accounts:t,chains:r});switch(e){case"eip155":this.rpcProviders[e]=new o3({namespace:n});break;case"algorand":this.rpcProviders[e]=new sc({namespace:n});break;case"solana":this.rpcProviders[e]=new se({namespace:n});break;case"cosmos":this.rpcProviders[e]=new si({namespace:n});break;case"polkadot":this.rpcProviders[e]=new oZ({namespace:n});break;case"cip34":this.rpcProviders[e]=new sf({namespace:n});break;case"elrond":this.rpcProviders[e]=new sm({namespace:n});break;case"multiversx":this.rpcProviders[e]=new sw({namespace:n});break;case"near":this.rpcProviders[e]=new sx({namespace:n});break;case"tezos":this.rpcProviders[e]=new sP({namespace:n});break;default:this.rpcProviders[e]=new sT({namespace:n})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;let{topic:r}=e;r===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;let{params:r,topic:n}=e;if(n!==(null==(t=this.session)?void 0:t.topic))return;let{event:i}=r;if("accountsChanged"===i.name){let e=i.data;e&&n3(e)&&this.events.emit("accountsChanged",e.map(oP))}else if("chainChanged"===i.name){let e=r.chainId,t=r.event.data,n=nQ(e),i=o_(e)!==o_(t)?"".concat(n,":").concat(o_(t)):e;this.onChainChanged(i)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",e=>{var t,r;let{topic:n,params:i}=e;if(n!==(null==(t=this.session)?void 0:t.topic))return;let{namespaces:o}=i,s=null==(r=this.client)?void 0:r.session.get(n);this.session=sq(sF({},s),{namespaces:o}),this.onSessionUpdate(),this.events.emit("session_update",{topic:n,params:i})}),this.client.on("session_delete",async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",sq(sF({},n8("USER_DISCONNECTED")),{data:e.topic})))}),this.on(i9,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[i3]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t={},optionalNamespaces:r={},sessionProperties:n,scopedProperties:i}=e;this.optionalNamespaces=oN(t,r),this.sessionProperties=n,this.scopedProperties=i}validateChain(e){let[t,r]=(null==e?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map(e=>nQ(e)).includes(t))throw Error("Namespace '".concat(t,"' is not configured. Please call connect() first with namespace config."));if(t&&r)return[t,r];let n=nQ(Object.keys(this.namespaces)[0]),i=this.rpcProviders[n].getDefaultChain();return[n,i]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.namespaces)return;let[r,n]=this.validateChain(e);if(!n)return;this.updateNamespaceChain(r,n);let i=this.getProvider(r).getDefaultChain();t?(this.events.emit("chainChanged",n),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e})):this.getProvider(r).setDefaultChain(n),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange(e){var t,r;let{namespace:n,previousChainId:i,newChainId:o}=e;try{if(i===o)return;let e=null==(r=null==(t=this.session)?void 0:t.namespaces[n])?void 0:r.accounts;if(!e)return;let s=e.filter(e=>e.includes("".concat(o,":"))).map(oP);if(!n3(s))return;this.events.emit("accountsChanged",s)}catch(e){this.logger.warn("Failed to emit accountsChanged on chain change",e)}}updateNamespaceChain(e,t){if(!this.namespaces)return;let r=this.namespaces[e]?e:"".concat(e,":").concat(t);this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=t):this.namespaces[r]={chains:[],methods:[],events:[],defaultChain:t}}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var r;let n=(null==(r=this.session)?void 0:r.topic)||"";await this.client.core.storage.setItem("".concat(i5,"/").concat(e).concat(n),t)}async getFromStore(e){var t;let r=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem("".concat(i5,"/").concat(e).concat(r))}async deleteFromStore(e){var t;let r=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem("".concat(i5,"/").concat(e).concat(r))}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;for(let e of(await this.client.core.storage.getKeys()))e.startsWith(i5)&&await this.client.core.storage.removeItem(e)}catch(e){this.logger.warn("Failed to cleanup storage",e)}}constructor(e){sz(this,"client"),sz(this,"namespaces"),sz(this,"optionalNamespaces"),sz(this,"sessionProperties"),sz(this,"scopedProperties"),sz(this,"events",new(u())),sz(this,"rpcProviders",{}),sz(this,"session"),sz(this,"providerOpts"),sz(this,"logger"),sz(this,"uri"),sz(this,"disableProviderPing",!1),this.providerOpts=e,this.logger="u">typeof(null==e?void 0:e.logger)&&"string"!=typeof(null==e?void 0:e.logger)?e.logger:(0,c.gw)((0,c.jI)({level:(null==e?void 0:e.logger)||i6})),this.disableProviderPing=(null==e?void 0:e.disableProviderPing)||!1}}var sH=r(5022);r(75547);var sG=r(74889),sW=r(11410),sV=r(54583),sK=r(41679),sZ=r(41134);let sY={hexStringToNumber:e=>parseInt(e.startsWith("0x")?e.slice(2):e,16),numberToHexString:e=>"0x".concat(e.toString(16)),async getUserInfo(e){let[t,r]=await Promise.all([sY.getAddresses(e),sY.getChainId(e)]);return{chainId:r,addresses:t}},getChainId:async e=>Number(await e.request({method:"eth_chainId"})),async getAddress(e){let[t]=await e.request({method:"eth_accounts"});return t},getAddresses:async e=>await e.request({method:"eth_accounts"}),async addEthereumChain(e,t){var r,n;let i=(null===(r=t.rpcUrls.chainDefault)||void 0===r?void 0:r.http)||[];await e.request({method:"wallet_addEthereumChain",params:[{chainId:sY.numberToHexString(t.id),rpcUrls:[...i],chainName:t.name,nativeCurrency:{name:t.nativeCurrency.name,decimals:t.nativeCurrency.decimals,symbol:t.nativeCurrency.symbol},blockExplorerUrls:[null===(n=t.blockExplorers)||void 0===n?void 0:n.default.url],iconUrls:[sZ.C.NetworkImageIds[t.id]]}]})}},sJ={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};var sX=r(32883),sQ=r(54566),s0=r(16907),s1=r(88048),s2=r(16872),s6=r(40932),s5=r(75325),s8=r(5105),s3=r(73102),s4=r(33235);let s9=32n*s4.rU,s7={block:(0,s2.G)({format(e){let t=e.transactions?.map(e=>{if("string"==typeof e)return e;let t=s7.transaction?.format(e);return"0x71"===t.typeHex?t.type="eip712":"0xff"===t.typeHex&&(t.type="priority"),t});return{l1BatchNumber:e.l1BatchNumber?(0,sQ.y_)(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?(0,sQ.y_)(e.l1BatchTimestamp):null,transactions:t}}}),transaction:(0,s5.y_)({format(e){let t={};return"0x71"===e.type?t.type="eip712":"0xff"===e.type&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?(0,sQ.y_)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,sQ.y_)(e.l1BatchTxIndex):null}}}),transactionReceipt:(0,s8.dI)({format:e=>({l1BatchNumber:e.l1BatchNumber?(0,sQ.y_)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,sQ.y_)(e.l1BatchTxIndex):null,logs:e.logs.map(e=>({...(0,s6.U)(e),l1BatchNumber:e.l1BatchNumber?(0,sQ.y_)(e.l1BatchNumber):null,transactionLogIndex:(0,sQ.ly)(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:e.l2ToL1Logs.map(e=>({blockNumber:(0,sQ.y_)(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?(0,sQ.y_)(e.l1BatchNumber):null,transactionIndex:(0,sQ.y_)(e.transactionIndex),shardId:(0,sQ.y_)(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:(0,sQ.y_)(e.logIndex)}))})}),transactionRequest:(0,s3.iy)({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format:e=>e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:(0,s1.NC)(e.gasPerPubdata)}:{gasPerPubdata:(0,s1.NC)(50000n)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from((0,s0.nr)(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(e=>Array.from((0,s0.nr)(e)))}:{},...e.customSignature?{customSignature:Array.from((0,s0.nr)(e.customSignature))}:{}},type:"0x71"}:{}})};var ae=r(61707),at=r(91239),ar=r(86794),an=r(27532),ai=r(58950),ao=r(72270),as=r(85628);class aa extends ai.G{constructor(){super('Transaction is not an EIP712 transaction.\n\nTransaction must:\n  - include `type: "eip712"`\n  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`',{name:"InvalidEip712TransactionError"})}}function ac(e){return"eip712"===e.type||"customSignature"in e&&!!e.customSignature||"paymaster"in e&&!!e.paymaster||"paymasterInput"in e&&!!e.paymasterInput||"gasPerPubdata"in e&&"bigint"==typeof e.gasPerPubdata||"factoryDeps"in e&&!!e.factoryDeps}function al(e){let{chainId:t,to:r,from:n,paymaster:i,paymasterInput:o}=e;if(!ac(e))throw new aa;if(!t||t<=0)throw new ao.hJ({chainId:t});if(r&&!(0,as.U)(r))throw new an.b({address:r});if(n&&!(0,as.U)(n))throw new an.b({address:n});if(i&&!(0,as.U)(i))throw new an.b({address:i});if(i&&!o)throw new ai.G("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&o)throw new ai.G("`paymaster` must be provided when `paymasterInput` is defined")}var au=r(99709),ad=r(6628);class af extends ai.G{constructor({givenLength:e,maxBytecodeSize:t}){super(`Bytecode cannot be longer than ${t} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class ah extends ai.G{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class ap extends ai.G{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}let ag={blockTime:1e3,formatters:s7,serializers:{transaction:function(e,t){return ac(e)?function(e){let{chainId:t,gas:r,nonce:n,to:i,from:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:c,customSignature:l,factoryDeps:u,paymaster:d,paymasterInput:f,gasPerPubdata:h,data:p}=e;al(e);let g=[n?(0,s1.NC)(n):"0x",c?(0,s1.NC)(c):"0x",a?(0,s1.NC)(a):"0x",r?(0,s1.NC)(r):"0x",i??"0x",s?(0,s1.NC)(s):"0x",p??"0x",(0,s1.NC)(t),(0,s1.NC)(""),(0,s1.NC)(""),(0,s1.NC)(t),o??"0x",h?(0,s1.NC)(h):(0,s1.NC)(50000n),u??[],l??"0x",d&&f?[d,f]:[]];return(0,ae.SM)(["0x71",(0,at.LV)(g)])}(e):(0,ar.D)(e,t)}},custom:{getEip712Domain:e=>{al(e);let t=function(e){let{gas:t,nonce:r,to:n,from:i,value:o,maxFeePerGas:s,maxPriorityFeePerGas:a,factoryDeps:c,paymaster:l,paymasterInput:u,gasPerPubdata:d,data:f}=e;return{txType:113n,from:BigInt(i),to:n?BigInt(n):0n,gasLimit:t??0n,gasPerPubdataByteLimit:d??50000n,maxFeePerGas:s??0n,maxPriorityFeePerGas:a??0n,paymaster:l?BigInt(l):0n,nonce:r?BigInt(r):0n,value:o??0n,data:f??"0x",factoryDeps:c?.map(e=>s1.NC(function(e){let t=(0,s0.O0)(e);if(t.length%32!=0)throw new ap({givenLength:t.length});if(t.length>s9)throw new af({givenLength:t.length,maxBytecodeSize:s9});let r=(0,ad.J)(t),n=(0,s0.O0)(r),i=t.length/32;if(i%2==0)throw new ah({givenLengthInWords:i});let o=(0,s0.O0)(i),s=(0,au.vk)(o,{size:2}),a=new Uint8Array([1,0]);return n.set(a,0),n.set(s,2),n}(e)))??[],paymasterInput:u||"0x"}}(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}}}};({...ag});let am={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}};function ay(e,t){return"deposit"===e.type||void 0!==e.sourceHash?function(e){!function(e){let{from:t,to:r}=e;if(t&&!(0,as.U)(t))throw new an.b({address:t});if(r&&!(0,as.U)(r))throw new an.b({address:r})}(e);let{sourceHash:t,data:r,from:n,gas:i,isSystemTx:o,mint:s,to:a,value:c}=e,l=[t,n,a??"0x",s?(0,s1.NC)(s):"0x",c?(0,s1.NC)(c):"0x",i?(0,s1.NC)(i):"0x",o?"0x1":"0x",r??"0x"];return(0,ae.SM)(["0x7e",(0,at.LV)(l)])}(e):(0,ar.D)(e,t)}let ab={blockTime:2e3,contracts:am,formatters:{block:(0,s2.G)({format:e=>({transactions:e.transactions?.map(e=>{if("string"==typeof e)return e;let t=s5.Tr(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?sQ.y_(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}),stateRoot:e.stateRoot})}),transaction:(0,s5.y_)({format(e){let t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,sQ.y_)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:(0,s8.dI)({format:e=>({l1GasPrice:e.l1GasPrice?(0,sQ.y_)(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?(0,sQ.y_)(e.l1GasUsed):null,l1Fee:e.l1Fee?(0,sQ.y_)(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})},serializers:{transaction:ay}};async function av(e,t){return BigInt(await e.request({method:"eth_gasPrice",params:[t]}))}async function aw(e,t){return BigInt(await e.request({method:"eth_maxPriorityFeePerGas",params:[t]}))}ab.contracts,ab.contracts,({...ab,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...ab.contracts,disputeGameFactory:{1:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{1:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{1:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{1:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:1}),ab.contracts,ab.contracts,(0,sX.a)({id:53456,name:"BirdLayer",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.birdlayer.xyz","https://rpc1.birdlayer.xyz"],webSocket:["wss://rpc.birdlayer.xyz/ws"]}},blockExplorers:{default:{name:"BirdLayer Explorer",url:"https://scan.birdlayer.xyz"}}}),ab.contracts,(0,sX.a)({...ab,id:60808,name:"BOB",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.gobob.xyz"],webSocket:["wss://rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Explorer",url:"https://explorer.gobob.xyz"}},contracts:{...ab.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:23131},l2OutputOracle:{1:{address:"0xdDa53E23f8a32640b04D7256e651C1db98dB11C1",blockCreated:4462615}},portal:{1:{address:"0x8AdeE124447435fE03e3CD24dF3f4cAE32E65a3E",blockCreated:4462615}}},sourceId:1}),(0,sX.a)({...ab,id:808813,name:"BOB Sepolia",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://bob-sepolia.rpc.gobob.xyz"],webSocket:["wss://bob-sepolia.rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Sepolia Explorer",url:"https://bob-sepolia.explorer.gobob.xyz"}},contracts:{...ab.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:35677},l2OutputOracle:{11155111:{address:"0x14D0069452b4AE2b250B395b8adAb771E4267d2f",blockCreated:4462615}},portal:{11155111:{address:"0x867B1Aa872b9C8cB5E9F7755feDC45BB24Ad0ae4",blockCreated:4462615}}},testnet:!0,sourceId:11155111});var aE=r(90653);function aC(e){return 0===e||0n===e||null==e||"0"===e||""===e||"string"==typeof e&&("0x"===(0,aE.f)(e).toLowerCase()||"0x00"===(0,aE.f)(e).toLowerCase())}function aA(e){return"cip64"===e.type||void 0!==e.maxFeePerGas&&void 0!==e.maxPriorityFeePerGas&&!aC(e.feeCurrency)}let ax={block:(0,s2.G)({format:e=>({transactions:e.transactions?.map(e=>"string"==typeof e?e:{...s5.Tr(e),...e.gatewayFee?{gatewayFee:sQ.y_(e.gatewayFee),gatewayFeeRecipient:e.gatewayFeeRecipient}:{},feeCurrency:e.feeCurrency})})}),transaction:(0,s5.y_)({format(e){if("0x7e"===e.type)return{isSystemTx:e.isSystemTx,mint:e.mint?(0,sQ.y_)(e.mint):void 0,sourceHash:e.sourceHash,type:"deposit"};let t={feeCurrency:e.feeCurrency};return"0x7b"===e.type?t.type="cip64":("0x7c"===e.type&&(t.type="cip42"),t.gatewayFee=e.gatewayFee?(0,sQ.y_)(e.gatewayFee):null,t.gatewayFeeRecipient=e.gatewayFeeRecipient),t}}),transactionRequest:(0,s3.iy)({format(e){let t={};return e.feeCurrency&&(t.feeCurrency=e.feeCurrency),aA(e)&&(t.type="0x7b"),t}})};var aI=r(42106),aN=r(387);let aS=s4.zL,aP={blockTime:1e3,contracts:am,formatters:ax,serializers:{transaction:function(e,t){return aA(e)?function(e,t){!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:o,feeCurrency:s}=e;if(t<=0)throw new ao.hJ({chainId:t});if(o&&!(0,as.U)(o))throw new an.b({address:o});if(n)throw new ai.G("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(!aC(i)&&i>aS)throw new aI.Hh({maxFeePerGas:i});if(!aC(r)&&!aC(i)&&r>i)throw new aI.cs({maxFeePerGas:i,maxPriorityFeePerGas:r});if(!aC(s)&&!(0,as.U)(s))throw new ai.G("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(aC(s))throw new ai.G("`feeCurrency` must be provided for CIP-64 transactions.")}(e);let{chainId:r,gas:n,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,feeCurrency:u,data:d}=e,f=[(0,s1.NC)(r),i?(0,s1.NC)(i):"0x",c?(0,s1.NC)(c):"0x",a?(0,s1.NC)(a):"0x",n?(0,s1.NC)(n):"0x",o??"0x",s?(0,s1.NC)(s):"0x",d??"0x",(0,aN.g)(l),u,...(0,ar.d)(e,t)];return(0,ae.SM)(["0x7b",(0,at.LV)(f)])}(e,t):ay(e,t)}},fees:{estimateFeesPerGas:async e=>{if(!e.request?.feeCurrency)return null;let[t,r]=await Promise.all([av(e.client,e.request.feeCurrency),aw(e.client,e.request.feeCurrency)]);return{maxFeePerGas:e.multiply(t-r)+r,maxPriorityFeePerGas:r}}}};aP.contracts,aP.contracts,(0,sX.a)({id:44,name:"Crab Network",nativeCurrency:{decimals:18,name:"Crab Network Native Token",symbol:"CRAB"},rpcUrls:{default:{http:["https://crab-rpc.darwinia.network"],webSocket:["wss://crab-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://crab-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3032593}}}),(0,sX.a)({id:66665,name:"Creator",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.creatorchain.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.creatorchain.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},testnet:!0}),ab.contracts,ab.contracts,(0,sX.a)({id:53457,name:"DODOchain Testnet",nativeCurrency:{decimals:18,name:"DODO",symbol:"DODO"},rpcUrls:{default:{http:["https://dodochain-testnet.alt.technology"],webSocket:["wss://dodochain-testnet.alt.technology/ws"]}},blockExplorers:{default:{name:"DODOchain Testnet (Sepolia) Explorer",url:"https://testnet-scan.dodochain.com"}},testnet:!0}),r(55807),r(87728),r(71943),ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,(0,sX.a)({...ab,id:3397901,network:"funkiSepolia",name:"Funki Sepolia Sandbox",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://funki-testnet.alt.technology"]}},blockExplorers:{default:{name:"Funki Sepolia Sandbox Explorer",url:"https://sepolia-sandbox.funkichain.com/"}},testnet:!0,contracts:{...ab.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204}},sourceId:11155111}),(0,sX.a)({...ab,name:"Garnet Testnet",testnet:!0,id:17069,sourceId:17e3,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"],webSocket:["wss://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}},contracts:{...ab.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{17e3:{address:"0x57ee40586fbE286AfC75E67cb69511A6D9aF5909",blockCreated:1274684}},l2OutputOracle:{17e3:{address:"0xCb8E7AC561b8EF04F2a15865e9fbc0766FEF569B",blockCreated:1274684}},l1StandardBridge:{17e3:{address:"0x09bcDd311FE398F80a78BE37E489f5D440DB95DE",blockCreated:1274684}}}}),ab.contracts,ab.contracts,(0,sX.a)({id:701,name:"Koi Network",nativeCurrency:{decimals:18,name:"Koi Network Native Token",symbol:"KRING"},rpcUrls:{default:{http:["https://koi-rpc.darwinia.network"],webSocket:["wss://koi-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://koi-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:180001}},testnet:!0});var aO=r(31728),a_=r(69590),aR=r(94293),aT=r(47882),ak=r(58932);async function aB(e,t){let{account:r=e.account}=t;if(!r)throw new a_.o;let n=(0,aO.T)(r);try{let{accessList:r,blockNumber:i,blockTag:o,data:s,gas:a,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:f,value:h,...p}=t,g=("bigint"==typeof i?(0,s1.eC)(i):void 0)||o;(0,ak.F)(t);let m=e.chain?.formatters?.transactionRequest?.format,y=(m||s3.tG)({...(0,aT.K)(p,{format:m}),from:n?.address,accessList:r,data:s,gas:a,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:d,to:f,value:h}),{baseFeePerGas:b,gasLimit:v,priorityFeePerGas:w}=await e.request({method:"linea_estimateGas",params:g?[y,g]:[y]});return{baseFeePerGas:BigInt(b),gasLimit:BigInt(v),priorityFeePerGas:BigInt(w)}}catch(r){throw(0,aR.P)(r,{...t,account:n,chain:e.chain})}}async function aU({client:e,multiply:t,request:r,type:n}){try{let i=await aB(e,{...r,account:r?.account}),{priorityFeePerGas:o}=i,s=t(BigInt(i.baseFeePerGas))+o;if("legacy"===n)return{gasPrice:s};return{maxFeePerGas:s,maxPriorityFeePerGas:o}}catch{return null}}function aM(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,(0,sX.a)({id:166,name:"Omni",nativeCurrency:{name:"Omni",symbol:"OMNI",decimals:18},rpcUrls:{default:{http:["https://mainnet.omni.network"],webSocket:["wss://mainnet.omni.network"]}},blockExplorers:{default:{name:"OmniScan",url:"https://omniscan.network"}},testnet:!1}),ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,(0,sX.a)({...ab,name:"Pyrope Testnet",testnet:!0,id:695569,sourceId:11155111,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.pyropechain.com"],webSocket:["wss://rpc.pyropechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://pyrope.blockscout.com"}},contracts:{...ab.contracts,l1StandardBridge:{11155111:{address:"0xC24932c31D9621aE9e792576152B7ef010cFC2F8"}}}}),(0,sX.a)({...ab,name:"Redstone",id:690,sourceId:1,nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.redstonechain.com"],webSocket:["wss://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz"}},contracts:{...ab.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{1:{address:"0xC7bCb0e8839a28A1cFadd1CF716de9016CdA51ae",blockCreated:19578329}},l2OutputOracle:{1:{address:"0xa426A052f657AEEefc298b3B5c35a470e4739d69",blockCreated:19578337}},l1StandardBridge:{1:{address:"0xc473ca7E02af24c129c2eEf51F2aDf0411c1Df69",blockCreated:19578331}}}}),ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts,ab.contracts;let aL=aM({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),aD=aM({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});aM({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),aM({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),aM({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0}),aM({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});let aj={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},aF={getMethodsByChainNamespace:e=>aj[e]||[],createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};let r={...e},n=new Set;if(t.methods&&Object.keys(t.methods).forEach(e=>n.add(e)),t.chains&&Object.keys(t.chains).forEach(e=>n.add(e)),t.events&&Object.keys(t.events).forEach(e=>n.add(e)),t.rpcMap&&Object.keys(t.rpcMap).forEach(e=>{let[t]=e.split(":");t&&n.add(t)}),n.forEach(e=>{r[e]||(r[e]=this.createDefaultNamespace(e))}),t.methods&&Object.entries(t.methods).forEach(e=>{let[t,n]=e;r[t]&&(r[t].methods=n)}),t.chains&&Object.entries(t.chains).forEach(e=>{let[t,n]=e;r[t]&&(r[t].chains=n)}),t.events&&Object.entries(t.events).forEach(e=>{let[t,n]=e;r[t]&&(r[t].events=n)}),t.rpcMap){let e=new Set;Object.entries(t.rpcMap).forEach(t=>{let[n,i]=t,[o,s]=n.split(":");o&&s&&r[o]&&(r[o].rpcMap||(r[o].rpcMap={}),e.has(o)||(r[o].rpcMap={},e.add(o)),r[o].rpcMap[s]=i)})}return r},createNamespaces(e,t){let r=e.reduce((e,t)=>{let{id:r,chainNamespace:n,rpcUrls:i}=t,o=i.default.http[0];e[n]||(e[n]=this.createDefaultNamespace(n));let s="".concat(n,":").concat(r),a=e[n];switch(a.chains.push(s),s){case aL.caipNetworkId:a.chains.push(aL.deprecatedCaipNetworkId);break;case aD.caipNetworkId:a.chains.push(aD.deprecatedCaipNetworkId)}return(null==a?void 0:a.rpcMap)&&o&&(a.rpcMap[r]=o),e},{});return this.applyNamespaceOverrides(r,t)},resolveReownName:async e=>{var t;let r=await s.a.resolveName(e);return(null===(t=(Object.values(null==r?void 0:r.addresses)||[])[0])||void 0===t?void 0:t.address)||!1},getChainsFromNamespaces(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(e).flatMap(e=>Array.from(new Set([...e.chains||[],...e.accounts.map(e=>{let[t,r]=e.split(":");return"".concat(t,":").concat(r)})])))},isSessionEventData:e=>"object"==typeof e&&null!==e&&"id"in e&&"topic"in e&&"params"in e&&"object"==typeof e.params&&null!==e.params&&"chainId"in e.params&&"event"in e.params&&"object"==typeof e.params.event&&null!==e.params.event,isOriginAllowed(e,t,r){for(let n of[...t,...r])if(n.includes("*")){let t=n.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&");if(RegExp("^".concat(t.replace(/\\\*/gu,".*"),"$"),"u").test(e))return!0}else try{if(new URL(n).origin===e)return!0}catch(t){if(n===e)return!0}return!1},listenWcProvider(e){let{universalProvider:t,namespace:r,onConnect:n,onDisconnect:i,onAccountsChanged:s,onChainChanged:a,onDisplayUri:c}=e;n&&t.on("connect",()=>{n(aF.getWalletConnectAccounts(t,r))}),i&&t.on("disconnect",()=>{i()}),s&&t.on("accountsChanged",e=>{try{var n,i,a,c,l;let u=(null===(a=t.session)||void 0===a?void 0:null===(i=a.namespaces)||void 0===i?void 0:null===(n=i[r])||void 0===n?void 0:n.accounts)||[],d=null===(l=t.rpcProviders)||void 0===l?void 0:null===(c=l[r])||void 0===c?void 0:c.getDefaultChain(),f=e.map(e=>{let t=u.find(t=>t.includes("".concat(r,":").concat(d,":").concat(e)));if(!t)return;let{chainId:n,chainNamespace:i}=o.uB.parseCaipAddress(t);return{address:e,chainId:n,chainNamespace:i}}).filter(e=>void 0!==e);f.length>0&&s(f)}catch(t){console.warn("Failed to parse accounts for namespace on accountsChanged event",r,e,t)}}),a&&t.on("chainChanged",e=>{a(e)}),c&&t.on("display_uri",e=>{c(e)})},getWalletConnectAccounts(e,t){var r,n,i,s;let a=new Set,c=null==e?void 0:null===(s=e.session)||void 0===s?void 0:null===(i=s.namespaces)||void 0===i?void 0:null===(n=i[t])||void 0===n?void 0:null===(r=n.accounts)||void 0===r?void 0:r.map(e=>o.uB.parseCaipAddress(e)).filter(e=>{let{address:t}=e;return!a.has(t.toLowerCase())&&(a.add(t.toLowerCase()),!0)});return c&&c.length>0?c:[]}};class aq{async syncConnections(e){switch(this.namespace){case o.bq.CHAIN.EVM:await this.syncEVMConnections(e);break;case o.bq.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case o.bq.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw Error("Unsupported chain namespace: ".concat(this.namespace))}}async syncEVMConnections(e){let{connectors:t,caipNetworks:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:a}=e;await Promise.all(t.filter(e=>{let{hasDisconnected:t,hasConnected:r}=i(e.id);return!t&&r}).map(async e=>{if(e.id===o.bq.CONNECTOR_ID.WALLET_CONNECT){let t=aF.getWalletConnectAccounts(n,this.namespace),i=r.find(e=>{var r,n;return e.chainNamespace===this.namespace&&e.id.toString()===(null===(n=t[0])||void 0===n?void 0:null===(r=n.chainId)||void 0===r?void 0:r.toString())});t.length>0&&s({connectorId:e.id,accounts:t.map(e=>({address:e.address})),caipNetwork:i})}else{let{accounts:t,chainId:n}=await sH.C.fetchProviderData(e);if(t.length>0&&n){let i=r.find(e=>e.chainNamespace===this.namespace&&e.id.toString()===n.toString());s({connectorId:e.id,accounts:t.map(e=>({address:e})),caipNetwork:i}),e.provider&&e.id!==o.bq.CONNECTOR_ID.AUTH&&e.id!==o.bq.CONNECTOR_ID.WALLET_CONNECT&&a(e.id,e.provider)}}}))}async syncSolanaConnections(e){let{connectors:t,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:a}=e;await Promise.all(t.filter(e=>{let{hasDisconnected:t,hasConnected:r}=i(e.id);return!t&&r}).map(async e=>{if(e.id===o.bq.CONNECTOR_ID.WALLET_CONNECT){let t=aF.getWalletConnectAccounts(n,this.namespace);t.length>0&&s({connectorId:e.id,accounts:t.map(e=>({address:e.address})),caipNetwork:r})}else{let t=await e.connect({chainId:null==r?void 0:r.id});t&&(s({connectorId:e.id,accounts:[{address:t}],caipNetwork:r}),a(e.id,e.provider))}}))}async syncBitcoinConnections(e){let{connectors:t,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:a,onListenProvider:c}=e;await Promise.all(t.filter(e=>{let{hasDisconnected:t,hasConnected:r}=i(e.id);return!t&&r}).map(async e=>{if(e.id===o.bq.CONNECTOR_ID.WALLET_CONNECT){let t=aF.getWalletConnectAccounts(n,this.namespace);t.length>0&&a({connectorId:e.id,accounts:t.map(e=>({address:e.address})),caipNetwork:r});return}let t=await e.connect(),i=await e.getAccountAddresses(),l=null==i?void 0:i.map(e=>s.j1.createAccount(o.bq.CHAIN.BITCOIN,e.address,e.purpose||"payment",e.publicKey,e.path));if(l&&l.length>1){var u,d,f,h,p,g,m,y,b,v,w,E;l=[{namespace:o.bq.CHAIN.BITCOIN,publicKey:null!==(m=null===(u=l[sJ.ACCOUNT_INDEXES.PAYMENT])||void 0===u?void 0:u.publicKey)&&void 0!==m?m:"",path:null!==(y=null===(d=l[sJ.ACCOUNT_INDEXES.PAYMENT])||void 0===d?void 0:d.path)&&void 0!==y?y:"",address:null!==(b=null===(f=l[sJ.ACCOUNT_INDEXES.PAYMENT])||void 0===f?void 0:f.address)&&void 0!==b?b:"",type:"payment"},{namespace:o.bq.CHAIN.BITCOIN,publicKey:null!==(v=null===(h=l[sJ.ACCOUNT_INDEXES.ORDINAL])||void 0===h?void 0:h.publicKey)&&void 0!==v?v:"",path:null!==(w=null===(p=l[sJ.ACCOUNT_INDEXES.ORDINAL])||void 0===p?void 0:p.path)&&void 0!==w?w:"",address:null!==(E=null===(g=l[sJ.ACCOUNT_INDEXES.ORDINAL])||void 0===g?void 0:g.address)&&void 0!==E?E:"",type:"ordinal"}]}if(!(e.chains.find(e=>e.id===(null==r?void 0:r.id))||e.chains[0]))throw Error("The connector does not support any of the requested chains");t&&(c(e.id,e.provider),a({connectorId:e.id,accounts:l.map(e=>({address:e.address,type:e.type})),caipNetwork:r}))}))}getConnection(e){let{address:t,connectorId:r,connections:n,connectors:i}=e;if(r){let e=n.find(e=>sV.gk.isLowerCaseMatch(e.connectorId,r));if(!e)return null;let o=i.find(t=>sV.gk.isLowerCaseMatch(t.id,e.connectorId)),s=t?e.accounts.find(e=>sV.gk.isLowerCaseMatch(e.address,t)):e.accounts[0];return{...e,account:s,connector:o}}let o=n.find(e=>e.accounts.length>0&&i.some(t=>sV.gk.isLowerCaseMatch(t.id,e.connectorId)));if(o){let[e]=o.accounts,t=i.find(e=>sV.gk.isLowerCaseMatch(e.id,o.connectorId));return{...o,account:e,connector:t}}return null}constructor(e){this.namespace=e.namespace}}let az={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class a${get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){let e=this.getCaipNetworks(),t=s.OptionsController.state.universalProviderConfigOverride,r=aF.createNamespaces(e,t);await this.provider.connect({optionalNamespaces:r})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){let e=this.chains.map(e=>e.caipNetworkId);return s.wf.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:aH})}constructor({provider:e,namespace:t}){this.id=o.bq.CONNECTOR_ID.WALLET_CONNECT,this.name=sV.CK.ConnectorNamesMap[o.bq.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=sV.CK.ConnectorImageIds[o.bq.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=s.RY.getCaipNetworks.bind(s.RY),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=t}}let aH=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],aG=[o.bq.CONNECTOR_ID.AUTH,o.bq.CONNECTOR_ID.WALLET_CONNECT];class aW{construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected(e){let{accounts:t,chainId:r}=e,n=this.getCaipNetworks().filter(e=>e.chainNamespace===this.namespace).find(e=>e.id.toString()===(null==r?void 0:r.toString()));t&&n&&this.addConnection({connectorId:o.bq.CONNECTOR_ID.AUTH,accounts:t,caipNetwork:n})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:o.bq.CONNECTOR_ID.AUTH,type:"AUTH",name:o.bq.CONNECTOR_NAMES.AUTH,provider:e,imageId:sV.CK.ConnectorImageIds[o.bq.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=new Set;this.availableConnectors=[...t,...this.availableConnectors].filter(e=>!n.has(e.id)&&(n.add(e.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=new Set;this.availableConnections=[...t,...this.availableConnections].filter(e=>!n.has(e.connectorId.toLowerCase())&&(n.add(e.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(t=>!sV.gk.isLowerCaseMatch(t.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,t){s.Ni.setStatus(e,t)}on(e,t){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),null===(r=this.eventListeners.get(e))||void 0===r||r.add(t)}off(e,t){let r=this.eventListeners.get(e);r&&r.delete(t)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,t){let r=this.eventListeners.get(e);r&&r.forEach(e=>e(t))}async connectWalletConnect(e){let t=this.getWalletConnectConnector();return{clientId:(await t.connectWalletConnect()).clientId}}async switchNetwork(e){let{caipNetwork:t,providerType:r}=e;if(!e.provider)return;let n="provider"in e.provider?e.provider.provider:e.provider;if("WALLET_CONNECT"===r){n.setDefaultChain(t.caipNetworkId);return}if(n&&"AUTH"===r){let e=(0,s.r9)(t.chainNamespace);await n.switchNetwork({chainId:t.caipNetworkId});let r=await n.getUser({chainId:t.caipNetworkId,preferredAccountType:e});this.emit("switchNetwork",r)}}getWalletConnectConnector(){let e=this.connectors.find(e=>e instanceof a$);if(!e)throw Error("WalletConnectConnector not found");return e}onConnect(e,t){if(e.length>0){let{address:r,chainId:n}=s.j1.getAccount(e[0]),i=this.getCaipNetworks().filter(e=>e.chainNamespace===this.namespace).find(e=>e.id.toString()===(null==n?void 0:n.toString())),o=this.connectors.find(e=>e.id===t);r&&(this.emit("accountChanged",{address:r,chainId:n,connector:o}),this.addConnection({connectorId:t,accounts:e.map(e=>{let{address:t}=s.j1.getAccount(e);return{address:t}}),caipNetwork:i}))}}onAccountsChanged(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(e.length>0){var n,i;let{address:r}=s.j1.getAccount(e[0]),a=null===(n=this.connectionManager)||void 0===n?void 0:n.getConnection({connectorId:t,connections:this.connections,connectors:this.connectors});r&&sV.gk.isLowerCaseMatch(this.getConnectorId(o.bq.CHAIN.EVM),t)&&this.emit("accountChanged",{address:r,chainId:null==a?void 0:null===(i=a.caipNetwork)||void 0===i?void 0:i.id,connector:null==a?void 0:a.connector}),this.addConnection({connectorId:t,accounts:e.map(e=>{let{address:t}=s.j1.getAccount(e);return{address:t}}),caipNetwork:null==a?void 0:a.caipNetwork})}else r&&this.onDisconnect(t)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),sV.gk.isLowerCaseMatch(this.getConnectorId(o.bq.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),0===this.connections.length&&this.emit("disconnect")}onChainChanged(e,t){var r;let n="string"==typeof e&&e.startsWith("0x")?sY.hexStringToNumber(e).toString():e.toString(),i=null===(r=this.connectionManager)||void 0===r?void 0:r.getConnection({connectorId:t,connections:this.connections,connectors:this.connectors}),s=this.getCaipNetworks().filter(e=>e.chainNamespace===this.namespace).find(e=>e.id.toString()===n);i&&this.addConnection({connectorId:t,accounts:i.accounts,caipNetwork:s}),sV.gk.isLowerCaseMatch(this.getConnectorId(o.bq.CHAIN.EVM),t)&&this.emit("switchNetwork",{chainId:n})}listenProviderEvents(e,t){if(aG.includes(e))return;let r=t=>this.onAccountsChanged(t,e),n=t=>this.onChainChanged(t,e),i=()=>this.onDisconnect(e);this.providerHandlers[e]||(t.on("disconnect",i),t.on("accountsChanged",r),t.on("chainChanged",n),this.providerHandlers[e]={provider:t,disconnect:i,accountsChanged:r,chainChanged:n})}removeProviderListeners(e){if(this.providerHandlers[e]){let{provider:t,disconnect:r,accountsChanged:n,chainChanged:i}=this.providerHandlers[e];t.removeListener("disconnect",r),t.removeListener("accountsChanged",n),t.removeListener("chainChanged",i),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){var e,t;let r=null===(e=this.connectionManager)||void 0===e?void 0:e.getConnection({connections:this.connections,connectors:this.connectors});if(r){let[e]=r.accounts;this.emit("accountChanged",{address:null==e?void 0:e.address,chainId:null===(t=r.caipNetwork)||void 0===t?void 0:t.id,connector:r.connector})}}constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=e=>s.RY.getCaipNetworks(e),this.getConnectorId=e=>s.ConnectorController.getConnectorId(e),e&&this.construct(e),(null==e?void 0:e.namespace)&&(this.connectionManager=new aq({namespace:e.namespace}))}}class aV extends aW{async setUniversalProvider(e){if(!this.namespace)throw Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new a$({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{let e=this.getWalletConnectConnector();await e.disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts(e){var t,r,n,i;let{namespace:o}=e,a=this.provider;return Promise.resolve({accounts:((null==a?void 0:null===(i=a.session)||void 0===i?void 0:null===(n=i.namespaces)||void 0===n?void 0:null===(r=n[o])||void 0===r?void 0:null===(t=r.accounts)||void 0===t?void 0:t.map(e=>{let[,,t]=e.split(":");return t}).filter((e,t,r)=>r.indexOf(e)===t))||[]).map(e=>s.j1.createAccount(o,e,"bip122"===o?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var t,r,n,i,o;if(!(e.caipNetwork&&s.bq.BALANCE_SUPPORTED_CHAINS.includes(null===(t=e.caipNetwork)||void 0===t?void 0:t.chainNamespace))||(null===(r=e.caipNetwork)||void 0===r?void 0:r.testnet))return{balance:"0.00",symbol:(null===(o=e.caipNetwork)||void 0===o?void 0:o.nativeCurrency.symbol)||""};if(s.Ni.state.balanceLoading&&e.chainId===(null===(n=s.RY.state.activeCaipNetwork)||void 0===n?void 0:n.id))return{balance:s.Ni.state.balance||"0.00",symbol:s.Ni.state.balanceSymbol||""};let a=(await s.Ni.fetchTokenBalance()).find(t=>{var r,n;return t.chainId==="".concat(null===(r=e.caipNetwork)||void 0===r?void 0:r.chainNamespace,":").concat(e.chainId)&&t.symbol===(null===(n=e.caipNetwork)||void 0===n?void 0:n.nativeCurrency.symbol)});return{balance:(null==a?void 0:a.quantity.numeric)||"0.00",symbol:(null==a?void 0:a.symbol)||(null===(i=e.caipNetwork)||void 0===i?void 0:i.nativeCurrency.symbol)||""}}async signMessage(e){var t,r,n;let{provider:i,message:a,address:c}=e;if(!i)throw Error("UniversalAdapter:signMessage - provider is undefined");return{signature:(null===(t=s.RY.state.activeCaipNetwork)||void 0===t?void 0:t.chainNamespace)===o.bq.CHAIN.SOLANA?(await i.request({method:"solana_signMessage",params:{message:P.Z.encode(new TextEncoder().encode(a)),pubkey:c}},null===(r=s.RY.state.activeCaipNetwork)||void 0===r?void 0:r.caipNetworkId)).signature:await i.request({method:"personal_sign",params:[a,c]},null===(n=s.RY.state.activeCaipNetwork)||void 0===n?void 0:n.caipNetworkId)}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){let{caipNetwork:t}=e,r=this.getWalletConnectConnector();if(t.chainNamespace===o.bq.CHAIN.EVM){var n,i,s,a,c,l;try{await (null===(n=r.provider)||void 0===n?void 0:n.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,sK.NCw)(t.id)}]}))}catch(e){if(e.code===az.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||e.code===az.ERROR_INVALID_CHAIN_ID||e.code===az.ERROR_CODE_DEFAULT||(null==e?void 0:null===(s=e.data)||void 0===s?void 0:null===(i=s.originalError)||void 0===i?void 0:i.code)===az.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await (null===(l=r.provider)||void 0===l?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:(0,sK.NCw)(t.id),rpcUrls:[null==t?void 0:null===(a=t.rpcUrls.chainDefault)||void 0===a?void 0:a.http],chainName:t.name,nativeCurrency:t.nativeCurrency,blockExplorerUrls:[null===(c=t.blockExplorers)||void 0===c?void 0:c.default.url]}]}))}catch(e){throw Error("Chain is not supported")}}}r.provider.setDefaultChain(t.caipNetworkId)}getWalletConnectProvider(){let e=this.connectors.find(e=>"WALLET_CONNECT"===e.type);return null==e?void 0:e.provider}}let aK=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],aZ={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(null==e?void 0:e.config))return!1;let t=e.config;return!!e.isEnabled&&t.includes("email")},processFallback:e=>void 0===e?s.bq.DEFAULT_REMOTE_FEATURES.email:!!e},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(null==e?void 0:e.config))return!1;let t=e.config;return!!e.isEnabled&&t.length>0&&t.filter(e=>"email"!==e)},processFallback:e=>void 0===e?s.bq.DEFAULT_REMOTE_FEATURES.socials:"boolean"==typeof e?!!e&&s.bq.DEFAULT_REMOTE_FEATURES.socials:e},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(null==e?void 0:e.config))return!1;let t=e.config;return!!e.isEnabled&&t.length>0&&t},processFallback:e=>void 0===e?s.bq.DEFAULT_REMOTE_FEATURES.swaps:"boolean"==typeof e?!!e&&s.bq.DEFAULT_REMOTE_FEATURES.swaps:e},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(null==e?void 0:e.config))return!1;let t=e.config;return!!e.isEnabled&&t.length>0&&t},processFallback:e=>void 0===e?s.bq.DEFAULT_REMOTE_FEATURES.onramp:"boolean"==typeof e?!!e&&s.bq.DEFAULT_REMOTE_FEATURES.onramp:e},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>void 0===e?s.bq.DEFAULT_REMOTE_FEATURES.activity:!!e},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>void 0===e?s.bq.DEFAULT_REMOTE_FEATURES.reownBranding:!!e},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{var t;return e.isEnabled&&(null!==(t=e.config)&&void 0!==t?t:[])},processFallback:e=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>s.bq.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>s.bq.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>s.bq.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>void 0===e?s.bq.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!e}},aY={localSettingsOverridden:new Set,getApiConfig:(e,t)=>null==t?void 0:t.find(t=>t.id===e),addWarning(e,t){if(void 0!==e){let e=aZ[t],r=e.isLegacy?'"features.'.concat(e.localFeatureName,'" (now "').concat(t,'")'):'"features.'.concat(t,'"');this.localSettingsOverridden.add(r)}},processFeature(e,t,r,n,i){let o=aZ[e],s=t[o.localFeatureName];if(i&&!o.isAvailableOnBasic)return!1;if(n){let t=this.getApiConfig(o.apiFeatureName,r);return(null==t?void 0:t.config)===null?this.processFallbackFeature(e,s):null!=t&&!!t.config&&(void 0!==s&&this.addWarning(s,e),this.processApiFeature(e,t))}return this.processFallbackFeature(e,s)},processApiFeature:(e,t)=>aZ[e].processApi(t),processFallbackFeature:(e,t)=>aZ[e].processFallback(t),async fetchRemoteFeatures(e){var t;let r=null!==(t=e.basic)&&void 0!==t&&t,n=e.features||{};this.localSettingsOverridden.clear();let i=null,o=!1;try{o=null!=(i=await s.ApiController.fetchProjectConfig())}catch(e){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",e)}let a=o&&!r?s.bq.DEFAULT_REMOTE_FEATURES:s.bq.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(let e of aK){let t=this.processFeature(e,n,i,o,r);Object.assign(a,{[e]:t})}}catch(e){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",e),s.bq.DEFAULT_REMOTE_FEATURES}if(o&&this.localSettingsOverridden.size>0){let e="Your local configuration for ".concat(Array.from(this.localSettingsOverridden).join(", ")," was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.");s.AlertController.open({debugMessage:sV.jD.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(e)},"warning")}return a}};class aJ{getChainNamespacesSet(e,t){let r=null==e?void 0:e.map(e=>e.namespace).filter(e=>!!e);return(null==r?void 0:r.length)?[...new Set(r)]:[...new Set(null==t?void 0:t.map(e=>e.chainNamespace))]}async initialize(e){var t,n,i,o,a;if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),s.OptionsController.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await aY.fetchRemoteFeatures(e),s.OptionsController.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&s.ph.setOnrampProviders(this.remoteFeatures.onramp),((null===(t=s.OptionsController.state.remoteFeatures)||void 0===t?void 0:t.email)||Array.isArray(null===(n=s.OptionsController.state.remoteFeatures)||void 0===n?void 0:n.socials)&&(null===(i=s.OptionsController.state.remoteFeatures)||void 0===i?void 0:i.socials.length)>0)&&await this.checkAllowedOrigins(),(null===(o=s.OptionsController.state.features)||void 0===o?void 0:o.reownAuthentication)||(null===(a=s.OptionsController.state.remoteFeatures)||void 0===a?void 0:a.reownAuthentication)){let{ReownAuthentication:e}=await r.e(6748).then(r.bind(r,50723)),t=s.OptionsController.state.siwx;t instanceof e||(t&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),s.OptionsController.setSIWX(new e))}}async checkAllowedOrigins(){try{let e=await s.ApiController.fetchAllowedOrigins();if(!s.j1.isClient())return;let t=window.location.origin;aF.isOriginAllowed(t,e,az.DEFAULT_ALLOWED_ANCESTORS)||s.AlertController.open(sV.jD.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":s.AlertController.open(sV.jD.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{let t=e.cause instanceof Error?e.cause:e;s.AlertController.open({displayMessage:sV.jD.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:sV.jD.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(t.message)},"error")}}}}sendInitializeEvent(e){var t;let{...r}=e;delete r.adapters,delete r.universalProvider,s.Xs.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(e=>e.id),siweConfig:{options:(null===(t=e.siweConfig)||void 0===t?void 0:t.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&s.ThemeController.setThemeMode(e.themeMode),e.themeVariables&&s.ThemeController.setThemeVariables(e.themeVariables)}initializeChainController(e){var t;if(!this.connectionControllerClient||!this.networkControllerClient)throw Error("ConnectionControllerClient and NetworkControllerClient must be set");s.RY.initialize(null!==(t=e.adapters)&&void 0!==t?t:[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});let r=this.getDefaultNetwork();r&&s.RY.setActiveCaipNetwork(r)}initializeConnectionController(e){var t,r;s.ConnectionController.initialize(null!==(t=e.adapters)&&void 0!==t?t:[]),s.ConnectionController.setWcBasic(null!==(r=e.basic)&&void 0!==r&&r)}initializeConnectorController(){s.ConnectorController.initialize(this.chainNamespaces)}initializeProjectSettings(e){s.OptionsController.setProjectId(e.projectId),s.OptionsController.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var t,r;s.OptionsController.setDebug(!1!==e.debug),s.OptionsController.setEnableWalletConnect(!1!==e.enableWalletConnect),s.OptionsController.setEnableWalletGuide(!1!==e.enableWalletGuide),s.OptionsController.setEnableWallets(!1!==e.enableWallets),s.OptionsController.setEIP6963Enabled(!1!==e.enableEIP6963),s.OptionsController.setEnableNetworkSwitch(!1!==e.enableNetworkSwitch),s.OptionsController.setEnableReconnect(!1!==e.enableReconnect),s.OptionsController.setEnableAuthLogger(!1!==e.enableAuthLogger),s.OptionsController.setCustomRpcUrls(e.customRpcUrls),s.OptionsController.setEnableEmbedded(e.enableEmbedded),s.OptionsController.setAllWallets(e.allWallets),s.OptionsController.setIncludeWalletIds(e.includeWalletIds),s.OptionsController.setExcludeWalletIds(e.excludeWalletIds),s.OptionsController.setFeaturedWalletIds(e.featuredWalletIds),s.OptionsController.setTokens(e.tokens),s.OptionsController.setTermsConditionsUrl(e.termsConditionsUrl),s.OptionsController.setPrivacyPolicyUrl(e.privacyPolicyUrl),s.OptionsController.setCustomWallets(e.customWallets),s.OptionsController.setFeatures(e.features),s.OptionsController.setAllowUnsupportedChain(e.allowUnsupportedChain),s.OptionsController.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),s.OptionsController.setPreferUniversalLinks(e.experimental_preferUniversalLinks),s.OptionsController.setDefaultAccountTypes(e.defaultAccountTypes);let n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),s.OptionsController.setMetadata(e.metadata),s.OptionsController.setDisableAppend(e.disableAppend),s.OptionsController.setEnableEmbedded(e.enableEmbedded),s.OptionsController.setSIWX(e.siwx),this.features=null!==(r=s.OptionsController.state.features)&&void 0!==r?r:{},!e.projectId){s.AlertController.open(sV.jD.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if((null===(t=e.adapters)||void 0===t?void 0:t.find(e=>e.namespace===o.bq.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw Error("Cannot set both `siweConfig` and `siwx` options");s.OptionsController.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){if(s.j1.isClient()){var e,t,r,n;return{name:(null===(t=document.getElementsByTagName("title"))||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.textContent)||"",description:(null===(r=document.querySelector('meta[property="og:description"]'))||void 0===r?void 0:r.content)||"",url:window.location.origin,icons:[(null===(n=document.querySelector('link[rel~="icon"]'))||void 0===n?void 0:n.href)||""]}}return null}setUnsupportedNetwork(e){let t=this.getActiveChainNamespace();if(t){let r=sV.fZ.getUnsupportedNetwork("".concat(t,":").concat(e));s.RY.setActiveCaipNetwork(r)}}getDefaultNetwork(){return sV.fZ.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,t){return sV.fZ.extendCaipNetwork(e,{customNetworkImageUrls:t.chainImages,projectId:t.projectId})}extendCaipNetworks(e){return sV.fZ.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){let t=e.networks.find(t=>{var r;return t.id===(null===(r=e.defaultNetwork)||void 0===r?void 0:r.id)});return t?sV.fZ.extendCaipNetwork(t,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,t){try{var r,n;this.setLoading(!0,e);let i={connections:[]},o=this.getAdapter(e);return((null===(n=s.RY.state.chains.get(e))||void 0===n?void 0:null===(r=n.accountState)||void 0===r?void 0:r.caipAddress)||!s.OptionsController.state.enableReconnect)&&(null==o?void 0:o.disconnect)&&(i=await o.disconnect({id:t})),this.setLoading(!1,e),i}catch(t){throw this.setLoading(!1,e),Error("Failed to disconnect chains: ".concat(t.message))}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var e;let t=s.RY.state.activeChain,r=this.getAdapter(t),n=null===(e=this.getCaipNetwork(t))||void 0===e?void 0:e.id,i=s.ConnectionController.getConnections(t),o=this.remoteFeatures.multiWallet,a=i.length>0;if(!r)throw Error("Adapter not found");let c=await r.connectWalletConnect(n);a&&o||this.close(),this.setClientId((null==c?void 0:c.clientId)||null),s.MO.setConnectedNamespaces([...s.RY.state.chains.keys()]),await this.syncWalletConnectAccount(),await s.wf.initializeIfEnabled()},connectExternal:async e=>{let t=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,t),t?{address:t.address}:void 0},reconnectExternal:async e=>{let{id:t,info:r,type:n,provider:i}=e,o=s.RY.state.activeChain,a=this.getAdapter(o);if(!o)throw Error("reconnectExternal: namespace not found");if(!a)throw Error("reconnectExternal: adapter not found");if(null==a?void 0:a.reconnect){var c;await (null==a?void 0:a.reconnect({id:t,info:r,type:n,provider:i,chainId:null===(c=this.getCaipNetwork())||void 0===c?void 0:c.id})),s.MO.addConnectedNamespace(o),this.syncConnectedWalletInfo(o)}},disconnect:async e=>{let{id:t,chainNamespace:r,initialDisconnect:n}=e||{},i=r||s.RY.state.activeChain,a=s.ConnectorController.getConnectorId(i),c=t===o.bq.CONNECTOR_ID.AUTH||a===o.bq.CONNECTOR_ID.AUTH,l=t===o.bq.CONNECTOR_ID.WALLET_CONNECT||a===o.bq.CONNECTOR_ID.WALLET_CONNECT;try{var u;let e=Array.from(s.RY.state.chains.keys()),i=r?[r]:e;(l||c)&&(i=e);let o=i.map(async e=>{let r=s.ConnectorController.getConnectorId(e),i=await this.disconnectNamespace(e,t||r);i&&(c&&s.MO.deleteConnectedSocialProvider(),i.connections.forEach(t=>{s.MO.addDisconnectedConnectorId(t.connectorId,e)})),n&&this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}),a=await Promise.allSettled(o);s.Si.resetSend(),s.ConnectionController.resetWcConnection(),(null===(u=s.wf.getSIWX())||void 0===u?void 0:u.signOutOnDisconnect)&&await s.wf.clearSessions(),s.ConnectorController.setFilterByNamespace(void 0),s.ConnectionController.syncStorageConnections();let d=a.filter(e=>"rejected"===e.status);if(d.length>0)throw Error(d.map(e=>e.reason.message).join(", "));s.Xs.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(e){throw Error("Failed to disconnect chains: ".concat(e.message))}},checkInstalled:e=>e?e.some(e=>{var t;return!!(null===(t=window.ethereum)||void 0===t?void 0:t[String(e)])}):!!window.ethereum,signMessage:async e=>{let t=s.RY.state.activeChain,r=this.getAdapter(s.RY.state.activeChain);if(!t)throw Error("signMessage: namespace not found");if(!r)throw Error("signMessage: adapter not found");let n=await (null==r?void 0:r.signMessage({message:e,address:s.Ni.state.address,provider:sV.hA.getProvider(t)}));return(null==n?void 0:n.signature)||""},sendTransaction:async e=>{let t=e.chainNamespace;if(!t)throw Error("sendTransaction: namespace not found");if(s.bq.SEND_SUPPORTED_NAMESPACES.includes(t)){let r=this.getAdapter(t);if(!r)throw Error("sendTransaction: adapter not found");let n=sV.hA.getProvider(t),i=await (null==r?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:n}));return(null==i?void 0:i.hash)||""}return""},estimateGas:async e=>{let t=e.chainNamespace;if(t===o.bq.CHAIN.EVM){let r=this.getAdapter(t);if(!r)throw Error("estimateGas: adapter is required but got undefined");let n=sV.hA.getProvider(t),i=this.getCaipNetwork();if(!i)throw Error("estimateGas: caipNetwork is required but got undefined");let o=await (null==r?void 0:r.estimateGas({...e,provider:n,caipNetwork:i}));return(null==o?void 0:o.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;let t=s.RY.state.activeChain;if(!t)throw Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:s.Ni.state.address,chainId:Number(null===(e=this.getCaipNetwork())||void 0===e?void 0:e.id),chainNamespace:t}),s.Ni.state.profileImage||!1},getEnsAddress:async e=>await aF.resolveReownName(e),writeContract:async e=>{let t=s.RY.state.activeChain,r=this.getAdapter(t);if(!t)throw Error("writeContract: namespace is required but got undefined");if(!r)throw Error("writeContract: adapter is required but got undefined");let n=this.getCaipNetwork(),i=this.getCaipAddress(),o=sV.hA.getProvider(t);if(!n||!i)throw Error("writeContract: caipNetwork or caipAddress is required but got undefined");let a=await (null==r?void 0:r.writeContract({...e,caipNetwork:n,provider:o,caipAddress:i}));return null==a?void 0:a.hash},parseUnits:(e,t)=>{var r;let n=this.getAdapter(s.RY.state.activeChain);if(!n)throw Error("parseUnits: adapter is required but got undefined");return null!==(r=null==n?void 0:n.parseUnits({value:e,decimals:t}))&&void 0!==r?r:0n},formatUnits:(e,t)=>{var r;let n=this.getAdapter(s.RY.state.activeChain);if(!n)throw Error("formatUnits: adapter is required but got undefined");return null!==(r=null==n?void 0:n.formatUnits({value:e,decimals:t}))&&void 0!==r?r:"0"},getCapabilities:async e=>{let t=this.getAdapter(s.RY.state.activeChain);if(!t)throw Error("getCapabilities: adapter is required but got undefined");return await (null==t?void 0:t.getCapabilities(e))},grantPermissions:async e=>{let t=this.getAdapter(s.RY.state.activeChain);if(!t)throw Error("grantPermissions: adapter is required but got undefined");return await (null==t?void 0:t.grantPermissions(e))},revokePermissions:async e=>{let t=this.getAdapter(s.RY.state.activeChain);if(!t)throw Error("revokePermissions: adapter is required but got undefined");return(null==t?void 0:t.revokePermissions)?await t.revokePermissions(e):"0x"},walletGetAssets:async e=>{var t;let r=this.getAdapter(s.RY.state.activeChain);if(!r)throw Error("walletGetAssets: adapter is required but got undefined");return null!==(t=await (null==r?void 0:r.walletGetAssets(e)))&&void 0!==t?t:{}},updateBalance:e=>{let t=this.getCaipNetwork(e);t&&s.Ni.state.address&&this.updateNativeBalance(s.Ni.state.address,null==t?void 0:t.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},s.ConnectionController.setClient(this.connectionControllerClient)}async onConnectExternal(e){var t,r,n,i,a,c,l,u;let d=s.RY.state.activeChain,f=e.chain||d,h=this.getAdapter(f),p=!0;if(e.type===sV.bq.CONNECTOR_TYPE_AUTH&&o.bq.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(e=>s.ConnectorController.getConnectorId(e)===o.bq.CONNECTOR_ID.AUTH)&&e.chain!==d&&(p=!1),e.chain&&e.chain!==d&&!e.caipNetwork){let t=this.getCaipNetworks().find(t=>t.chainNamespace===e.chain);t&&p&&this.setCaipNetwork(t)}if(!f)throw Error("connectExternal: namespace not found");if(!h)throw Error("connectExternal: adapter not found");let g=this.getCaipNetwork(f),m=e.caipNetwork||g,y=await h.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:(null===(t=e.caipNetwork)||void 0===t?void 0:t.id)||(null==g?void 0:g.id),rpcUrl:(null===(a=e.caipNetwork)||void 0===a?void 0:null===(i=a.rpcUrls)||void 0===i?void 0:null===(n=i.default)||void 0===n?void 0:null===(r=n.http)||void 0===r?void 0:r[0])||(null==g?void 0:null===(u=g.rpcUrls)||void 0===u?void 0:null===(l=u.default)||void 0===l?void 0:null===(c=l.http)||void 0===c?void 0:c[0])});if(y)return s.MO.addConnectedNamespace(f),this.syncProvider({...y,chainNamespace:f}),this.setStatus("connected",f),this.syncConnectedWalletInfo(f),s.MO.removeDisconnectedConnectorId(e.id,f),{address:y.address,connectedCaipNetwork:m}}async connectInactiveNamespaces(e,t){var r;let n=e.type===sV.bq.CONNECTOR_TYPE_AUTH,i=sV.gk.getOtherAuthNamespaces(null==t?void 0:null===(r=t.connectedCaipNetwork)||void 0===r?void 0:r.chainNamespace),o=s.RY.state.activeCaipNetwork,a=this.getAdapter(null==o?void 0:o.chainNamespace),c=sV.hA.getProvider(null==o?void 0:o.chainNamespace);n&&(await Promise.all(i.map(async t=>{try{var r,n,i;let o=sV.hA.getProvider(t),a=this.getCaipNetwork(t),c=this.getAdapter(t);await (null==c?void 0:c.connect({...e,provider:o,socialUri:void 0,chainId:null==a?void 0:a.id,rpcUrl:null==a?void 0:null===(i=a.rpcUrls)||void 0===i?void 0:null===(n=i.default)||void 0===n?void 0:null===(r=n.http)||void 0===r?void 0:r[0]}))&&(s.MO.addConnectedNamespace(t),s.MO.removeDisconnectedConnectorId(e.id,t),this.setStatus("connected",t),this.syncConnectedWalletInfo(t))}catch(e){s.AlertController.warn(sV.jD.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,sV.jD.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(t,e instanceof Error?e.message:void 0),sV.jD.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),o&&await (null==a?void 0:a.switchNetwork({caipNetwork:o,provider:c,providerType:e.type})))}getApprovedCaipNetworksData(){if(sV.hA.getProviderId(s.RY.state.activeChain)===sV.bq.CONNECTOR_TYPE_WALLET_CONNECT){var e,t,r,n,i;let o=null===(t=this.universalProvider)||void 0===t?void 0:null===(e=t.session)||void 0===e?void 0:e.namespaces;return{supportsAllNetworks:(null===(i=this.universalProvider)||void 0===i?void 0:null===(n=i.session)||void 0===n?void 0:null===(r=n.peer)||void 0===r?void 0:r.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(o)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;let t=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){let r=sV.hA.getProvider(t),n=sV.hA.getProviderId(t);if(e.chainNamespace===s.RY.state.activeChain){let i=this.getAdapter(t);await (null==i?void 0:i.switchNetwork({caipNetwork:e,provider:r,providerType:n}))}else if(this.setCaipNetwork(e),n===sV.bq.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{let r=this.getAddressByChainNamespace(t);r&&this.syncAccount({address:r,chainId:e.id,chainNamespace:t})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(e).flatMap(e=>Array.from(new Set([...e.chains||[],...e.accounts.map(e=>{let{chainId:t,chainNamespace:r}=o.uB.parseCaipAddress(e);return"".concat(r,":").concat(t)})])))}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((t,r)=>{let n=null==e?void 0:e.find(e=>e.namespace===r);if(n){var i;n.construct({namespace:r,projectId:null===(i=this.options)||void 0===i?void 0:i.projectId,networks:this.getCaipNetworks()}),t[r]=n}else t[r]=new aV({namespace:r,networks:this.getCaipNetworks()});return t},{})}async initChainAdapter(e){var t;this.onConnectors(e),this.listenAdapter(e),await (null===(t=this.chainAdapters)||void 0===t?void 0:t[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){let t=this.getAdapter(e);null==t||t.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){let t=this.getAdapter(e);if(!t)return;let r=s.MO.getConnectionStatus();!1===s.OptionsController.state.enableReconnect?this.setStatus("disconnected",e):"connected"===r?this.setStatus("connecting",e):("disconnected"===r&&s.MO.clearAddressCache(),this.setStatus(r,e)),t.on("switchNetwork",t=>{var r,n;let{address:i,chainId:o}=t,a=this.getCaipNetworks().find(e=>e.id.toString()===o.toString()||e.caipNetworkId.toString()===o.toString()),c=s.RY.state.activeChain===e,l=null===(n=s.RY.state.chains.get(e))||void 0===n?void 0:null===(r=n.accountState)||void 0===r?void 0:r.address;if(a){let t=c&&i?i:l;t&&this.syncAccount({address:t,chainId:a.id,chainNamespace:e})}else this.setUnsupportedNetwork(o)}),t.on("disconnect",()=>{let t=this.remoteFeatures.multiWallet,r=Array.from(s.ConnectionController.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!t||0===r.length})}),t.on("connections",t=>{this.setConnections(t,e)}),t.on("pendingTransactions",()=>{let e=s.Ni.state.address,t=s.RY.state.activeCaipNetwork;e&&(null==t?void 0:t.id)&&this.updateNativeBalance(e,t.id,t.chainNamespace)}),t.on("accountChanged",t=>{var r,n;let{address:i,chainId:o,connector:a}=t,c=s.RY.state.activeChain===e;(null==a?void 0:a.provider)&&(this.syncProvider({id:a.id,type:a.type,provider:a.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));let l=null===(n=s.RY.getNetworkData(e))||void 0===n?void 0:null===(r=n.caipNetwork)||void 0===r?void 0:r.id,u=o||l;c&&u?this.syncAccount({address:i,chainId:u,chainNamespace:e}):!c&&u?(this.syncAccountInfo(i,u,e),this.syncBalance({address:i,chainId:u,chainNamespace:e})):this.syncAccountInfo(i,o,e),s.MO.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){if(await this.getUniversalProvider(),this.universalProvider){var t,r,n;await (null===(n=this.chainAdapters)||void 0===n?void 0:null===(r=n[e])||void 0===r?void 0:null===(t=r.setUniversalProvider)||void 0===t?void 0:t.call(r,this.universalProvider))}}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>s.ConnectionController.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){var e,t,r,n;await this.syncWalletConnectAccount();let i=this.getAddress();s.Xs.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:i,properties:{method:s.j1.isMobile()?"mobile":"qrcode",name:(null===(n=this.universalProvider)||void 0===n?void 0:null===(r=n.session)||void 0===r?void 0:null===(t=r.peer)||void 0===t?void 0:null===(e=t.metadata)||void 0===e?void 0:e.name)||"Unknown",reconnect:!0}})}async syncNamespaceConnection(e){try{e===o.bq.CHAIN.EVM&&s.j1.isSafeApp()&&s.ConnectorController.setConnectorId(o.bq.CONNECTOR_ID.SAFE,e);let t=s.ConnectorController.getConnectorId(e);switch(this.setStatus("connecting",e),t){case o.bq.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case o.bq.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(t){console.warn("AppKit couldn't sync existing connection",t),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){let{chainNamespace:t,closeModal:r}=e||{};s.RY.resetAccount(t),s.RY.resetNetwork(t),s.MO.removeConnectedNamespace(t);let n=Array.from(s.RY.state.chains.keys());(t?[t]:n).forEach(e=>s.MO.addDisconnectedConnectorId(s.ConnectorController.getConnectorId(e)||"",e)),s.ConnectorController.removeConnectorId(t),sV.hA.resetChain(t),this.setUser(void 0,t),this.setStatus("disconnected",t),this.setConnectedWalletInfo(void 0,t),!1!==r&&s.IN.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{var t;let r=this.getCaipAddress(e),n=this.getCaipNetwork(e);return null===(t=this.chainAdapters)||void 0===t?void 0:t[e].syncConnections({connectToFirstConnector:!r,caipNetwork:n,getConnectorStorageInfo(t){var r;let n=null!==(r=s.MO.getConnections()[e])&&void 0!==r?r:[];return{hasDisconnected:s.MO.isConnectorDisconnected(t,e),hasConnected:n.some(e=>sV.gk.isLowerCaseMatch(e.connectorId,t))}}})}))}async syncAdapterConnection(e){let t=this.getAdapter(e),r=s.ConnectorController.getConnectorId(e),n=this.getCaipNetwork(e),i=s.ConnectorController.getConnectors(e).find(e=>e.id===r);try{var o,a,c,l;if(!t||!i)throw Error("Adapter or connector not found for namespace ".concat(e));if(!(null==n?void 0:n.id))throw Error("CaipNetwork not found");let r=await (null==t?void 0:t.syncConnection({namespace:e,id:i.id,chainId:n.id,rpcUrl:null==n?void 0:null===(c=n.rpcUrls)||void 0===c?void 0:null===(a=c.default)||void 0===a?void 0:null===(o=a.http)||void 0===o?void 0:o[0]}));r?(this.syncProvider({...r,chainNamespace:e}),await this.syncAccount({...r,chainNamespace:e}),this.setStatus("connected",e),s.Xs.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:r.address,properties:{method:"browser",name:(null===(l=i.info)||void 0===l?void 0:l.name)||i.name||"Unknown",reconnect:!0}})):this.setStatus("disconnected",e)}catch(t){this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){var e,t;let r=Object.keys((null===(t=this.universalProvider)||void 0===t?void 0:null===(e=t.session)||void 0===e?void 0:e.namespaces)||{}),n=this.chainNamespaces.map(async e=>{var t,n,i,a,c;let l=this.getAdapter(e);if(!l)return;let u=(null===(a=this.universalProvider)||void 0===a?void 0:null===(i=a.session)||void 0===i?void 0:null===(n=i.namespaces)||void 0===n?void 0:null===(t=n[e])||void 0===t?void 0:t.accounts)||[],d=null===(c=s.RY.state.activeCaipNetwork)||void 0===c?void 0:c.id,f=u.find(e=>{let{chainId:t}=o.uB.parseCaipAddress(e);return t===(null==d?void 0:d.toString())})||u[0];if(f){let t=o.uB.validateCaipAddress(f),{chainId:r,address:n}=o.uB.parseCaipAddress(t);if(sV.hA.setProviderId(e,sV.bq.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&s.RY.state.activeCaipNetwork&&l.namespace!==o.bq.CHAIN.EVM){let t=l.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:s.RY.state.activeCaipNetwork});sV.hA.setProvider(e,t)}else sV.hA.setProvider(e,this.universalProvider);s.ConnectorController.setConnectorId(o.bq.CONNECTOR_ID.WALLET_CONNECT,e),s.MO.addConnectedNamespace(e),await this.syncAccount({address:n,chainId:r,chainNamespace:e})}else r.includes(e)&&this.setStatus("disconnected",e);this.syncConnectedWalletInfo(e),await s.RY.setApprovedCaipNetworksData(e)});await Promise.all(n)}syncProvider(e){let{type:t,provider:r,id:n,chainNamespace:i}=e;sV.hA.setProviderId(i,t),sV.hA.setProvider(i,r),s.ConnectorController.setConnectorId(n,i)}async syncAccount(e){var t,r;let n=e.chainNamespace===s.RY.state.activeChain,i=s.RY.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:a,chainId:c,chainNamespace:l}=e,{chainId:u}=s.MO.getActiveNetworkProps(),d=c||u,f=(null===(t=s.RY.state.activeCaipNetwork)||void 0===t?void 0:t.name)===o.bq.UNSUPPORTED_NETWORK_NAME,h=s.RY.getNetworkProp("supportsAllNetworks",l);if(this.setStatus("connected",l),(!f||h)&&d){let e=this.getCaipNetworks().find(e=>e.id.toString()===d.toString()),t=this.getCaipNetworks().find(e=>e.chainNamespace===l);if(!h&&!e&&!t){let r=this.getApprovedCaipNetworkIds()||[],n=r.find(e=>{var t;return(null===(t=o.uB.parseCaipNetworkId(e))||void 0===t?void 0:t.chainId)===d.toString()}),i=r.find(e=>{var t;return(null===(t=o.uB.parseCaipNetworkId(e))||void 0===t?void 0:t.chainNamespace)===l});e=this.getCaipNetworks().find(e=>e.caipNetworkId===n),t=this.getCaipNetworks().find(e=>e.caipNetworkId===i||"deprecatedCaipNetworkId"in e&&e.deprecatedCaipNetworkId===i)}let u=e||t;(null==u?void 0:u.chainNamespace)===s.RY.state.activeChain?s.OptionsController.state.enableNetworkSwitch&&!s.OptionsController.state.allowUnsupportedChain&&(null===(r=s.RY.state.activeCaipNetwork)||void 0===r?void 0:r.name)===o.bq.UNSUPPORTED_NETWORK_NAME?s.RY.showUnsupportedChainUI():this.setCaipNetwork(u):!n&&i&&this.setCaipNetworkOfNamespace(i,l),this.syncConnectedWalletInfo(l),sV.gk.isLowerCaseMatch(a,s.Ni.state.address)||this.syncAccountInfo(a,null==u?void 0:u.id,l),n?await this.syncBalance({address:a,chainId:null==u?void 0:u.id,chainNamespace:l}):await this.syncBalance({address:a,chainId:null==i?void 0:i.id,chainNamespace:l}),this.syncIdentity({address:a,chainId:c,chainNamespace:l})}}async syncAccountInfo(e,t,r){let n=this.getCaipAddress(r),i=t||(null==n?void 0:n.split(":")[1]);if(!i)return;let o="".concat(r,":").concat(i,":").concat(e);this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,t){try{let r=await this.getReownName(e);if(r[0]){let e=r[0];this.setProfileName(e.name,t)}else this.setProfileName(null,t)}catch(e){this.setProfileName(null,t)}}syncConnectedWalletInfo(e){let t=s.ConnectorController.getConnectorId(e),r=sV.hA.getProviderId(e);if(r===sV.bq.CONNECTOR_TYPE_ANNOUNCED||r===sV.bq.CONNECTOR_TYPE_INJECTED){if(t){let r=this.getConnectors().find(e=>{var r,n;let i=e.id===t,o=(null===(r=e.info)||void 0===r?void 0:r.rdns)===t,s=null===(n=e.connectors)||void 0===n?void 0:n.some(e=>{var r;return e.id===t||(null===(r=e.info)||void 0===r?void 0:r.rdns)===t});return i||o||!!s});if(r){let{info:t,name:n,imageUrl:i}=r,o=i||this.getConnectorImage(r);this.setConnectedWalletInfo({name:n,icon:o,...t},e)}}}else if(r===sV.bq.CONNECTOR_TYPE_WALLET_CONNECT){let t=sV.hA.getProvider(e);if(null==t?void 0:t.session){var n;this.setConnectedWalletInfo({...t.session.peer.metadata,name:t.session.peer.metadata.name,icon:null===(n=t.session.peer.metadata.icons)||void 0===n?void 0:n[0]},e)}}else if(t&&(t===o.bq.CONNECTOR_ID.COINBASE_SDK||t===o.bq.CONNECTOR_ID.COINBASE)){let r=this.getConnectors().find(e=>e.id===t),n=(null==r?void 0:r.name)||"Coinbase Wallet",i=(null==r?void 0:r.imageUrl)||this.getConnectorImage(r),o=null==r?void 0:r.info;this.setConnectedWalletInfo({...o,name:n,icon:i},e)}}async syncBalance(e){o.p1.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(t=>{var r;return t.id.toString()===(null===(r=e.chainId)||void 0===r?void 0:r.toString())})&&e.chainId&&await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,t,r){let n=this.getAdapter(r),i=s.RY.getCaipNetworkByNamespace(r,t);if(n){let o=await n.getBalance({address:e,chainId:t,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var e,t,r,n,i,o,a,c,l,u,d,f=this;let h=sV.eF.createLogger(function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e&&f.handleAlertError(e),console.error(...r)}),p={projectId:null===(e=this.options)||void 0===e?void 0:e.projectId,metadata:{name:(null===(t=this.options)||void 0===t?void 0:t.metadata)?null===(r=this.options)||void 0===r?void 0:r.metadata.name:"",description:(null===(n=this.options)||void 0===n?void 0:n.metadata)?null===(i=this.options)||void 0===i?void 0:i.metadata.description:"",url:(null===(o=this.options)||void 0===o?void 0:o.metadata)?null===(a=this.options)||void 0===a?void 0:a.metadata.url:"",icons:(null===(c=this.options)||void 0===c?void 0:c.metadata)?null===(l=this.options)||void 0===l?void 0:l.metadata.icons:[""]},logger:h};s.OptionsController.setManualWCControl(!!(null===(u=this.options)||void 0===u?void 0:u.manualWCControl)),this.universalProvider=null!==(d=this.options.universalProvider)&&void 0!==d?d:await s$.init(p),!1===s.OptionsController.state.enableReconnect&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{aF.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:e=>{s.ConnectionController.setUri(e)},onConnect:e=>{let{address:t}=s.j1.getAccount(e[0]);s.ConnectionController.finalizeWcConnection(t)},onDisconnect:()=>{s.RY.state.noAdapters&&this.resetAccount(e),s.ConnectionController.resetWcConnection()},onChainChanged:t=>{let r=s.RY.state.activeChain,n=r&&s.ConnectorController.state.activeConnectorIds[r]===o.bq.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(s.RY.state.noAdapters||n)){let e=this.getCaipNetworks().find(e=>e.id.toString()===t.toString()||e.caipNetworkId.toString()===t.toString()),r=this.getCaipNetwork();if(!e){this.setUnsupportedNetwork(t);return}(null==r?void 0:r.id.toString())!==(null==e?void 0:e.id.toString())&&(null==r?void 0:r.chainNamespace)===(null==e?void 0:e.chainNamespace)&&this.setCaipNetwork(e)}},onAccountsChanged:t=>{let r=s.RY.state.activeChain,n=r&&s.ConnectorController.state.activeConnectorIds[r]===o.bq.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(s.RY.state.noAdapters||n)){let e=null==t?void 0:t[0];e&&this.syncAccount({address:e.address,chainId:e.chainId,chainNamespace:e.chainNamespace})}}})})}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&s.j1.isClient()&&(null===(e=this.options)||void 0===e?void 0:e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){s.Xs.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){let t=Object.entries(sV.jD.UniversalProviderErrors).find(t=>{let[,{message:r}]=t;return e.message.includes(r)}),[r,n]=null!=t?t:[],{message:i,alertErrorKey:o}=null!=n?n:{};if(r&&i&&!this.reportedAlertErrors[r]){let e=sV.jD.ALERT_ERRORS[o];e&&(s.AlertController.open(e,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var t;if(e)return null===(t=this.chainAdapters)||void 0===t?void 0:t[e]}createAdapter(e){var t;if(!e)return;let r=e.namespace;r&&(this.createClients(),e.namespace=r,e.construct({namespace:r,projectId:null===(t=this.options)||void 0===t?void 0:t.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=e))}async open(e){return(await this.injectModalUi(),(null==e?void 0:e.uri)&&s.ConnectionController.setUri(e.uri),(null==e?void 0:e.arguments)&&(null==e?void 0:e.view)==="Swap")?s.IN.open({...e,data:{swap:e.arguments}}):s.IN.open(e)}async close(){await this.injectModalUi(),s.IN.close()}setLoading(e,t){s.IN.setLoading(e,t)}async disconnect(e){await s.ConnectionController.disconnect({namespace:e})}getSIWX(){return s.OptionsController.state.siwx}getError(){return""}getChainId(){var e;return null===(e=s.RY.state.activeCaipNetwork)||void 0===e?void 0:e.id}async switchNetwork(e){let t=this.getCaipNetworks().find(t=>t.id===e.id);if(!t){s.AlertController.open(sV.jD.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await s.RY.switchActiveNetwork(t)}getWalletProvider(){return s.RY.state.activeChain?sV.hA.state.providers[s.RY.state.activeChain]:null}getWalletProviderType(){return sV.hA.getProviderId(s.RY.state.activeChain)}subscribeProviders(e){return sV.hA.subscribeProviders(e)}getThemeMode(){return s.ThemeController.state.themeMode}getThemeVariables(){return s.ThemeController.state.themeVariables}setThemeMode(e){s.ThemeController.setThemeMode(e),(0,sW.Hs)(s.ThemeController.state.themeMode)}setTermsConditionsUrl(e){s.OptionsController.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){s.OptionsController.setPrivacyPolicyUrl(e)}setThemeVariables(e){s.ThemeController.setThemeVariables(e),(0,sW.R)(s.ThemeController.state.themeVariables)}subscribeTheme(e){return s.ThemeController.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?s.ConnectionController.subscribe(e):(s.AlertController.open(o.bq.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>void 0)}getWalletInfo(e){if(e){var t,r;return null===(r=s.RY.state.chains.get(e))||void 0===r?void 0:null===(t=r.accountState)||void 0===t?void 0:t.connectedWalletInfo}return s.Ni.state.connectedWalletInfo}getAccount(e){let t=e||s.RY.state.activeChain,r=s.ConnectorController.getAuthConnector(t),n=s.RY.getAccountData(t),i=s.MO.getConnectedConnectorId(s.RY.state.activeChain),a=s.ConnectionController.getConnections(t);if(!t)throw Error("AppKit:getAccount - namespace is required");let c=a.flatMap(e=>e.accounts.map(e=>{let{address:r,type:n,publicKey:i}=e;return s.j1.createAccount(t,r,n||"eoa",i)}));if(n)return{allAccounts:c,caipAddress:n.caipAddress,address:s.j1.getPlainAddress(n.caipAddress),isConnected:!!n.caipAddress,status:n.status,embeddedWalletInfo:r&&i===o.bq.CONNECTOR_ID.AUTH?{user:n.user?{...n.user,username:s.MO.getConnectedSocialUsername()}:void 0,authProvider:n.socialProvider||"email",accountType:(0,s.r9)(t),isSmartAccountDeployed:!!n.smartAccountDeployed}:void 0}}subscribeAccount(e,t){let r=()=>{let r=this.getAccount(t);r&&e(r)};t?s.RY.subscribeChainProp("accountState",r,t):s.RY.subscribe(r),s.ConnectorController.subscribe(r)}subscribeNetwork(e){return s.RY.subscribe(t=>{let{activeCaipNetwork:r}=t;e({caipNetwork:r,chainId:null==r?void 0:r.id,caipNetworkId:null==r?void 0:r.caipNetworkId})})}subscribeWalletInfo(e,t){return t?s.Ni.subscribeKey("connectedWalletInfo",e,t):s.Ni.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){s.Ni.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){s.RY.subscribeKey("activeCaipNetwork",e)}getState(){return s.Ie.state}getRemoteFeatures(){return s.OptionsController.state.remoteFeatures}subscribeState(e){return s.Ie.subscribe(e)}subscribeRemoteFeatures(e){return s.OptionsController.subscribeKey("remoteFeatures",e)}showErrorMessage(e){s.SnackController.showError(e)}showSuccessMessage(e){s.SnackController.showSuccess(e)}getEvent(){return{...s.Xs.state}}subscribeEvents(e){return s.Xs.subscribe(e)}replace(e){s.RouterController.replace(e)}redirect(e){s.RouterController.push(e)}popTransactionStack(e){s.RouterController.popTransactionStack(e)}isOpen(){return s.IN.state.open}isTransactionStackEmpty(){return 0===s.RouterController.state.transactionStack.length}static getInstance(){return this.instance}updateFeatures(e){s.OptionsController.setFeatures(e)}updateRemoteFeatures(e){s.OptionsController.setRemoteFeatures(e)}updateOptions(e){let t={...s.OptionsController.state||{},...e};s.OptionsController.setOptions(t)}setConnectMethodsOrder(e){s.OptionsController.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){s.OptionsController.setWalletFeaturesOrder(e)}setCollapseWallets(e){s.OptionsController.setCollapseWallets(e)}setSocialsOrder(e){s.OptionsController.setSocialsOrder(e)}getConnectMethodsOrder(){return sG.J.getConnectOrderMethod(s.OptionsController.state.features,s.ConnectorController.getConnectors())}addNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw Error("Adapter for namespace ".concat(e," doesn't exist"));let r=this.extendCaipNetwork(t,this.options);this.getCaipNetworks().find(e=>e.id===r.id)||s.RY.addNetwork(r)}removeNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw Error("Adapter for namespace ".concat(e," doesn't exist"));this.getCaipNetworks().find(e=>e.id===t)&&s.RY.removeNetwork(e,t)}constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(e,t)=>{if(e){var r,n,i;let o=null===(r=s.RY.getCaipNetworks(e))||void 0===r?void 0:r.find(e=>e.id===t);return o?o:(null===(n=s.RY.getNetworkData(e))||void 0===n?void 0:n.caipNetwork)||(null===(i=s.RY.getRequestedCaipNetworks(e).filter(t=>t.chainNamespace===e))||void 0===i?void 0:i[0])}return s.RY.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{let e=this.getCaipNetwork();if(e)return e.id},this.getCaipNetworks=e=>s.RY.getCaipNetworks(e),this.getActiveChainNamespace=()=>s.RY.state.activeChain,this.setRequestedCaipNetworks=(e,t)=>{s.RY.setRequestedCaipNetworks(e,t)},this.getApprovedCaipNetworkIds=()=>s.RY.getAllApprovedCaipNetworkIds(),this.getCaipAddress=e=>{var t,r;return s.RY.state.activeChain!==e&&e?null===(r=s.RY.state.chains.get(e))||void 0===r?void 0:null===(t=r.accountState)||void 0===t?void 0:t.caipAddress:s.RY.state.activeCaipAddress},this.setClientId=e=>{s.Lr.setClientId(e)},this.getProvider=e=>sV.hA.getProvider(e),this.getProviderType=e=>sV.hA.getProviderId(e),this.getPreferredAccountType=e=>(0,s.r9)(e),this.setCaipAddress=(e,t)=>{s.Ni.setCaipAddress(e,t)},this.setBalance=(e,t,r)=>{s.Ni.setBalance(e,t,r)},this.setProfileName=(e,t)=>{s.Ni.setProfileName(e,t)},this.setProfileImage=(e,t)=>{s.Ni.setProfileImage(e,t)},this.setUser=(e,t)=>{s.Ni.setUser(e,t)},this.resetAccount=e=>{s.Ni.resetAccount(e)},this.setCaipNetwork=e=>{s.RY.setActiveCaipNetwork(e)},this.setCaipNetworkOfNamespace=(e,t)=>{s.RY.setChainNetworkData(t,{caipNetwork:e})},this.setStatus=(e,t)=>{s.Ni.setStatus(e,t),s.ConnectorController.isConnected()?s.MO.setConnectionStatus("connected"):s.MO.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=e=>{var t,r;return null===(r=s.RY.state.chains.get(e))||void 0===r?void 0:null===(t=r.accountState)||void 0===t?void 0:t.address},this.setConnectors=e=>{let t=[...s.ConnectorController.state.allConnectors,...e];s.ConnectorController.setConnectors(t)},this.setConnections=(e,t)=>{s.MO.setConnections(e,t),s.ConnectionController.setConnections(e,t)},this.fetchIdentity=e=>s.Lr.fetchIdentity(e),this.getReownName=e=>s.a.getNamesForAddress(e),this.getConnectors=()=>s.ConnectorController.getConnectors(),this.getConnectorImage=e=>s.fz.getConnectorImage(e),this.getConnections=e=>this.remoteFeatures.multiWallet?s.f3.getConnectionsData(e).connections:(s.AlertController.open(o.bq.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=e=>this.remoteFeatures.multiWallet?s.f3.getConnectionsData(e).recentConnections:(s.AlertController.open(o.bq.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async e=>{if(!this.remoteFeatures.multiWallet){s.AlertController.open(o.bq.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await s.ConnectionController.switchConnection(e)},this.deleteConnection=e=>{if(!this.remoteFeatures.multiWallet){s.AlertController.open(o.bq.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}s.MO.deleteAddressFromConnection(e),s.ConnectionController.syncStorageConnections()},this.setConnectedWalletInfo=(e,t)=>{let r=sV.hA.getProviderId(t),n=e?{...e,type:r}:void 0;s.Ni.setConnectedWalletInfo(n,t)},this.getIsConnectedState=()=>!!s.RY.state.activeCaipAddress,this.addAddressLabel=(e,t,r)=>{s.Ni.addAddressLabel(e,t,r)},this.removeAddressLabel=(e,t)=>{s.Ni.removeAddressLabel(e,t)},this.getAddress=e=>{var t,r;return s.RY.state.activeChain!==e&&e?null===(r=s.RY.state.chains.get(e))||void 0===r?void 0:null===(t=r.accountState)||void 0===t?void 0:t.address:s.Ni.state.address},this.setApprovedCaipNetworksData=e=>s.RY.setApprovedCaipNetworksData(e),this.resetNetwork=e=>{s.RY.resetNetwork(e)},this.addConnector=e=>{s.ConnectorController.addConnector(e)},this.resetWcConnection=()=>{s.ConnectionController.resetWcConnection()},this.setAddressExplorerUrl=(e,t)=>{s.Ni.setAddressExplorerUrl(e,t)},this.setSmartAccountDeployed=(e,t)=>{s.Ni.setSmartAccountDeployed(e,t)},this.setPreferredAccountType=(e,t)=>{s.RY.setAccountProp("preferredAccountType",e,t)},this.setEIP6963Enabled=e=>{s.OptionsController.setEIP6963Enabled(e)},this.handleUnsafeRPCRequest=()=>{this.isOpen()?this.isTransactionStackEmpty()||this.redirect("ApproveTransaction"):this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}}let aX=!1;class aQ extends aJ{async open(e){s.ConnectorController.isConnected()||await super.open(e)}async close(){await super.close(),this.options.manualWCControl&&s.ConnectionController.finalizeWcConnection(s.Ni.state.address)}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!aX&&s.j1.isClient()){if(await Promise.all([r.e(8562),r.e(2660)]).then(r.bind(r,52660)),await Promise.all([r.e(8562),r.e(9447)]).then(r.bind(r,29447)),!document.querySelector("w3m-modal")){let e=document.createElement("w3m-modal");s.OptionsController.state.disableAppend||s.OptionsController.state.enableEmbedded||document.body.insertAdjacentElement("beforeend",e)}aX=!0}}}function a0(e){return new aQ({...e,basic:!0,sdkVersion:"html-core-".concat("1.8.1")})}},62340:function(e,t,r){"use strict";function n(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}r.d(t,{T:function(){return n}})},75707:function(e,t,r){"use strict";r.d(t,{R:function(){return C}});var n=r(56076),i=r(61684),o=r(62340),s=r(37277),a=r(47724),c=r(45686),l=r(96630),u=r(24358),d=r(14872),f=r(47879),h=r(58911),p=r(7155),g=r(91811),m=r(7498),y=r(10267),b=r(1056),v=r(7680),w=r(34303),E=r(12513);async function C(e,t){var s,d,h,p;let{account:v=e.account,authorizationList:C,batch:x=!!(null===(s=e.batch)||void 0===s?void 0:s.multicall),blockNumber:I,blockTag:N="latest",accessList:S,blobs:P,blockOverrides:O,code:_,data:R,factory:T,factoryData:k,gas:B,gasPrice:U,maxFeePerBlobGas:M,maxFeePerGas:L,maxPriorityFeePerGas:D,nonce:j,to:F,value:q,stateOverride:z,...$}=t,H=v?(0,o.T)(v):void 0;if(_&&(T||k))throw new c.G("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(_&&F)throw new c.G("Cannot provide both `code` & `to` as parameters.");let G=_&&R,W=T&&k&&F&&R,V=G||W,K=G?function(e){let{code:t,data:r}=e;return(0,f.w)({abi:(0,n.Vv)(["constructor(bytes, bytes)"]),bytecode:a.NO,args:[t,r]})}({code:_,data:R}):W?function(e){let{data:t,factory:r,factoryData:i,to:o}=e;return(0,f.w)({abi:(0,n.Vv)(["constructor(address, bytes, address, bytes)"]),bytecode:a.pG,args:[o,t,r,i]})}({data:R,factory:T,factoryData:k,to:F}):R;try{(0,E.F)(t);let r=("bigint"==typeof I?(0,g.eC)(I):void 0)||N,n=O?i.o(O):void 0,o=(0,w.mF)(z),s=null===(p=e.chain)||void 0===p?void 0:null===(h=p.formatters)||void 0===h?void 0:null===(d=h.transactionRequest)||void 0===d?void 0:d.format,a=(s||b.tG)({...(0,y.K)($,{format:s}),from:null==H?void 0:H.address,accessList:S,authorizationList:C,blobs:P,data:K,gas:B,gasPrice:U,maxFeePerBlobGas:M,maxFeePerGas:L,maxPriorityFeePerGas:D,nonce:j,to:V?void 0:F,value:q});if(x&&function(e){let{request:t}=e,{data:r,to:n,...i}=t;return!(!r||r.startsWith("0x82ad56cb"))&&!!n&&!(Object.values(i).filter(e=>void 0!==e).length>0)}({request:a})&&!o&&!n)try{return await A(e,{...a,blockNumber:I,blockTag:N})}catch(e){if(!(e instanceof l.pZ)&&!(e instanceof l.mm))throw e}let c=(()=>{let e=[a,r];return o&&n?[...e,o,n]:o?[...e,o]:n?[...e,{},n]:e})(),u=await e.request({method:"eth_call",params:c});if("0x"===u)return{data:void 0};return{data:u}}catch(s){let n=function(e){var t;if(!(e instanceof c.G))return;let r=e.walk();return"object"==typeof(null==r?void 0:r.data)?null===(t=r.data)||void 0===t?void 0:t.data:r.data}(s),{offchainLookup:i,offchainLookupSignature:o}=await Promise.resolve().then(r.bind(r,26592));if(!1!==e.ccipRead&&(null==n?void 0:n.slice(0,10))===o&&F)return{data:await i(e,{data:n,to:F})};if(V&&(null==n?void 0:n.slice(0,10))==="0x101bb98d")throw new u.Mo({factory:T});throw(0,m.P)(s,{...t,account:H,chain:e.chain})}}async function A(e,t){var r;let{batchSize:n=1024,wait:i=0}="object"==typeof(null===(r=e.batch)||void 0===r?void 0:r.multicall)?e.batch.multicall:{},{blockNumber:o,blockTag:a="latest",data:c,multicallAddress:f,to:m}=t,y=f;if(!y){if(!e.chain)throw new l.pZ;y=(0,p.L)({blockNumber:o,chain:e.chain,contract:"multicall3"})}let b=("bigint"==typeof o?(0,g.eC)(o):void 0)||a,{schedule:w}=(0,v.S)({id:"".concat(e.uid,".").concat(b),wait:i,shouldSplitBatch:e=>e.reduce((e,t)=>{let{data:r}=t;return e+(r.length-2)},0)>2*n,fn:async t=>{let r=t.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),n=(0,h.R)({abi:s.F8,args:[r],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{data:n,to:y},b]});return(0,d.k)({abi:s.F8,args:[r],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:E,success:C}]=await w({data:c,to:m});if(!C)throw new u.VQ({data:E});return"0x"===E?{data:void 0}:{data:E}}},37277:function(e,t,r){"use strict";r.d(t,{F8:function(){return n},Yi:function(){return i}});let n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],i=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],o=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}];[...o],[...o]},47724:function(e,t,r){"use strict";r.d(t,{NO:function(){return n},pG:function(){return i}});let n="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",i="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe"},97057:function(e,t,r){"use strict";r.d(t,{zL:function(){return n}});let n=2n**256n-1n},54883:function(e,t,r){"use strict";r.d(t,{$:function(){return n},Up:function(){return i},hZ:function(){return o}});let n={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},o={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},45259:function(e,t,r){"use strict";r.d(t,{Zn:function(){return i},ez:function(){return n}});let n={gwei:9,wei:18},i={ether:-9,wei:9}},23974:function(e,t,r){"use strict";r.d(t,{CI:function(){return E},M4:function(){return d},MS:function(){return p},MX:function(){return y},S4:function(){return v},Zh:function(){return h},cO:function(){return a},dh:function(){return w},eF:function(){return b},fM:function(){return s},fs:function(){return f},gr:function(){return u},hn:function(){return C},wM:function(){return A},wb:function(){return l},xB:function(){return c},xL:function(){return m},yP:function(){return g}});var n=r(27681),i=r(82944),o=r(45686);class s extends o.G{constructor({docsPath:e}){super("A constructor was not found on the ABI.\nMake sure you are using the correct ABI and that the constructor exists on it.",{docsPath:e,name:"AbiConstructorNotFoundError"})}}class a extends o.G{constructor({docsPath:e}){super("Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.\nMake sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.",{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class c extends o.G{constructor({data:e,params:t,size:r}){super(["Data size of ".concat(r," bytes is too small for given parameters.")].join("\n"),{metaMessages:["Params: (".concat((0,n.h)(t,{includeName:!0}),")"),"Data:   ".concat(e," (").concat(r," bytes)")],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class l extends o.G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class u extends o.G{constructor({expectedLength:e,givenLength:t,type:r}){super(["ABI encoding array length mismatch for type ".concat(r,"."),"Expected length: ".concat(e),"Given length: ".concat(t)].join("\n"),{name:"AbiEncodingArrayLengthMismatchError"})}}class d extends o.G{constructor({expectedSize:e,value:t}){super('Size of bytes "'.concat(t,'" (bytes').concat((0,i.d)(t),") does not match expected size (bytes").concat(e,")."),{name:"AbiEncodingBytesSizeMismatchError"})}}class f extends o.G{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.","Expected length (params): ".concat(e),"Given length (values): ".concat(t)].join("\n"),{name:"AbiEncodingLengthMismatchError"})}}class h extends o.G{constructor(e,{docsPath:t}){super(['Arguments (`args`) were provided to "'.concat(e,'", but "').concat(e,'" on the ABI does not contain any parameters (`inputs`).'),"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join("\n"),{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class p extends o.G{constructor(e,{docsPath:t}={}){super(["Error ".concat(e?'"'.concat(e,'" '):"","not found on ABI."),"Make sure you are using the correct ABI and that the error exists on it."].join("\n"),{docsPath:t,name:"AbiErrorNotFoundError"})}}class g extends o.G{constructor(e,{docsPath:t}){super(['Encoded error signature "'.concat(e,'" not found on ABI.'),"Make sure you are using the correct ABI and that the error exists on it.","You can look up the decoded signature here: https://openchain.xyz/signatures?query=".concat(e,".")].join("\n"),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class m extends o.G{constructor(e,{docsPath:t}={}){super(["Function ".concat(e?'"'.concat(e,'" '):"","not found on ABI."),"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionNotFoundError"})}}class y extends o.G{constructor(e,{docsPath:t}){super(['Function "'.concat(e,'" does not contain any `outputs` on ABI.'),"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class b extends o.G{constructor(e,{docsPath:t}){super(['Encoded function signature "'.concat(e,'" not found on ABI.'),"Make sure you are using the correct ABI and that the function exists on it.","You can look up the signature here: https://openchain.xyz/signatures?query=".concat(e,".")].join("\n"),{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class v extends o.G{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:["`".concat(e.type,"` in `").concat((0,n.t)(e.abiItem),"`, and"),"`".concat(t.type,"` in `").concat((0,n.t)(t.abiItem),"`"),"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class w extends o.G{constructor(e,{docsPath:t}){super(['Type "'.concat(e,'" is not a valid encoding type.'),"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiEncodingType"})}}class E extends o.G{constructor(e,{docsPath:t}){super(['Type "'.concat(e,'" is not a valid decoding type.'),"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiDecodingType"})}}class C extends o.G{constructor(e){super(['Value "'.concat(e,'" is not a valid array.')].join("\n"),{name:"InvalidArrayError"})}}class A extends o.G{constructor(e){super(['"'.concat(e,'" is not a valid definition type.'),'Valid types: "function", "event", "error"'].join("\n"),{name:"InvalidDefinitionTypeError"})}}},17549:function(e,t,r){"use strict";r.d(t,{b:function(){return i}});var n=r(45686);class i extends n.G{constructor({address:e}){super('Address "'.concat(e,'" is invalid.'),{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}},45686:function(e,t,r){"use strict";r.d(t,{G:function(){return o}});let n="2.31.0",i={getDocsUrl:e=>{let{docsBaseUrl:t,docsPath:r="",docsSlug:n}=e;return r?"".concat(null!=t?t:"https://viem.sh").concat(r).concat(n?"#".concat(n):""):void 0},version:"viem@".concat(n)};class o extends Error{walk(e){return function e(t,r){return(null==r?void 0:r(t))?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}constructor(e,t={}){var r,s,a;let c=t.cause instanceof o?t.cause.details:(null===(a=t.cause)||void 0===a?void 0:a.message)?t.cause.message:t.details,l=t.cause instanceof o&&t.cause.docsPath||t.docsPath,u=null===(r=i.getDocsUrl)||void 0===r?void 0:r.call(i,{...t,docsPath:l});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...u?["Docs: ".concat(u)]:[],...c?["Details: ".concat(c)]:[],...i.version?["Version: ".concat(i.version)]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=c,this.docsPath=l,this.metaMessages=t.metaMessages,this.name=null!==(s=t.name)&&void 0!==s?s:this.name,this.shortMessage=e,this.version=n}}},96630:function(e,t,r){"use strict";r.d(t,{mm:function(){return i},pZ:function(){return o}});var n=r(45686);class i extends n.G{constructor({blockNumber:e,chain:t,contract:r}){super('Chain "'.concat(t.name,'" does not support contract "').concat(r.name,'".'),{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?['- The contract "'.concat(r.name,'" was not deployed until block ').concat(r.blockCreated," (current block ").concat(e,").")]:['- The chain does not have the contract "'.concat(r.name,'" configured.')]],name:"ChainDoesNotSupportContract"})}}class o extends n.G{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}},24358:function(e,t,r){"use strict";r.d(t,{Mo:function(){return u},VQ:function(){return d},cg:function(){return l}});var n=r(62340);r(54883),r(61690),r(27681),r(71633),r(66657);var i=r(50357),o=r(72876);r(23974);var s=r(45686),a=r(54293),c=r(3807);r(29414);class l extends s.G{constructor(e,{account:t,docsPath:r,chain:s,data:l,gas:u,gasPrice:d,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:g,value:m,stateOverride:y}){var b;let v=t?(0,n.T)(t):void 0,w=(0,c.xr)({from:null==v?void 0:v.address,to:g,value:void 0!==m&&"".concat((0,i.d)(m)," ").concat((null==s?void 0:null===(b=s.nativeCurrency)||void 0===b?void 0:b.symbol)||"ETH"),data:l,gas:u,gasPrice:void 0!==d&&"".concat((0,o.o)(d)," gwei"),maxFeePerGas:void 0!==f&&"".concat((0,o.o)(f)," gwei"),maxPriorityFeePerGas:void 0!==h&&"".concat((0,o.o)(h)," gwei"),nonce:p});y&&(w+="\n".concat((0,a.Bj)(y))),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class u extends s.G{constructor({factory:e}){super("Deployment for counterfactual contract call failed".concat(e?' for factory "'.concat(e,'".'):""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class d extends s.G{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},91587:function(e,t,r){"use strict";r.d(t,{KD:function(){return s},T_:function(){return i},lQ:function(){return o}});var n=r(45686);class i extends n.G{constructor({offset:e}){super("Offset `".concat(e,"` cannot be negative."),{name:"NegativeOffsetError"})}}class o extends n.G{constructor({length:e,position:t}){super("Position `".concat(t,"` is out of bounds (`0 < position < ").concat(e,"`)."),{name:"PositionOutOfBoundsError"})}}class s extends n.G{constructor({count:e,limit:t}){super("Recursive read limit of `".concat(t,"` exceeded (recursive read count: `").concat(e,"`)."),{name:"RecursiveReadLimitExceededError"})}}},76213:function(e,t,r){"use strict";r.d(t,{$s:function(){return o},W_:function(){return s},mV:function(){return i}});var n=r(45686);class i extends n.G{constructor({offset:e,position:t,size:r}){super("Slice ".concat("start"===t?"starting":"ending",' at offset "').concat(e,'" is out-of-bounds (size: ').concat(r,")."),{name:"SliceOffsetOutOfBoundsError"})}}class o extends n.G{constructor({size:e,targetSize:t,type:r}){super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," size (").concat(e,") exceeds padding size (").concat(t,")."),{name:"SizeExceedsPaddingSizeError"})}}class s extends n.G{constructor({size:e,targetSize:t,type:r}){super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," is expected to be ").concat(t," ").concat(r," long, but is ").concat(e," ").concat(r," long."),{name:"InvalidBytesLengthError"})}}},66931:function(e,t,r){"use strict";r.d(t,{J5:function(){return i},M6:function(){return s},yr:function(){return o}});var n=r(45686);class i extends n.G{constructor({max:e,min:t,signed:r,size:n,value:i}){super('Number "'.concat(i,'" is not in safe ').concat(n?"".concat(8*n,"-bit ").concat(r?"signed":"unsigned"," "):"","integer range ").concat(e?"(".concat(t," to ").concat(e,")"):"(above ".concat(t,")")),{name:"IntegerOutOfRangeError"})}}class o extends n.G{constructor(e){super('Bytes value "'.concat(e,'" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.'),{name:"InvalidBytesBooleanError"})}}class s extends n.G{constructor({givenSize:e,maxSize:t}){super("Size cannot exceed ".concat(t," bytes. Given size: ").concat(e," bytes."),{name:"SizeOverflowError"})}}},82326:function(e,t,r){"use strict";r.d(t,{C_:function(){return d},G$:function(){return a},Hh:function(){return s},M_:function(){return o},WF:function(){return f},ZI:function(){return c},cj:function(){return m},cs:function(){return g},dR:function(){return h},pZ:function(){return p},se:function(){return u},vU:function(){return l}});var n=r(72876),i=r(45686);class o extends i.G{constructor({cause:e,message:t}={}){var r;let n=null==t?void 0:null===(r=t.replace("execution reverted: ",""))||void 0===r?void 0:r.replace("execution reverted","");super("Execution reverted ".concat(n?"with reason: ".concat(n):"for an unknown reason","."),{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class s extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super("The fee cap (`maxFeePerGas`".concat(t?" = ".concat((0,n.o)(t)," gwei"):"",") cannot be higher than the maximum allowed value (2^256-1)."),{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class a extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super("The fee cap (`maxFeePerGas`".concat(t?" = ".concat((0,n.o)(t)):""," gwei) cannot be lower than the block base fee."),{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class c extends i.G{constructor({cause:e,nonce:t}={}){super("Nonce provided for the transaction ".concat(t?"(".concat(t,") "):"","is higher than the next one expected."),{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class l extends i.G{constructor({cause:e,nonce:t}={}){super(["Nonce provided for the transaction ".concat(t?"(".concat(t,") "):"","is lower than the current nonce of the account."),"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class u extends i.G{constructor({cause:e,nonce:t}={}){super("Nonce provided for the transaction ".concat(t?"(".concat(t,") "):"","exceeds the maximum allowed nonce."),{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class d extends i.G{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class f extends i.G{constructor({cause:e,gas:t}={}){super("The amount of gas ".concat(t?"(".concat(t,") "):"","provided for the transaction exceeds the limit allowed for the block."),{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class h extends i.G{constructor({cause:e,gas:t}={}){super("The amount of gas ".concat(t?"(".concat(t,") "):"","provided for the transaction is too low."),{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class p extends i.G{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class g extends i.G{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super(["The provided tip (`maxPriorityFeePerGas`".concat(t?" = ".concat((0,n.o)(t)," gwei"):"",") cannot be higher than the fee cap (`maxFeePerGas`").concat(r?" = ".concat((0,n.o)(r)," gwei"):"",").")].join("\n"),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(g,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class m extends i.G{constructor({cause:e}){super("An error occurred while executing: ".concat(null==e?void 0:e.shortMessage),{cause:e,name:"UnknownNodeError"})}}},50842:function(e,t,r){"use strict";r.d(t,{Gg:function(){return s},W5:function(){return c},bs:function(){return a}});var n=r(78694),i=r(45686),o=r(29414);class s extends i.G{constructor({body:e,cause:t,details:r,headers:i,status:s,url:a}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[s&&"Status: ".concat(s),"URL: ".concat((0,o.G)(a)),e&&"Request body: ".concat((0,n.P)(e))].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=a}}class a extends i.G{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:["URL: ".concat((0,o.G)(r)),"Request body: ".concat((0,n.P)(e))],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class c extends i.G{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:["URL: ".concat((0,o.G)(t)),"Request body: ".concat((0,n.P)(e))],name:"TimeoutError"})}}},16315:function(e,t,r){"use strict";var n=r(45686),i=r(50842);class o extends n.G{constructor(e,{code:t,docsPath:r,metaMessages:n,name:o,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:n||(null==e?void 0:e.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof i.bs?e.code:null!=t?t:-1}}class s extends o{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class a extends o{constructor(e){super(e,{code:a.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class c extends o{constructor(e){super(e,{code:c.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class l extends o{constructor(e,{method:t}={}){super(e,{code:l.code,name:"MethodNotFoundRpcError",shortMessage:"The method".concat(t?' "'.concat(t,'"'):""," does not exist / is not available.")})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class u extends o{constructor(e){super(e,{code:u.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class d extends o{constructor(e){super(e,{code:d.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class f extends o{constructor(e){super(e,{code:f.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class h extends o{constructor(e){super(e,{code:h.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class p extends o{constructor(e){super(e,{code:p.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class g extends o{constructor(e){super(e,{code:g.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class m extends o{constructor(e,{method:t}={}){super(e,{code:m.code,name:"MethodNotSupportedRpcError",shortMessage:"Method".concat(t?' "'.concat(t,'"'):""," is not supported.")})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class y extends o{constructor(e){super(e,{code:y.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class b extends o{constructor(e){super(e,{code:b.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class v extends s{constructor(e){super(e,{code:v.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class w extends s{constructor(e){super(e,{code:w.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class E extends s{constructor(e,{method:t}={}){super(e,{code:E.code,name:"UnsupportedProviderMethodError",shortMessage:"The Provider does not support the requested method".concat(t?' " '.concat(t,'"'):"",".")})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class C extends s{constructor(e){super(e,{code:C.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class A extends s{constructor(e){super(e,{code:A.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class x extends s{constructor(e){super(e,{code:x.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class I extends s{constructor(e){super(e,{code:I.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class N extends s{constructor(e){super(e,{code:N.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(N,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class S extends s{constructor(e){super(e,{code:S.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class P extends s{constructor(e){super(e,{code:P.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class O extends s{constructor(e){super(e,{code:O.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class _ extends s{constructor(e){super(e,{code:_.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class R extends s{constructor(e){super(e,{code:R.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(R,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760})},54293:function(e,t,r){"use strict";r.d(t,{Bj:function(){return a},Nc:function(){return i},Z8:function(){return o}});var n=r(45686);class i extends n.G{constructor({address:e}){super('State for account "'.concat(e,'" is set multiple times.'),{name:"AccountStateConflictError"})}}class o extends n.G{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function s(e){return e.reduce((e,t)=>{let{slot:r,value:n}=t;return"".concat(e,"        ").concat(r,": ").concat(n,"\n")},"")}function a(e){return e.reduce((e,t)=>{let{address:r,...n}=t,i="".concat(e,"    ").concat(r,":\n");return n.nonce&&(i+="      nonce: ".concat(n.nonce,"\n")),n.balance&&(i+="      balance: ".concat(n.balance,"\n")),n.code&&(i+="      code: ".concat(n.code,"\n")),n.state&&(i+="      state:\n"+s(n.state)),n.stateDiff&&(i+="      stateDiff:\n"+s(n.stateDiff)),i},"  State Override:\n").slice(0,-1)}},3807:function(e,t,r){"use strict";r.d(t,{xY:function(){return o},xr:function(){return i}}),r(50357),r(72876);var n=r(45686);function i(e){let t=Object.entries(e).map(e=>{let[t,r]=e;return void 0===r||!1===r?null:[t,r]}).filter(Boolean),r=t.reduce((e,t)=>{let[r]=t;return Math.max(e,r.length)},0);return t.map(e=>{let[t,n]=e;return"  ".concat("".concat(t,":").padEnd(r+1),"  ").concat(n)}).join("\n")}class o extends n.G{constructor(){super("Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.\nUse `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others.",{name:"FeeConflictError"})}}},29414:function(e,t,r){"use strict";r.d(t,{C:function(){return n},G:function(){return i}});let n=e=>e,i=e=>e},15160:function(e,t,r){"use strict";r.d(t,{r:function(){return h}});var n=r(23974),i=r(52981),o=r(23377),s=r(82944),a=r(88527),c=r(20892),l=r(71229),u=r(5215),d=r(91811),f=r(3486);function h(e,t){let r="string"==typeof t?(0,u.nr)(t):t,h=(0,o.q)(r);if(0===(0,s.d)(r)&&e.length>0)throw new n.wb;if((0,s.d)(t)&&32>(0,s.d)(t))throw new n.xB({data:"string"==typeof t?t:(0,d.ci)(t),params:e,size:(0,s.d)(t)});let g=0,m=[];for(let t=0;t<e.length;++t){let r=e[t];h.setPosition(g);let[o,s]=function e(t,r,o){let{staticPosition:s}=o,u=(0,f.S)(r.type);if(u){let[n,i]=u;return function(t,r,n){let{length:i,staticPosition:o}=n;if(!i){let n=o+(0,l.tm)(t.readBytes(32)),i=n+32;t.setPosition(n);let s=(0,l.tm)(t.readBytes(32)),a=p(r),c=0,u=[];for(let n=0;n<s;++n){t.setPosition(i+(a?32*n:c));let[o,s]=e(t,r,{staticPosition:i});c+=s,u.push(o)}return t.setPosition(o+32),[u,32]}if(p(r)){let n=o+(0,l.tm)(t.readBytes(32)),s=[];for(let o=0;o<i;++o){t.setPosition(n+32*o);let[i]=e(t,r,{staticPosition:n});s.push(i)}return t.setPosition(o+32),[s,32]}let s=0,a=[];for(let n=0;n<i;++n){let[n,i]=e(t,r,{staticPosition:o+s});s+=i,a.push(n)}return[a,s]}(t,{...r,type:i},{length:n,staticPosition:s})}if("tuple"===r.type)return function(t,r,n){let{staticPosition:i}=n,o=0===r.components.length||r.components.some(e=>{let{name:t}=e;return!t}),s=o?[]:{},a=0;if(p(r)){let n=i+(0,l.tm)(t.readBytes(32));for(let i=0;i<r.components.length;++i){let c=r.components[i];t.setPosition(n+a);let[l,u]=e(t,c,{staticPosition:n});a+=u,s[o?i:null==c?void 0:c.name]=l}return t.setPosition(i+32),[s,32]}for(let n=0;n<r.components.length;++n){let c=r.components[n],[l,u]=e(t,c,{staticPosition:i});s[o?n:null==c?void 0:c.name]=l,a+=u}return[s,a]}(t,r,{staticPosition:s});if("address"===r.type)return function(e){let t=e.readBytes(32);return[(0,i.x)((0,d.ci)((0,a.T4)(t,-20))),32]}(t);if("bool"===r.type)return[(0,l.Lj)(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,r){let{staticPosition:n}=r,[i,o]=t.type.split("bytes");if(!o){let t=(0,l.tm)(e.readBytes(32));e.setPosition(n+t);let r=(0,l.tm)(e.readBytes(32));if(0===r)return e.setPosition(n+32),["0x",32];let i=e.readBytes(r);return e.setPosition(n+32),[(0,d.ci)(i),32]}return[(0,d.ci)(e.readBytes(Number.parseInt(o),32)),32]}(t,r,{staticPosition:s});if(r.type.startsWith("uint")||r.type.startsWith("int"))return function(e,t){let r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256"),i=e.readBytes(32);return[n>48?(0,l.v3)(i,{signed:r}):(0,l.tm)(i,{signed:r}),32]}(t,r);if("string"===r.type)return function(e,t){let{staticPosition:r}=t,n=(0,l.tm)(e.readBytes(32));e.setPosition(r+n);let i=(0,l.tm)(e.readBytes(32));if(0===i)return e.setPosition(r+32),["",32];let o=e.readBytes(i,32),s=(0,l.d3)((0,c.f)(o));return e.setPosition(r+32),[s,32]}(t,{staticPosition:s});throw new n.CI(r.type,{docsPath:"/docs/contract/decodeAbiParameters"})}(h,r,{staticPosition:0});g+=s,m.push(o)}return m}function p(e){var t;let{type:r}=e;if("string"===r||"bytes"===r||r.endsWith("[]"))return!0;if("tuple"===r)return null===(t=e.components)||void 0===t?void 0:t.some(p);let n=(0,f.S)(e.type);return!!(n&&p({...e,type:n[1]}))}},61690:function(e,t,r){"use strict";r.d(t,{p:function(){return l}});var n=r(54883),i=r(23974),o=r(88527),s=r(18635),a=r(15160),c=r(27681);function l(e){let{abi:t,data:r}=e,l=(0,o.tP)(r,0,4);if("0x"===l)throw new i.wb;let u=[...t||[],n.Up,n.hZ].find(e=>"error"===e.type&&l===(0,s.C)((0,c.t)(e)));if(!u)throw new i.yP(l,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:u,args:"inputs"in u&&u.inputs&&u.inputs.length>0?(0,a.r)(u.inputs,(0,o.tP)(r,4)):void 0,errorName:u.name}}},48373:function(e,t,r){"use strict";r.d(t,{p:function(){return c}});var n=r(23974),i=r(88527),o=r(18635),s=r(15160),a=r(27681);function c(e){let{abi:t,data:r}=e,c=(0,i.tP)(r,0,4),l=t.find(e=>"function"===e.type&&c===(0,o.C)((0,a.t)(e)));if(!l)throw new n.eF(c,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:l.name,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,s.r)(l.inputs,(0,i.tP)(r,4)):void 0}}},14872:function(e,t,r){"use strict";r.d(t,{k:function(){return a}});var n=r(23974),i=r(15160),o=r(66657);let s="/docs/contract/decodeFunctionResult";function a(e){let{abi:t,args:r,functionName:a,data:c}=e,l=t[0];if(a){let e=(0,o.mE)({abi:t,args:r,name:a});if(!e)throw new n.xL(a,{docsPath:s});l=e}if("function"!==l.type)throw new n.xL(void 0,{docsPath:s});if(!l.outputs)throw new n.MX(l.name,{docsPath:s});let u=(0,i.r)(l.outputs,c);return u&&u.length>1?u:u&&1===u.length?u[0]:void 0}},3486:function(e,t,r){"use strict";r.d(t,{E:function(){return p},S:function(){return m}});var n=r(23974),i=r(17549),o=r(45686),s=r(66931),a=r(9803),c=r(90766),l=r(9689),u=r(82944),d=r(88527),f=r(91811),h=r(80948);function p(e,t){if(e.length!==t.length)throw new n.fs({expectedLength:e.length,givenLength:t.length});let r=g(function(e){let{params:t,values:r}=e,p=[];for(let e=0;e<t.length;e++)p.push(function e(t){let{param:r,value:p}=t,y=m(r.type);if(y){let[t,i]=y;return function(t,r){let{length:i,param:o}=r,s=null===i;if(!Array.isArray(t))throw new n.hn(t);if(!s&&t.length!==i)throw new n.gr({expectedLength:i,givenLength:t.length,type:"".concat(o.type,"[").concat(i,"]")});let a=!1,l=[];for(let r=0;r<t.length;r++){let n=e({param:o,value:t[r]});n.dynamic&&(a=!0),l.push(n)}if(s||a){let e=g(l);if(s){let t=(0,f.eC)(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?(0,c.zo)([t,e]):t}}if(a)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,c.zo)(l.map(e=>{let{encoded:t}=e;return t}))}}(p,{length:t,param:{...r,type:i}})}if("tuple"===r.type)return function(t,r){let{param:n}=r,i=!1,o=[];for(let r=0;r<n.components.length;r++){let s=n.components[r],a=Array.isArray(t)?r:s.name,c=e({param:s,value:t[a]});o.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?g(o):(0,c.zo)(o.map(e=>{let{encoded:t}=e;return t}))}}(p,{param:r});if("address"===r.type)return function(e){if(!(0,a.U)(e))throw new i.b({address:e});return{dynamic:!1,encoded:(0,l.gc)(e.toLowerCase())}}(p);if("bool"===r.type)return function(e){if("boolean"!=typeof e)throw new o.G('Invalid boolean value: "'.concat(e,'" (type: ').concat(typeof e,"). Expected: `true` or `false`."));return{dynamic:!1,encoded:(0,l.gc)((0,f.C4)(e))}}(p);if(r.type.startsWith("uint")||r.type.startsWith("int")){var b;let e=r.type.startsWith("int"),[,,t="256"]=null!==(b=h.lh.exec(r.type))&&void 0!==b?b:[];return function(e,t){let{signed:r,size:n=256}=t;if("number"==typeof n){let t=2n**(BigInt(n)-(r?1n:0n))-1n,i=r?-t-1n:0n;if(e>t||e<i)throw new s.J5({max:t.toString(),min:i.toString(),signed:r,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:(0,f.eC)(e,{size:32,signed:r})}}(p,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,t){let{param:r}=t,[,i]=r.type.split("bytes"),o=(0,u.d)(e);if(!i){let t=e;return o%32!=0&&(t=(0,l.gc)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,c.zo)([(0,l.gc)((0,f.eC)(o,{size:32})),t])}}if(o!==Number.parseInt(i))throw new n.M4({expectedSize:Number.parseInt(i),value:e});return{dynamic:!1,encoded:(0,l.gc)(e,{dir:"right"})}}(p,{param:r});if("string"===r.type)return function(e){let t=(0,f.$G)(e),r=Math.ceil((0,u.d)(t)/32),n=[];for(let e=0;e<r;e++)n.push((0,l.gc)((0,d.tP)(t,32*e,(e+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,c.zo)([(0,l.gc)((0,f.eC)((0,u.d)(t),{size:32})),...n])}}(p);throw new n.dh(r.type,{docsPath:"/docs/contract/encodeAbiParameters"})}({param:t[e],value:r[e]}));return p}({params:e,values:t}));return 0===r.length?"0x":r}function g(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=(0,u.d)(i)}let r=[],n=[],i=0;for(let o=0;o<e.length;o++){let{dynamic:s,encoded:a}=e[o];s?(r.push((0,f.eC)(t+i,{size:32})),n.push(a),i+=(0,u.d)(a)):r.push(a)}return(0,c.zo)([...r,...n])}function m(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},47879:function(e,t,r){"use strict";r.d(t,{w:function(){return a}});var n=r(23974),i=r(90766),o=r(3486);let s="/docs/contract/encodeDeployData";function a(e){let{abi:t,args:r,bytecode:a}=e;if(!r||0===r.length)return a;let c=t.find(e=>"type"in e&&"constructor"===e.type);if(!c)throw new n.fM({docsPath:s});if(!("inputs"in c)||!c.inputs||0===c.inputs.length)throw new n.cO({docsPath:s});let l=(0,o.E)(c.inputs,r);return(0,i.SM)([a,l])}},93802:function(e,t,r){"use strict";r.d(t,{M:function(){return u}});var n=r(23974),i=r(90766),o=r(18635),s=r(3486),a=r(27681),c=r(66657);let l="/docs/contract/encodeErrorResult";function u(e){let{abi:t,errorName:r,args:u}=e,d=t[0];if(r){let e=(0,c.mE)({abi:t,args:u,name:r});if(!e)throw new n.MS(r,{docsPath:l});d=e}if("error"!==d.type)throw new n.MS(void 0,{docsPath:l});let f=(0,a.t)(d),h=(0,o.C)(f),p="0x";if(u&&u.length>0){if(!d.inputs)throw new n.Zh(d.name,{docsPath:l});p=(0,s.E)(d.inputs,u)}return(0,i.SM)([h,p])}},58911:function(e,t,r){"use strict";r.d(t,{R:function(){return s}});var n=r(90766),i=r(3486),o=r(28832);function s(e){var t;let{args:r}=e,{abi:s,functionName:a}=1===e.abi.length&&(null===(t=e.functionName)||void 0===t?void 0:t.startsWith("0x"))?e:(0,o.m)(e),c=s[0],l="inputs"in c&&c.inputs?(0,i.E)(c.inputs,null!=r?r:[]):void 0;return(0,n.SM)([a,null!=l?l:"0x"])}},70681:function(e,t,r){"use strict";r.d(t,{R:function(){return a}});var n=r(23974),i=r(3486),o=r(66657);let s="/docs/contract/encodeFunctionResult";function a(e){let{abi:t,functionName:r,result:a}=e,c=t[0];if(r){let e=(0,o.mE)({abi:t,name:r});if(!e)throw new n.xL(r,{docsPath:s});c=e}if("function"!==c.type)throw new n.xL(void 0,{docsPath:s});if(!c.outputs)throw new n.MX(c.name,{docsPath:s});let l=(()=>{if(0===c.outputs.length)return[];if(1===c.outputs.length)return[a];if(Array.isArray(a))return a;throw new n.hn(a)})();return(0,i.E)(c.outputs,l)}},27681:function(e,t,r){"use strict";r.d(t,{h:function(){return o},t:function(){return i}});var n=r(23974);function i(e){let{includeName:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new n.wM(e.type);return"".concat(e.name,"(").concat(o(e.inputs,{includeName:t}),")")}function o(e){let{includeName:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?e.map(e=>(function(e,t){let{includeName:r}=t;return e.type.startsWith("tuple")?"(".concat(o(e.components,{includeName:r}),")").concat(e.type.slice(5)):e.type+(r&&e.name?" ".concat(e.name):"")})(e,{includeName:t})).join(t?", ":","):""}},71633:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(78694);function i(e){let{abiItem:t,args:r,includeFunctionName:i=!0,includeName:o=!1}=e;if("name"in t&&"inputs"in t&&t.inputs)return"".concat(i?t.name:"","(").concat(t.inputs.map((e,t)=>"".concat(o&&e.name?"".concat(e.name,": "):"").concat("object"==typeof r[t]?(0,n.P)(r[t]):r[t])).join(", "),")")}},66657:function(e,t,r){"use strict";r.d(t,{mE:function(){return c}});var n=r(23974),i=r(62095),o=r(9803),s=r(68257),a=r(18635);function c(e){let t;let{abi:r,args:c=[],name:l}=e,u=(0,i.v)(l,{strict:!1}),d=r.filter(e=>u?"function"===e.type?(0,a.C)(e)===l:"event"===e.type&&(0,s.n)(e)===l:"name"in e&&e.name===l);if(0!==d.length){if(1===d.length)return d[0];for(let e of d)if("inputs"in e){if(!c||0===c.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===c.length&&c.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return(0,o.U)(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(t&&"inputs"in t&&t.inputs){let r=function e(t,r,n){for(let i in t){let s=t[i],a=r[i];if("tuple"===s.type&&"tuple"===a.type&&"components"in s&&"components"in a)return e(s.components,a.components,n[i]);let c=[s.type,a.type];if(c.includes("address")&&c.includes("bytes20")||(c.includes("address")&&c.includes("string")||c.includes("address")&&c.includes("bytes"))&&(0,o.U)(n[i],{strict:!1}))return c}}(e.inputs,t.inputs,c);if(r)throw new n.S4({abiItem:e,type:r[0]},{abiItem:t,type:r[1]})}t=e}}return t||d[0]}}},28832:function(e,t,r){"use strict";r.d(t,{m:function(){return c}});var n=r(23974),i=r(18635),o=r(27681),s=r(66657);let a="/docs/contract/encodeFunctionData";function c(e){let{abi:t,args:r,functionName:c}=e,l=t[0];if(c){let e=(0,s.mE)({abi:t,args:r,name:c});if(!e)throw new n.xL(c,{docsPath:a});l=e}if("function"!==l.type)throw new n.xL(void 0,{docsPath:a});return{abi:[l],functionName:(0,i.C)((0,o.t)(l))}}},52981:function(e,t,r){"use strict";r.d(t,{x:function(){return a}}),r(17549);var n=r(5215),i=r(21371),o=r(53760);r(9803);let s=new o.k(8192);function a(e,t){if(s.has("".concat(e,".").concat(t)))return s.get("".concat(e,".").concat(t));let r=t?"".concat(t).concat(e.toLowerCase()):e.substring(2).toLowerCase(),o=(0,i.w)((0,n.qX)(r),"bytes"),a=(t?r.substring("".concat(t,"0x").length):r).split("");for(let e=0;e<40;e+=2)o[e>>1]>>4>=8&&a[e]&&(a[e]=a[e].toUpperCase()),(15&o[e>>1])>=8&&a[e+1]&&(a[e+1]=a[e+1].toUpperCase());let c="0x".concat(a.join(""));return s.set("".concat(e,".").concat(t),c),c}},9803:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});var n=r(53760),i=r(52981);let o=/^0x[a-fA-F0-9]{40}$/,s=new n.k(8192);function a(e,t){let{strict:r=!0}=null!=t?t:{},n="".concat(e,".").concat(r);if(s.has(n))return s.get(n);let a=!!o.test(e)&&(e.toLowerCase()===e||!r||(0,i.x)(e)===e);return s.set(n,a),a}},69137:function(e,t,r){"use strict";r.d(t,{E:function(){return o}});var n=r(17549),i=r(9803);function o(e,t){if(!(0,i.U)(e,{strict:!1}))throw new n.b({address:e});if(!(0,i.U)(t,{strict:!1}))throw new n.b({address:t});return e.toLowerCase()===t.toLowerCase()}},26592:function(e,t,r){"use strict";r.d(t,{offchainLookup:function(){return v},offchainLookupSignature:function(){return y}});var n=r(75707),i=r(78694),o=r(45686),s=r(29414);class a extends o.G{constructor({callbackSelector:e,cause:t,data:r,extraData:n,sender:i,urls:o}){var a;super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],(null===(a=t.metaMessages)||void 0===a?void 0:a.length)?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(e=>"    ".concat((0,s.G)(e)))],"  Sender: ".concat(i),"  Data: ".concat(r),"  Callback selector: ".concat(e),"  Extra data: ".concat(n)].flat(),name:"OffchainLookupError"})}}class c extends o.G{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:["Gateway URL: ".concat((0,s.G)(t)),"Response: ".concat((0,i.P)(e))],name:"OffchainLookupResponseMalformedError"})}}class l extends o.G{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:["Contract address: ".concat(t),"OffchainLookup sender address: ".concat(e)],name:"OffchainLookupSenderMismatchError"})}}var u=r(50842),d=r(61690),f=r(3486),h=r(69137),p=r(90766),g=r(62095),m=r(29e3);let y="0x556f1830",b={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function v(e,t){let{blockNumber:r,blockTag:i,data:o,to:s}=t,{args:c}=(0,d.p)({data:o,abi:[b]}),[u,g,y,v,E]=c,{ccipRead:C}=e,A=C&&"function"==typeof(null==C?void 0:C.request)?C.request:w;try{if(!(0,h.E)(s,u))throw new l({sender:u,to:s});let t=g.includes(m.M)?await (0,m.w)({data:y,ccipRequest:A}):await A({data:y,sender:u,urls:g}),{data:o}=await (0,n.R)(e,{blockNumber:r,blockTag:i,data:(0,p.zo)([v,(0,f.E)([{type:"bytes"},{type:"bytes"}],[t,E])]),to:s});return o}catch(e){throw new a({callbackSelector:v,cause:e,data:o,extraData:E,sender:u,urls:g})}}async function w(e){let{data:t,sender:r,urls:n}=e,o=Error("An unknown error occurred.");for(let e=0;e<n.length;e++){let a=n[e],l=a.includes("{data}")?"GET":"POST",d="POST"===l?{data:t,sender:r}:void 0,f="POST"===l?{"Content-Type":"application/json"}:{};try{var s;let e;let n=await fetch(a.replace("{sender}",r.toLowerCase()).replace("{data}",t),{body:JSON.stringify(d),headers:f,method:l});if(e=(null===(s=n.headers.get("Content-Type"))||void 0===s?void 0:s.startsWith("application/json"))?(await n.json()).data:await n.text(),!n.ok){o=new u.Gg({body:d,details:(null==e?void 0:e.error)?(0,i.P)(e.error):n.statusText,headers:n.headers,status:n.status,url:a});continue}if(!(0,g.v)(e)){o=new c({result:e,url:a});continue}return e}catch(e){o=new u.Gg({body:d,details:e.message,url:a})}}throw o}},7155:function(e,t,r){"use strict";r.d(t,{L:function(){return i}});var n=r(96630);function i(e){var t;let{blockNumber:r,chain:i,contract:o}=e,s=null==i?void 0:null===(t=i.contracts)||void 0===t?void 0:t[o];if(!s)throw new n.mm({chain:i,contract:{name:o}});if(r&&s.blockCreated&&s.blockCreated>r)throw new n.mm({blockNumber:r,chain:i,contract:{name:o,blockCreated:s.blockCreated}});return s.address}},23377:function(e,t,r){"use strict";r.d(t,{q:function(){return o}});var n=r(91587);let i={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new n.KD({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new n.lQ({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new n.T_({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new n.T_({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=null!=e?e:this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=null!=t?t:this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=null!=e?e:this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=null!=e?e:this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=null!=e?e:this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=null!=e?e:this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=null!=t?t:e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function o(e){let{recursiveReadLimit:t=8192}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.create(i);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}},90766:function(e,t,r){"use strict";function n(e){return"string"==typeof e[0]?i(e):function(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}(e)}function i(e){return"0x".concat(e.reduce((e,t)=>e+t.replace("0x",""),""))}r.d(t,{SM:function(){return i},zo:function(){return n}})},62095:function(e,t,r){"use strict";function n(e){let{strict:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}r.d(t,{v:function(){return n}})},9689:function(e,t,r){"use strict";r.d(t,{gc:function(){return o},vk:function(){return i}});var n=r(76213);function i(e){let{dir:t,size:r=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e?o(e,{dir:t,size:r}):function(e){let{dir:t,size:r=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===r)return e;if(e.length>r)throw new n.$s({size:e.length,targetSize:r,type:"bytes"});let i=new Uint8Array(r);for(let n=0;n<r;n++){let o="right"===t;i[o?n:r-n-1]=e[o?n:e.length-n-1]}return i}(e,{dir:t,size:r})}function o(e){let{dir:t,size:r=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===r)return e;let i=e.replace("0x","");if(i.length>2*r)throw new n.$s({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return"0x".concat(i["right"===t?"padEnd":"padStart"](2*r,"0"))}},82944:function(e,t,r){"use strict";r.d(t,{d:function(){return i}});var n=r(62095);function i(e){return(0,n.v)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},88527:function(e,t,r){"use strict";r.d(t,{T4:function(){return l},tP:function(){return s}});var n=r(76213),i=r(62095),o=r(82944);function s(e,t,r){let{strict:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,i.v)(e,{strict:!1})?function(e,t,r){let{strict:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a(e,t);let i="0x".concat(e.replace("0x","").slice((null!=t?t:0)*2,(null!=r?r:e.length)*2));return n&&c(i,t,r),i}(e,t,r,{strict:n}):l(e,t,r,{strict:n})}function a(e,t){if("number"==typeof t&&t>0&&t>(0,o.d)(e)-1)throw new n.mV({offset:t,position:"start",size:(0,o.d)(e)})}function c(e,t,r){if("number"==typeof t&&"number"==typeof r&&(0,o.d)(e)!==r-t)throw new n.mV({offset:r,position:"end",size:(0,o.d)(e)})}function l(e,t,r){let{strict:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a(e,t);let i=e.slice(t,r);return n&&c(i,t,r),i}},20892:function(e,t,r){"use strict";function n(e){let{dir:t="left"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="string"==typeof e?e.replace("0x",""):e,n=0;for(let e=0;e<r.length-1&&"0"===r["left"===t?e:r.length-e-1].toString();e++)n++;return(r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e)?(1===r.length&&"right"===t&&(r="".concat(r,"0")),"0x".concat(r.length%2==1?"0".concat(r):r)):r}r.d(t,{f:function(){return n}})},71229:function(e,t,r){"use strict";r.d(t,{Lj:function(){return c},d3:function(){return u},tm:function(){return l},v3:function(){return a}});var n=r(66931),i=r(20892),o=r(57643),s=r(91811);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==t.size&&(0,o.Yf)(e,{size:t.size});let r=(0,s.ci)(e,t);return(0,o.y_)(r,t)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if(void 0!==t.size&&((0,o.Yf)(r,{size:t.size}),r=(0,i.f)(r)),r.length>1||r[0]>1)throw new n.yr(r);return!!r[0]}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==t.size&&(0,o.Yf)(e,{size:t.size});let r=(0,s.ci)(e,t);return(0,o.ly)(r,t)}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;return void 0!==t.size&&((0,o.Yf)(r,{size:t.size}),r=(0,i.f)(r,{dir:"right"})),new TextDecoder().decode(r)}},57643:function(e,t,r){"use strict";r.d(t,{Yf:function(){return o},ly:function(){return a},y_:function(){return s}});var n=r(66931),i=r(82944);function o(e,t){let{size:r}=t;if((0,i.d)(e)>r)throw new n.M6({givenSize:(0,i.d)(e),maxSize:r})}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{signed:r}=t;t.size&&o(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt("0x".concat("f".padStart(2*i,"f")))-1n}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Number(s(e,t))}r(20892),r(5215)},5215:function(e,t,r){"use strict";r.d(t,{O0:function(){return l},nr:function(){return f},qX:function(){return h}});var n=r(45686),i=r(62095),o=r(9689),s=r(57643),a=r(91811);let c=new TextEncoder;function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"==typeof e||"bigint"==typeof e?f((0,a.eC)(e,t)):"boolean"==typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?((0,s.Yf)(r,{size:t.size}),(0,o.vk)(r,{size:t.size})):r}(e,t):(0,i.v)(e)?f(e,t):h(e,t)}let u={zero:48,nine:57,A:65,F:70,a:97,f:102};function d(e){return e>=u.zero&&e<=u.nine?e-u.zero:e>=u.A&&e<=u.F?e-(u.A-10):e>=u.a&&e<=u.f?e-(u.a-10):void 0}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;t.size&&((0,s.Yf)(r,{size:t.size}),r=(0,o.vk)(r,{dir:"right",size:t.size}));let i=r.slice(2);i.length%2&&(i="0".concat(i));let a=i.length/2,c=new Uint8Array(a);for(let e=0,t=0;e<a;e++){let r=d(i.charCodeAt(t++)),o=d(i.charCodeAt(t++));if(void 0===r||void 0===o)throw new n.G('Invalid byte sequence ("'.concat(i[t-2]).concat(i[t-1],'" in "').concat(i,'").'));c[e]=16*r+o}return c}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c.encode(e);return"number"==typeof t.size?((0,s.Yf)(r,{size:t.size}),(0,o.vk)(r,{dir:"right",size:t.size})):r}},91811:function(e,t,r){"use strict";r.d(t,{$G:function(){return f},C4:function(){return c},NC:function(){return a},ci:function(){return l},eC:function(){return u}});var n=r(66931),i=r(9689),o=r(57643);let s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"==typeof e||"bigint"==typeof e?u(e,t):"string"==typeof e?f(e,t):"boolean"==typeof e?c(e,t):l(e,t)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="0x".concat(Number(e));return"number"==typeof t.size?((0,o.Yf)(r,{size:t.size}),(0,i.vk)(r,{size:t.size})):r}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="";for(let t=0;t<e.length;t++)r+=s[e[t]];let n="0x".concat(r);return"number"==typeof t.size?((0,o.Yf)(n,{size:t.size}),(0,i.vk)(n,{dir:"right",size:t.size})):n}function u(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{signed:o,size:s}=r,a=BigInt(e);s?t=o?(1n<<8n*BigInt(s)-1n)-1n:2n**(8n*BigInt(s))-1n:"number"==typeof e&&(t=BigInt(Number.MAX_SAFE_INTEGER));let c="bigint"==typeof t&&o?-t-1n:0;if(t&&a>t||a<c){let r="bigint"==typeof e?"n":"";throw new n.J5({max:t?"".concat(t).concat(r):void 0,min:"".concat(c).concat(r),signed:o,size:s,value:"".concat(e).concat(r)})}let l="0x".concat((o&&a<0?(1n<<BigInt(8*s))+BigInt(a):a).toString(16));return s?(0,i.vk)(l,{size:s}):l}let d=new TextEncoder;function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(d.encode(e),t)}},29e3:function(e,t,r){"use strict";r.d(t,{M:function(){return c},w:function(){return l}});var n=r(37277),i=r(54883),o=r(48373),s=r(93802),a=r(70681);let c="x-batch-gateway:true";async function l(e){let{data:t,ccipRequest:r}=e,{args:[c]}=(0,o.p)({abi:n.Yi,data:t}),l=[],u=[];return await Promise.all(c.map(async(e,t)=>{try{u[t]=await r(e),l[t]=!1}catch(e){l[t]=!0,u[t]="HttpRequestError"===e.name&&e.status?(0,s.M)({abi:n.Yi,errorName:"HttpError",args:[e.status,e.shortMessage]}):(0,s.M)({abi:[i.Up],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}})),(0,a.R)({abi:n.Yi,functionName:"query",result:[l,u]})}},7498:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var n=r(24358),i=r(82326),o=r(46820);function s(e,t){let{docsPath:r,...s}=t,a=(()=>{let t=(0,o.k)(e,s);return t instanceof i.cj?e:t})();return new n.cg(a,{docsPath:r,...s})}},46820:function(e,t,r){"use strict";r.d(t,{k:function(){return o}});var n=r(45686),i=r(82326);function o(e,t){let r=(e.details||"").toLowerCase(),o=e instanceof n.G?e.walk(e=>(null==e?void 0:e.code)===i.M_.code):e;return o instanceof n.G?new i.M_({cause:e,message:o.details}):i.M_.nodeMessage.test(r)?new i.M_({cause:e,message:e.details}):i.Hh.nodeMessage.test(r)?new i.Hh({cause:e,maxFeePerGas:null==t?void 0:t.maxFeePerGas}):i.G$.nodeMessage.test(r)?new i.G$({cause:e,maxFeePerGas:null==t?void 0:t.maxFeePerGas}):i.ZI.nodeMessage.test(r)?new i.ZI({cause:e,nonce:null==t?void 0:t.nonce}):i.vU.nodeMessage.test(r)?new i.vU({cause:e,nonce:null==t?void 0:t.nonce}):i.se.nodeMessage.test(r)?new i.se({cause:e,nonce:null==t?void 0:t.nonce}):i.C_.nodeMessage.test(r)?new i.C_({cause:e}):i.WF.nodeMessage.test(r)?new i.WF({cause:e,gas:null==t?void 0:t.gas}):i.dR.nodeMessage.test(r)?new i.dR({cause:e,gas:null==t?void 0:t.gas}):i.pZ.nodeMessage.test(r)?new i.pZ({cause:e}):i.cs.nodeMessage.test(r)?new i.cs({cause:e,maxFeePerGas:null==t?void 0:t.maxFeePerGas,maxPriorityFeePerGas:null==t?void 0:t.maxPriorityFeePerGas}):new i.cj({cause:e})}r(50842),r(16315)},10267:function(e,t,r){"use strict";function n(e,t){let{format:r}=t;if(!r)return{};let n={};return!function t(r){for(let i of Object.keys(r))i in e&&(n[i]=e[i]),r[i]&&"object"==typeof r[i]&&!Array.isArray(r[i])&&t(r[i])}(r(e||{})),n}r.d(t,{K:function(){return n}})},25319:function(e,t,r){},1056:function(e,t,r){"use strict";r.d(t,{tG:function(){return o}});var n=r(91811);r(25319);let i={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function o(e){let t={};return void 0!==e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?(0,n.eC)(BigInt(e.r)):e.r,s:e.s?(0,n.eC)(BigInt(e.s)):e.s,chainId:(0,n.eC)(e.chainId),nonce:(0,n.eC)(e.nonce),...void 0!==e.yParity?{yParity:(0,n.eC)(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:(0,n.eC)(e.v)}:{}}))),void 0!==e.accessList&&(t.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?t.blobs=e.blobs.map(e=>(0,n.ci)(e)):t.blobs=e.blobs),void 0!==e.data&&(t.data=e.data),void 0!==e.from&&(t.from=e.from),void 0!==e.gas&&(t.gas=(0,n.eC)(e.gas)),void 0!==e.gasPrice&&(t.gasPrice=(0,n.eC)(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=(0,n.eC)(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(t.maxFeePerGas=(0,n.eC)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=(0,n.eC)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(t.nonce=(0,n.eC)(e.nonce)),void 0!==e.to&&(t.to=e.to),void 0!==e.type&&(t.type=i[e.type]),void 0!==e.value&&(t.value=(0,n.eC)(e.value)),t}},21371:function(e,t,r){"use strict";r.d(t,{w:function(){return a}});var n=r(76087),i=r(62095),o=r(5215),s=r(91811);function a(e,t){let r=(0,n.fr)((0,i.v)(e,{strict:!1})?(0,o.O0)(e):e);return"bytes"===(t||"hex")?r:(0,s.NC)(r)}},68257:function(e,t,r){"use strict";r.d(t,{n:function(){return n}});let n=r(77608).r},18635:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var n=r(88527),i=r(77608);let o=e=>(0,n.tP)((0,i.r)(e),0,4)},19598:function(e,t,r){"use strict";r.d(t,{W:function(){return o}});var n=r(56076),i=r(45686);let o=e=>(function(e){let t=!0,r="",n=0,o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i];if(["(",")",","].includes(a)&&(t=!0),"("===a&&n++,")"===a&&n--,t){if(0===n){if(" "===a&&["event","function",""].includes(o))o="";else if(o+=a,")"===a){s=!0;break}continue}if(" "===a){","!==e[i-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}o+=a,r+=a}}if(!s)throw new i.G("Unable to normalize signature.");return o})("string"==typeof e?e:(0,n.tQ)(e))},77608:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(5215),i=r(21371);let o=e=>(0,i.w)((0,n.O0)(e));var s=r(19598);function a(e){return o((0,s.W)(e))}},53760:function(e,t,r){"use strict";r.d(t,{k:function(){return n}});class n extends Map{get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}}},7680:function(e,t,r){"use strict";r.d(t,{S:function(){return o}});var n=r(51550);let i=new Map;function o(e){let{fn:t,id:r,shouldSplitBatch:o,wait:s=0,sort:a}=e,c=async()=>{let e=d();l();let r=e.map(e=>{let{args:t}=e;return t});0!==r.length&&t(r).then(t=>{a&&Array.isArray(t)&&t.sort(a);for(let r=0;r<e.length;r++){let{resolve:n}=e[r];null==n||n([t[r],t])}}).catch(t=>{for(let r=0;r<e.length;r++){let{reject:n}=e[r];null==n||n(t)}})},l=()=>i.delete(r),u=()=>d().map(e=>{let{args:t}=e;return t}),d=()=>i.get(r)||[],f=e=>i.set(r,[...d(),e]);return{flush:l,async schedule(e){let{promise:t,resolve:r,reject:i}=(0,n.n)();return((null==o?void 0:o([...u(),e]))&&c(),d().length>0)?f({args:e,resolve:r,reject:i}):(f({args:e,resolve:r,reject:i}),setTimeout(c,s)),t}}}},51550:function(e,t,r){"use strict";function n(){let e=()=>void 0,t=()=>void 0;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}r.d(t,{n:function(){return n}})},80948:function(e,t,r){"use strict";r.d(t,{lh:function(){return n}});let n=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/},34303:function(e,t,r){"use strict";r.d(t,{mF:function(){return l}});var n=r(17549),i=r(76213),o=r(54293),s=r(9803),a=r(91811);function c(e){if(e&&0!==e.length)return e.reduce((e,t)=>{let{slot:r,value:n}=t;if(66!==r.length)throw new i.W_({size:r.length,targetSize:66,type:"hex"});if(66!==n.length)throw new i.W_({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function l(e){if(!e)return;let t={};for(let{address:r,...i}of e){if(!(0,s.U)(r,{strict:!1}))throw new n.b({address:r});if(t[r])throw new o.Nc({address:r});t[r]=function(e){let{balance:t,nonce:r,state:n,stateDiff:i,code:s}=e,l={};if(void 0!==s&&(l.code=s),void 0!==t&&(l.balance=(0,a.eC)(t)),void 0!==r&&(l.nonce=(0,a.eC)(r)),void 0!==n&&(l.state=c(n)),void 0!==i){if(l.state)throw new o.Z8;l.stateDiff=c(i)}return l}(i)}return t}},78694:function(e,t,r){"use strict";r.d(t,{P:function(){return n}});let n=(e,t,r)=>JSON.stringify(e,(e,r)=>{let n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n},r)},12513:function(e,t,r){"use strict";r.d(t,{F:function(){return l}});var n=r(62340),i=r(97057),o=r(17549),s=r(82326),a=r(3807),c=r(9803);function l(e){let{account:t,gasPrice:r,maxFeePerGas:l,maxPriorityFeePerGas:u,to:d}=e,f=t?(0,n.T)(t):void 0;if(f&&!(0,c.U)(f.address))throw new o.b({address:f.address});if(d&&!(0,c.U)(d))throw new o.b({address:d});if(void 0!==r&&(void 0!==l||void 0!==u))throw new a.xY;if(l&&l>i.zL)throw new s.Hh({maxFeePerGas:l});if(u&&l&&u>l)throw new s.cs({maxFeePerGas:l,maxPriorityFeePerGas:u})}},50357:function(e,t,r){"use strict";r.d(t,{d:function(){return o}});var n=r(45259),i=r(96120);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei";return(0,i.b)(e,n.ez[t])}},72876:function(e,t,r){"use strict";r.d(t,{o:function(){return o}});var n=r(45259),i=r(96120);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei";return(0,i.b)(e,n.Zn[t])}},96120:function(e,t,r){"use strict";function n(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[i,o]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return o=o.replace(/(0+)$/,""),"".concat(n?"-":"").concat(i||"0").concat(o?".".concat(o):"")}r.d(t,{b:function(){return n}})},76645:function(e,t,r){"use strict";r.d(t,{secp256k1:function(){return eA}});var n=r(95423),i=r(88835),o=r(35979);let s=BigInt(0),a=BigInt(1);function c(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function l(e){if(!c(e))throw Error("Uint8Array expected")}function u(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function d(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function f(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?s:BigInt("0x"+e)}let h="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,p=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function g(e){if(l(e),h)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=p[e[r]];return t}let m={_0:48,_9:57,A:65,F:70,a:97,f:102};function y(e){return e>=m._0&&e<=m._9?e-m._0:e>=m.A&&e<=m.F?e-(m.A-10):e>=m.a&&e<=m.f?e-(m.a-10):void 0}function b(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(h)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=y(e.charCodeAt(i)),o=y(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function v(e){return f(g(e))}function w(e){return l(e),f(g(Uint8Array.from(e).reverse()))}function E(e,t){return b(e.toString(16).padStart(2*t,"0"))}function C(e,t){return E(e,t).reverse()}function A(e,t,r){let n;if("string"==typeof t)try{n=b(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(c(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function x(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=0;for(let e=0;e<t.length;e++){let r=t[e];l(r),n+=r.length}let i=new Uint8Array(n);for(let e=0,r=0;e<t.length;e++){let n=t[e];i.set(n,r),r+=n.length}return i}let I=e=>"bigint"==typeof e&&s<=e;function N(e,t,r){return I(e)&&I(t)&&I(r)&&t<=e&&e<r}function S(e,t,r,n){if(!N(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let P=e=>(a<<BigInt(e))-a,O=e=>new Uint8Array(e),_=e=>Uint8Array.from(e),R={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||c(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function T(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(t,r,n)=>{let i=R[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function k(e){let t=new WeakMap;return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];let s=t.get(r);if(void 0!==s)return s;let a=e(r,...i);return t.set(r,a),a}}let B=BigInt(0),U=BigInt(1),M=BigInt(2),L=BigInt(3),D=BigInt(4),j=BigInt(5),F=BigInt(8);function q(e,t){let r=e%t;return r>=B?r:t+r}function z(e,t,r){let n=e;for(;t-- >B;)n*=n,n%=r;return n}function $(e,t){if(e===B)throw Error("invert: expected non-zero number");if(t<=B)throw Error("invert: expected positive modulus, got "+t);let r=q(e,t),n=t,i=B,o=U,s=U,a=B;for(;r!==B;){let e=n/r,t=n%r,c=i-s*e,l=o-a*e;n=r,r=t,i=s,o=a,s=c,a=l}if(n!==U)throw Error("invert: does not exist");return q(i,t)}function H(e,t){let r=(e.ORDER+U)/D,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function G(e,t){let r=(e.ORDER-j)/F,n=e.mul(t,M),i=e.pow(n,r),o=e.mul(t,i),s=e.mul(e.mul(o,M),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw Error("Cannot find square root");return a}let W=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function V(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function K(e,t){let r=(e.ORDER-U)/M,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!s)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function Z(e,t){void 0!==t&&(0,i.k8)(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Y(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=B)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=Z(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:e,isLE:n,BITS:o,BYTES:s,MASK:P(o),ZERO:B,ONE:U,create:t=>q(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return B<=t&&t<e},is0:e=>e===B,isOdd:e=>(e&U)===U,neg:t=>q(-t,e),eql:(e,t)=>e===t,sqr:t=>q(t*t,e),add:(t,r)=>q(t+r,e),sub:(t,r)=>q(t-r,e),mul:(t,r)=>q(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<B)throw Error("invalid exponent, negatives unsupported");if(r===B)return e.ONE;if(r===U)return t;let n=e.ONE,i=t;for(;r>B;)r&U&&(n=e.mul(n,i)),i=e.sqr(i),r>>=U;return n})(a,e,t),div:(t,r)=>q(t*$(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>$(t,e),sqrt:i.sqrt||(t=>(!r&&(r=e%D===L?H:e%F===j?G:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-U,r=0;for(;t%M===B;)t/=M,r++;let n=M,i=Y(e);for(;1===K(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return H;let o=i.pow(n,t),s=(t+U)/M;return function(e,n){if(e.is0(n))return n;if(1!==K(e,n))throw Error("Cannot find square root");let i=r,a=e.mul(e.ONE,o),c=e.pow(n,t),l=e.pow(n,s);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=U<<BigInt(i-t-1),o=e.pow(a,n);i=t,a=e.sqr(o),c=e.mul(c,a),l=e.mul(l,o)}return l}}(e)),r(a,t))),toBytes:e=>n?C(e,s):E(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?w(e):v(e)},invertBatch:e=>V(a,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(a)}function J(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function X(e){let t=J(e);return t+Math.ceil(t/2)}let Q=BigInt(0),ee=BigInt(1);function et(e,t){let r=t.negate();return e?r:t}function er(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function en(e,t){er(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:P(e),maxNumber:i,shiftBy:BigInt(e)}}function ei(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r,a=Number(e&i),c=e>>s;a>n&&(a-=o,c+=ee);let l=t*n,u=l+Math.abs(a)-1;return{nextN:c,offset:u,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}let eo=new WeakMap,es=new WeakMap;function ea(e){return es.get(e)||1}function ec(e){return T(e.Fp,W.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),T(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Z(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function el(e){void 0!==e.lowS&&u("lowS",e.lowS),void 0!==e.prehash&&u("prehash",e.prehash)}class eu extends Error{constructor(e=""){super(e)}}let ed={Err:eu,_tlv:{encode:(e,t)=>{let{Err:r}=ed;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=d(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?d(i.length/2|128):"";return d(e)+o+i+t},decode(e,t){let{Err:r}=ed,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let s=t.subarray(n,n+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=ed;if(e<ef)throw new t("integer: negative integers are not allowed");let r=d(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ed;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return v(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=ed,i=A("signature",e),{v:o,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=ed,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},ef=BigInt(0),eh=BigInt(1),ep=(BigInt(2),BigInt(3)),eg=BigInt(4),em=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ey=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eb=BigInt(0),ev=BigInt(1),ew=BigInt(2),eE=(e,t)=>(e+t/ew)/t,eC=Y(em,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),c=e*e*e%em,l=c*c*e%em,u=z(l,t,em)*l%em,d=z(u,t,em)*l%em,f=z(d,ew,em)*c%em,h=z(f,n,em)*f%em,p=z(h,i,em)*h%em,g=z(p,s,em)*p%em,m=z(g,a,em)*g%em,y=z(m,s,em)*p%em,b=z(y,t,em)*l%em,v=z(b,o,em)*h%em,w=z(v,r,em)*c%em,E=z(w,ew,em);if(!eC.eql(eC.sqr(E),e))throw Error("Cannot find square root");return E}}),eA=function(e,t){let r=t=>(function(e){let t=function(e){let t=ec(e);return T(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:i,nBitLength:o}=t,l=r.BYTES+1,d=2*r.BYTES+1;function f(e){return q(e,n)}let{ProjectivePoint:h,normPrivateKeyToScalar:p,weierstrassEquation:m,isWithinCurveOrder:y}=function(e){var t;let r=function(e){let t=ec(e);T(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=r,i=Y(r.n,r.nBitLength),o=r.toBytes||((e,t,r)=>{let i=t.toAffine();return x(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),l=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function d(e){let{a:t,b:i}=r,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,t)),i)}function f(e,t){let r=n.sqr(t),i=d(e);return n.eql(r,i)}if(!f(r.Gx,r.Gy))throw Error("bad curve params: generator point");let h=n.mul(n.pow(r.a,ep),eg),p=n.mul(n.sqr(r.b),BigInt(27));if(n.is0(n.add(h,p)))throw Error("bad curve params: a or b");function m(e){let t;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:s}=r;if(n&&"bigint"!=typeof e){if(c(e)&&(e=g(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:v(A("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(t=q(t,s)),S("private key",t,eh,s),t}function y(e){if(!(e instanceof E))throw Error("ProjectivePoint expected")}let b=k((e,t)=>{let{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};let s=e.is0();null==t&&(t=s?n.ONE:n.inv(o));let a=n.mul(r,t),c=n.mul(i,t),l=n.mul(o,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw Error("invZ was invalid");return{x:a,y:c}}),w=k(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");if(!f(t,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class E{static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof E)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?E.ZERO:new E(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=V(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(E.fromAffine)}static fromHex(e){let t=E.fromAffine(l(A("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return E.BASE.multiply(m(e))}static msm(e,t){return function(e,t,r,n){!function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,o=n.length;if(i!==o)throw Error("arrays of points and scalars must have equal length");let c=e.ZERO,l=function(e){let t;for(t=0;e>s;e>>=a,t+=1);return t}(BigInt(i)),u=1;l>12?u=l-3:l>4?u=l-2:l>0&&(u=2);let d=P(u),f=Array(Number(d)+1).fill(c),h=Math.floor((t.BITS-1)/u)*u,p=c;for(let e=h;e>=0;e-=u){f.fill(c);for(let t=0;t<o;t++){let i=Number(n[t]>>BigInt(e)&d);f[i]=f[i].add(r[t])}let t=c;for(let e=f.length-1,r=c;e>0;e--)r=r.add(f[e]),t=t.add(r);if(p=p.add(t),0!==e)for(let e=0;e<u;e++)p=p.double()}return p}(E,i,e,t)}_setWindowSize(e){O.setWindowSize(this,e)}assertValidity(){w(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){y(e);let{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(o,i)),l=n.eql(n.mul(r,a),n.mul(s,i));return c&&l}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,ep),{px:o,py:s,pz:a}=this,c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(o,o),f=n.mul(s,s),h=n.mul(a,a),p=n.mul(o,s);return p=n.add(p,p),u=n.mul(o,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,h),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(p,c),u=n.mul(i,u),h=n.mul(e,h),p=n.sub(d,h),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,h),d=n.mul(d,p),l=n.add(l,d),h=n.mul(s,a),h=n.add(h,h),d=n.mul(h,p),c=n.sub(c,d),u=n.mul(h,f),u=n.add(u,u),new E(c,l,u=n.add(u,u))}add(e){y(e);let{px:t,py:i,pz:o}=this,{px:s,py:a,pz:c}=e,l=n.ZERO,u=n.ZERO,d=n.ZERO,f=r.a,h=n.mul(r.b,ep),p=n.mul(t,s),g=n.mul(i,a),m=n.mul(o,c),b=n.add(t,i),v=n.add(s,a);b=n.mul(b,v),v=n.add(p,g),b=n.sub(b,v),v=n.add(t,o);let w=n.add(s,c);return v=n.mul(v,w),w=n.add(p,m),v=n.sub(v,w),w=n.add(i,o),l=n.add(a,c),w=n.mul(w,l),l=n.add(g,m),w=n.sub(w,l),d=n.mul(f,v),l=n.mul(h,m),d=n.add(l,d),l=n.sub(g,d),d=n.add(g,d),u=n.mul(l,d),g=n.add(p,p),g=n.add(g,p),m=n.mul(f,m),v=n.mul(h,v),g=n.add(g,m),m=n.sub(p,m),m=n.mul(f,m),v=n.add(v,m),p=n.mul(g,v),u=n.add(u,p),p=n.mul(w,v),l=n.mul(b,l),l=n.sub(l,p),p=n.mul(b,g),d=n.mul(w,d),new E(l,u,d=n.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(E.ZERO)}wNAF(e){return O.wNAFCached(this,e,E.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;S("scalar",e,ef,i);let o=E.ZERO;if(e===ef)return o;if(this.is0()||e===eh)return this;if(!t||O.hasPrecomputes(this))return O.wNAFCachedUnsafe(this,e,E.normalizeZ);let{k1neg:s,k1:a,k2neg:c,k2:l}=t.splitScalar(e),u=o,d=o,f=this;for(;a>ef||l>ef;)a&eh&&(u=u.add(f)),l&eh&&(d=d.add(f)),f=f.double(),a>>=eh,l>>=eh;return s&&(u=u.negate()),c&&(d=d.negate()),d=new E(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i;let{endo:o,n:s}=r;if(S("scalar",e,eh,s),o){let{k1neg:r,k1:s,k2neg:a,k2:c}=o.splitScalar(e),{p:l,f:u}=this.wNAF(s),{p:d,f:f}=this.wNAF(c);l=O.constTimeNegate(r,l),d=O.constTimeNegate(a,d),d=new E(n.mul(d.px,o.beta),d.py,d.pz),t=l.add(d),i=u.add(f)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return E.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=E.BASE,i=(e,t)=>t!==ef&&t!==eh&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return b(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===eh)return!0;if(t)return t(E,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===eh?this:t?t(E,this):this.multiplyUnsafe(r.h)}toRawBytes(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return u("isCompressed",e),this.assertValidity(),o(E,this,e)}toHex(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return u("isCompressed",e),g(this.toRawBytes(e))}constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}}E.BASE=new E(r.Gx,r.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO);let{endo:C,nBitLength:I}=r,O=(t=C?Math.ceil(I/2):I,{constTimeNegate:et,hasPrecomputes:e=>1!==ea(e),unsafeLadder(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.ZERO,n=e;for(;t>Q;)t&ee&&(r=r.add(n)),n=n.double(),t>>=ee;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=en(r,t),o=[],s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,r,n){let i=E.ZERO,o=E.BASE,s=en(e,t);for(let e=0;e<s.windows;e++){let{nextN:t,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:d}=ei(n,e,s);n=t,c?o=o.add(et(u,r[d])):i=i.add(et(l,r[a]))}return{p:i,f:o}},wNAFUnsafe(e,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.ZERO,o=en(e,t);for(let e=0;e<o.windows&&n!==Q;e++){let{nextN:t,offset:s,isZero:a,isNeg:c}=ei(n,e,o);if(n=t,!a){let e=r[s];i=i.add(c?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=eo.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&eo.set(t,r(n))),n},wNAFCached(e,t,r){let n=ea(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=ea(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){er(r,t),es.set(e,r),eo.delete(e)}});return{CURVE:r,ProjectivePoint:E,normPrivateKeyToScalar:m,weierstrassEquation:d,isWithinCurveOrder:function(e){return N(e,eh,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),o=r.toBytes(i.x);return(u("isCompressed",n),n)?x(Uint8Array.from([t.hasEvenY()?2:3]),o):x(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],i=e.subarray(1);if(t===l&&(2===n||3===n)){let e;let t=v(i);if(!N(t,eh,r.ORDER))throw Error("Point is not on curve");let o=m(t);try{e=r.sqrt(o)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&eh)===eh)&&(e=r.neg(e)),{x:t,y:e}}if(t===d&&4===n)return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+l+", or uncompressed "+d+", got "+t)}}),I=(e,t,r)=>v(e.slice(t,r));class R{static fromCompact(e){return new R(I(e=A("compactSignature",e,2*i),0,i),I(e,i,2*i))}static fromDER(e){let{r:t,s:r}=ed.toSig(A("DER",e));return new R(t,r)}assertValidity(){}addRecoveryBit(e){return new R(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:o,recovery:s}=this,a=L(A("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");let c=2===s||3===s?i+t.n:i;if(c>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let l=(1&s)==0?"02":"03",u=h.fromHex(l+g(E(c,r.BYTES))),d=$(c,n),p=f(-a*d),m=f(o*d),y=h.BASE.multiplyAndAddUnsafe(u,p,m);if(!y)throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>n>>eh}normalizeS(){return this.hasHighS()?new R(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return b(this.toDERHex())}toDERHex(){return ed.hexFromSig(this)}toCompactRawBytes(){return b(this.toCompactHex())}toCompactHex(){return g(E(this.r,i))+g(E(this.s,i))}constructor(e,t,r){S("r",e,eh,n),S("s",t,eh,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}}function B(e){if("bigint"==typeof e)return!1;if(e instanceof h)return!0;let n=A("key",e).length,o=r.BYTES,s=o+1;if(!t.allowedPrivateKeyLengths&&i!==s)return n===s||n===2*o+1}let M=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=v(e),r=8*e.length-o;return r>0?t>>BigInt(r):t},L=t.bits2int_modN||function(e){return f(M(e))},D=P(o);function j(e){return S("num < 2^"+o,e,ef,D),E(e,i)}let F={lowS:t.lowS,prehash:!1},z={lowS:t.lowS,prehash:!1};return h.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return h.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!0===B(e))throw Error("first arg must be private key");if(!1===B(t))throw Error("second arg must be public key");return h.fromHex(t).multiply(p(e)).toRawBytes(r)},sign:function(e,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F,{seed:s,k2sig:a}=function(e,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F;if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:s,randomBytes:a}=t,{lowS:c,prehash:l,extraEntropy:u}=o;null==c&&(c=!0),e=A("msgHash",e),el(o),l&&(e=A("prehashed msgHash",s(e)));let d=L(e),g=p(i),m=[j(g),j(d)];if(null!=u&&!1!==u){let e=!0===u?a(r.BYTES):u;m.push(A("extraEntropy",e))}return{seed:x(...m),k2sig:function(e){let t=M(e);if(!y(t))return;let r=$(t,n),i=h.BASE.multiply(t).toAffine(),o=f(i.x);if(o===ef)return;let s=f(r*f(d+o*g));if(s===ef)return;let a=(i.x===o?0:2)|Number(i.y&eh),l=s;if(c&&s>n>>eh)l=s>n>>eh?f(-s):s,a^=1;return new R(o,l,a)}}}(e,i,o);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=O(e),i=O(e),o=0,s=()=>{n.fill(1),i.fill(0),o=0},a=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return r(i,n,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O(0);i=a(_([0]),e),n=a(),0!==e.length&&(i=a(_([1]),e),n=a())},l=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=a()).slice();r.push(t),e+=n.length}return x(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(l()));)c();return s(),r}})(t.hash.outputLen,t.nByteLength,t.hmac)(s,a)},verify:function(e,r,i){var o;let s;let a,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z;r=A("msgHash",r),i=A("publicKey",i);let{lowS:u,prehash:d,format:p}=l;if(el(l),"strict"in l)throw Error("options.strict was renamed to lowS");if(void 0!==p&&"compact"!==p&&"der"!==p)throw Error("format must be compact or der");let g="string"==typeof e||c(e),m=!g&&!p&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!g&&!m)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(m&&(s=new R(e.r,e.s)),g){try{"compact"!==p&&(s=R.fromDER(e))}catch(e){if(!(e instanceof ed.Err))throw e}s||"der"===p||(s=R.fromCompact(e))}a=h.fromHex(i)}catch(e){return!1}if(!s||u&&s.hasHighS())return!1;d&&(r=t.hash(r));let{r:y,s:b}=s,v=L(r),w=$(b,n),E=f(v*w),C=f(y*w),x=null===(o=h.BASE.multiplyAndAddUnsafe(a,E,C))||void 0===o?void 0:o.toAffine();return!!x&&f(x.x)===y},ProjectivePoint:h,Signature:R,utils:{isValidPrivateKey(e){try{return p(e),!0}catch(e){return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let e=X(t.n);return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.length,i=J(t),o=X(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let s=q(r?w(e):v(e),t-U)+U;return r?C(s,i):E(s,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}})({...e,hash:t,hmac:function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return(0,o.b)(t,e,(0,i.eV)(...n))},randomBytes:i.O6});return{...r(t),create:r}}({a:eb,b:BigInt(7),Fp:eC,n:ey,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ev*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=eE(t*e,ey),s=eE(-r*e,ey),a=q(e-o*t-s*n,ey),c=q(-o*r-s*t,ey),l=a>i,u=c>i;if(l&&(a=ey-a),u&&(c=ey-c),a>i||c>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:a,k2neg:u,k2:c}}}},n.JQ)},56076:function(e,t,r){"use strict";r.d(t,{tQ:function(){return u},Vv:function(){return q}});class n extends Error{constructor(e,t={}){var r;let i=t.cause instanceof n?t.cause.details:(null===(r=t.cause)||void 0===r?void 0:r.message)?t.cause.message:t.details,o=t.cause instanceof n&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...o?["Docs: https://abitype.dev".concat(o)]:[],...i?["Details: ".concat(i)]:[],"Version: abitype@".concat("1.0.8")].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=i,this.docsPath=o,this.metaMessages=t.metaMessages,this.shortMessage=e}}function i(e,t){let r=e.exec(t);return null==r?void 0:r.groups}let o=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,a=/^\(.+?\).*?$/,c=RegExp("^tuple(?<array>(\\[(\\d*)\\])*)$");function l(e){let t="",r=e.length;for(let n=0;n<r;n++)t+=function e(t){let r=t.type;if(c.test(t.type)&&"components"in t){var n;r="(";let o=t.components.length;for(let n=0;n<o;n++)r+=e(t.components[n]),n<o-1&&(r+=", ");let s=i(c,t.type);return r+=")".concat(null!==(n=null==s?void 0:s.array)&&void 0!==n?n:""),e({...t,type:r})}return("indexed"in t&&t.indexed&&(r="".concat(r," indexed")),t.name)?"".concat(r," ").concat(t.name):r}(e[n]),n!==r-1&&(t+=", ");return t}function u(e){var t;return"function"===e.type?"function ".concat(e.name,"(").concat(l(e.inputs),")").concat(e.stateMutability&&"nonpayable"!==e.stateMutability?" ".concat(e.stateMutability):"").concat((null===(t=e.outputs)||void 0===t?void 0:t.length)?" returns (".concat(l(e.outputs),")"):""):"event"===e.type?"event ".concat(e.name,"(").concat(l(e.inputs),")"):"error"===e.type?"error ".concat(e.name,"(").concat(l(e.inputs),")"):"constructor"===e.type?"constructor(".concat(l(e.inputs),")").concat("payable"===e.stateMutability?" payable":""):"fallback"===e.type?"fallback() external".concat("payable"===e.stateMutability?" payable":""):"receive() external payable"}let d=RegExp("^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)$"),f=RegExp("^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)$"),h=RegExp("^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\\s?\\((?<returns>.*?)\\))?$"),p=RegExp("^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \\{(?<properties>.*?)\\}$"),g=RegExp("^constructor\\((?<parameters>.*?)\\)(?:\\s(?<stateMutability>payable{1}))?$"),m=RegExp("^fallback\\(\\) external(?:\\s(?<stateMutability>payable{1}))?$"),y=/^receive\(\) external payable$/,b=new Set(["indexed"]),v=new Set(["calldata","memory","storage"]);class w extends n{constructor({type:e}){super("Unknown type.",{metaMessages:['Type "'.concat(e,'" is not a valid ABI type. Perhaps you forgot to include a struct signature?')]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class E extends n{constructor({type:e}){super("Unknown type.",{metaMessages:['Type "'.concat(e,'" is not a valid ABI type.')]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class C extends n{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class A extends n{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:['"'.concat(t,'" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html')]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class x extends n{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:['Modifier "'.concat(r,'" not allowed').concat(t?' in "'.concat(t,'" type'):"",".")]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class I extends n{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:['Modifier "'.concat(r,'" not allowed').concat(t?' in "'.concat(t,'" type'):"","."),'Data location can only be specified for array, struct, or mapping types, but "'.concat(r,'" was given.')]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class N extends n{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class S extends n{constructor({signature:e,type:t}){super("Invalid ".concat(t," signature."),{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class P extends n{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class O extends n{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class _ extends n{constructor({type:e}){super("Circular reference detected.",{metaMessages:['Struct "'.concat(e,'" is a circular reference.')]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class R extends n{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:['"'.concat(e.trim(),'" has too many ').concat(t>0?"opening":"closing"," parentheses.")],details:'Depth "'.concat(t,'"')}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}let T=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),k=RegExp("^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\\[\\d*?\\])+?)?(?:\\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$"),B=RegExp("^\\((?<type>.+?)\\)(?<array>(?:\\[\\d*?\\])+?)?(?:\\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$"),U=/^u?int$/;function M(e,t){var r,n,c,l,u,d;let f;let h=function(e,t,r){let n="";if(r)for(let e of Object.entries(r)){if(!e)continue;let t="";for(let r of e[1])t+="[".concat(r.type).concat(r.name?":".concat(r.name):"","]");n+="(".concat(e[0],"{").concat(t,"})")}return t?"".concat(t,":").concat(e).concat(n):e}(e,null==t?void 0:t.type,null==t?void 0:t.structs);if(T.has(h))return T.get(h);let p=a.test(e),g=i(p?B:k,e);if(!g)throw new C({param:e});if(g.name&&("address"===(u=g.name)||"bool"===u||"function"===u||"string"===u||"tuple"===u||o.test(u)||s.test(u)||j.test(u)))throw new A({param:e,name:g.name});let m=g.name?{name:g.name}:{},y="indexed"===g.modifier?{indexed:!0}:{},b=null!==(r=null==t?void 0:t.structs)&&void 0!==r?r:{},w={};if(p){f="tuple";let e=L(g.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(M(e[n],{structs:b}));w={components:t}}else if(g.type in b)f="tuple",w={components:b[g.type]};else if(U.test(g.type))f="".concat(g.type,"256");else if(f=g.type,(null==t?void 0:t.type)!=="struct"&&!D(f))throw new E({type:f});if(g.modifier){if(!(null==t?void 0:null===(c=t.modifiers)||void 0===c?void 0:null===(n=c.has)||void 0===n?void 0:n.call(c,g.modifier)))throw new x({param:e,type:null==t?void 0:t.type,modifier:g.modifier});if(v.has(g.modifier)&&(d=f,!g.array&&"bytes"!==d&&"string"!==d&&"tuple"!==d))throw new I({param:e,type:null==t?void 0:t.type,modifier:g.modifier})}let N={type:"".concat(f).concat(null!==(l=g.array)&&void 0!==l?l:""),...m,...y,...w};return T.set(h,N),N}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=e.trim().length;for(let o=0;o<i;o++){let i=e[o],s=e.slice(o+1);switch(i){case",":return 0===n?L(s,[...t,r.trim()]):L(s,t,"".concat(r).concat(i),n);case"(":return L(s,t,"".concat(r).concat(i),n+1);case")":return L(s,t,"".concat(r).concat(i),n-1);default:return L(s,t,"".concat(r).concat(i),n)}}if(""===r)return t;if(0!==n)throw new R({current:r,depth:n});return t.push(r.trim()),t}function D(e){return"address"===e||"bool"===e||"function"===e||"string"===e||o.test(e)||s.test(e)}let j=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/,F=RegExp("^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\\[\\d*?\\])+?)?$");function q(e){let t=function(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!p.test(r))continue;let o=i(p,r);if(!o)throw new S({signature:r,type:"struct"});let s=o.properties.split(";"),a=[],c=s.length;for(let e=0;e<c;e++){let t=s[e].trim();if(!t)continue;let r=M(t,{type:"struct"});a.push(r)}if(!a.length)throw new O({signature:r});t[o.name]=a}let n={},o=Object.entries(t),s=o.length;for(let e=0;e<s;e++){let[r,s]=o[e];n[r]=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,o=[],s=t.length;for(let l=0;l<s;l++){let s=t[l];if(a.test(s.type))o.push(s);else{let t=i(F,s.type);if(!(null==t?void 0:t.type))throw new N({abiParameter:s});let{array:a,type:l}=t;if(l in r){var c;if(n.has(l))throw new _({type:l});o.push({...s,type:"tuple".concat(null!=a?a:""),components:e(null!==(c=r[l])&&void 0!==c?c:[],r,new Set([...n,l]))})}else if(D(l))o.push(s);else throw new w({type:l})}}return o}(s,t)}return n}(e),r=[],n=e.length;for(let o=0;o<n;o++){let n=e[o];p.test(n)||r.push(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(h.test(e))return function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i(h,e);if(!n)throw new S({signature:e,type:"function"});let o=L(n.parameters),s=[],a=o.length;for(let e=0;e<a;e++)s.push(M(o[e],{modifiers:v,structs:r,type:"function"}));let c=[];if(n.returns){let e=L(n.returns),t=e.length;for(let n=0;n<t;n++)c.push(M(e[n],{modifiers:v,structs:r,type:"function"}))}return{name:n.name,type:"function",stateMutability:null!==(t=n.stateMutability)&&void 0!==t?t:"nonpayable",inputs:s,outputs:c}}(e,t);if(f.test(e))return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i(f,e);if(!r)throw new S({signature:e,type:"event"});let n=L(r.parameters),o=[],s=n.length;for(let e=0;e<s;e++)o.push(M(n[e],{modifiers:b,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:o}}(e,t);if(d.test(e))return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i(d,e);if(!r)throw new S({signature:e,type:"error"});let n=L(r.parameters),o=[],s=n.length;for(let e=0;e<s;e++)o.push(M(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:o}}(e,t);if(g.test(e))return function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i(g,e);if(!n)throw new S({signature:e,type:"constructor"});let o=L(n.parameters),s=[],a=o.length;for(let e=0;e<a;e++)s.push(M(o[e],{structs:r,type:"constructor"}));return{type:"constructor",stateMutability:null!==(t=n.stateMutability)&&void 0!==t?t:"nonpayable",inputs:s}}(e,t);if(m.test(e))return function(e){var t;let r=i(m,e);if(!r)throw new S({signature:e,type:"fallback"});return{type:"fallback",stateMutability:null!==(t=r.stateMutability)&&void 0!==t?t:"nonpayable"}}(e);if(y.test(e))return{type:"receive",stateMutability:"payable"};throw new P({signature:e})}(n,t))}return r}},98167:function(e,t,r){"use strict";r(98603),r(21443),r(42138),r(36941)},38780:function(e,t,r){"use strict";r(98603),r(21443),r(42138),r(36941)},21443:function(e,t,r){"use strict";r(98603),r(31089),r(58687),r(36941),r(22648)},42138:function(e,t,r){"use strict";r(98603);var n=r(22648);r(85717);var i=r(31089),o=r(36941);let s=/^(.*)\[([0-9]*)\]$/,a=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,c=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function l(e,t){if(e.length!==t.length)throw new d({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let i=e[n],o=t[n];r.push(l.encode(i,o))}return o.zo(...r)}new Uint8Array,new DataView(new ArrayBuffer(0)),i.G,i.G,i.G,(l||(l={})).encode=function e(t,r){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("address"===t)return n.hu(r),o.Q_(r.toLowerCase(),i?32:0);if("string"===t)return o.mL(r);if("bytes"===t)return r;if("bool"===t)return o.Q_(o.O3(r),i?32:1);let l=t.match(c);if(l){let[e,t,n="256"]=l,s=Number.parseInt(n)/8;return o.xS(r,{size:i?32:s,signed:"int"===t})}let d=t.match(a);if(d){let[e,t]=d;if(Number.parseInt(t)!==(r.length-2)/2)throw new u({expectedSize:Number.parseInt(t),value:r});return o.eh(r,i?32:0)}let h=t.match(s);if(h&&Array.isArray(r)){let[t,n]=h,i=[];for(let t=0;t<r.length;t++)i.push(e(n,r[t],!0));return 0===i.length?"0x":o.zo(...i)}throw new f(t)};class u extends i.G{constructor({expectedSize:e,value:t}){super('Size of bytes "'.concat(t,'" (bytes').concat(o.dp(t),") does not match expected size (bytes").concat(e,").")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class d extends i.G{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding parameters/values length mismatch.","Expected length (parameters): ".concat(e),"Given length (values): ".concat(t)].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class f extends i.G{constructor(e){super("Type `".concat(e,"` is not a valid ABI Type.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}},22648:function(e,t,r){"use strict";r.d(t,{hu:function(){return function e(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{strict:i=!0}=r;if(!c.test(t))throw new l({address:t,cause:new u});if(i){if(t.toLowerCase()===t)return;if(function(t){if(o.has(t))return o.get(t);e(t,{strict:!1});let r=t.substring(2).toLowerCase(),i=a.wn(n.mL(r),{as:"Bytes"}),s=r.split("");for(let e=0;e<40;e+=2)i[e>>1]>>4>=8&&s[e]&&(s[e]=s[e].toUpperCase()),(15&i[e>>1])>=8&&s[e+1]&&(s[e+1]=s[e+1].toUpperCase());let c="0x".concat(s.join(""));return o.set(t,c),c}(t)!==t)throw new l({address:t,cause:new d})}}}});var n=r(85717);class i extends Map{get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}}let o={checksum:new i(8192)}.checksum;var s=r(31089),a=r(58687);r(36941),r(61449);let c=/^0x[a-fA-F0-9]{40}$/;class l extends s.G{constructor({address:e,cause:t}){super('Address "'.concat(e,'" is invalid.'),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class u extends s.G{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class d extends s.G{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}},61684:function(e,t,r){"use strict";r.d(t,{o:function(){return o}});var n=r(36941);function i(e){return{address:e.address,amount:n.xS(e.amount),index:n.xS(e.index),validatorIndex:n.xS(e.validatorIndex)}}function o(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:n.xS(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:n.xS(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:n.xS(e.gasLimit)},..."bigint"==typeof e.number&&{number:n.xS(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:n.xS(e.prevRandao)},..."bigint"==typeof e.time&&{time:n.xS(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(i)}}}},85717:function(e,t,r){"use strict";r.d(t,{$s:function(){return f},Dp:function(){return c},M6:function(){return d},dp:function(){return u},mL:function(){return l}}),r(514);var n=r(31089),i=r(36941);r(61449);var o=r(57094),s=r(72531);let a=new TextEncoder;function c(e){return e instanceof Uint8Array?e:"string"==typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{size:r}=t,a=e;r&&(s.Yf(e,r),a=i.eh(e,r));let c=a.slice(2);c.length%2&&(c="0".concat(c));let l=c.length/2,u=new Uint8Array(l);for(let e=0,t=0;e<l;e++){let r=o.DN(c.charCodeAt(t++)),i=o.DN(c.charCodeAt(t++));if(void 0===r||void 0===i)throw new n.G('Invalid byte sequence ("'.concat(c[t-2]).concat(c[t-1],'" in "').concat(c,'").'));u[e]=16*r+i}return u}(e):e instanceof Uint8Array?e:new Uint8Array(e)}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{size:r}=t,n=a.encode(e);return"number"==typeof r?(o.Yf(n,r),o.vk(n,{dir:"right",size:r})):n}function u(e){return e.length}class d extends n.G{constructor({givenSize:e,maxSize:t}){super("Size cannot exceed `".concat(t,"` bytes. Given size: `").concat(e,"` bytes.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class f extends n.G{constructor({size:e,targetSize:t,type:r}){super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," size (`").concat(e,"`) exceeds padding size (`").concat(t,"`).")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}},31089:function(e,t,r){"use strict";r.d(t,{G:function(){return n}});class n extends Error{walk(e){return function e(t,r){return(null==r?void 0:r(t))?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}constructor(e,t={}){let r=(()=>{var e;if(t.cause instanceof n){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:(null===(e=t.cause)||void 0===e?void 0:e.message)?t.cause.message:t.details})(),i=t.cause instanceof n&&t.cause.docsPath||t.docsPath,o="".concat("https://oxlib.sh").concat(null!=i?i:"");super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||i?["",r?"Details: ".concat(r):void 0,i?"See: ".concat(o):void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@".concat("0.1.1")}),this.cause=t.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}}},58687:function(e,t,r){"use strict";r.d(t,{wn:function(){return s}}),r(17373);var n=r(76087);r(12426);var i=r(85717),o=r(36941);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{as:r="string"==typeof e?"Hex":"Bytes"}=t,s=(0,n.fr)(i.Dp(e));return"Bytes"===r?s:o.xv(s)}},36941:function(e,t,r){"use strict";r.d(t,{$s:function(){return b},Dp:function(){return c},M6:function(){return y},O3:function(){return l},Q_:function(){return h},dp:function(){return g},eh:function(){return p},mL:function(){return f},xS:function(){return d},xv:function(){return u},zo:function(){return a}}),r(514),r(85717);var n=r(31089);r(61449),r(57094);var i=r(72531);let o=new TextEncoder,s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return"0x".concat(t.reduce((e,t)=>e+t.replace("0x",""),""))}function c(e){return e instanceof Uint8Array?u(e):Array.isArray(e)?u(new Uint8Array(e)):e}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="0x".concat(Number(e));return"number"==typeof t.size?(i.Yf(r,t.size),h(r,t.size)):r}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="";for(let t=0;t<e.length;t++)r+=s[e[t]];let n="0x".concat(r);return"number"==typeof t.size?(i.Yf(n,t.size),p(n,t.size)):n}function d(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{signed:n,size:i}=r,o=BigInt(e);i?t=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(t=BigInt(Number.MAX_SAFE_INTEGER));let s="bigint"==typeof t&&n?-t-1n:0;if(t&&o>t||o<s){let r="bigint"==typeof e?"n":"";throw new m({max:t?"".concat(t).concat(r):void 0,min:"".concat(s).concat(r),signed:n,size:i,value:"".concat(e).concat(r)})}let a=(n&&o<0?(1n<<BigInt(8*i))+BigInt(o):o).toString(16),c="0x".concat(a);return i?h(c,i):c}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(o.encode(e),t)}function h(e,t){return i.vk(e,{dir:"left",size:t})}function p(e,t){return i.vk(e,{dir:"right",size:t})}function g(e){return Math.ceil((e.length-2)/2)}class m extends n.G{constructor({max:e,min:t,signed:r,size:n,value:i}){super("Number `".concat(i,"` is not in safe").concat(n?" ".concat(8*n,"-bit"):"").concat(r?" signed":" unsigned"," integer range ").concat(e?"(`".concat(t,"` to `").concat(e,"`)"):"(above `".concat(t,"`)"))),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class y extends n.G{constructor({givenSize:e,maxSize:t}){super("Size cannot exceed `".concat(t,"` bytes. Given size: `").concat(e,"` bytes.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class b extends n.G{constructor({size:e,targetSize:t,type:r}){super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," size (`").concat(e,"`) exceeds padding size (`").concat(t,"`).")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}},61449:function(e,t,r){"use strict";function n(e,t,r){return JSON.stringify(e,(e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+"#__bigint":r,r)}r.d(t,{P:function(){return n}})},57094:function(e,t,r){"use strict";r.d(t,{DN:function(){return s},Yf:function(){return i},vk:function(){return a}});var n=r(85717);function i(e,t){if(n.dp(e)>t)throw new n.M6({givenSize:n.dp(e),maxSize:t})}let o={zero:48,nine:57,A:65,F:70,a:97,f:102};function s(e){return e>=o.zero&&e<=o.nine?e-o.zero:e>=o.A&&e<=o.F?e-(o.A-10):e>=o.a&&e<=o.f?e-(o.a-10):void 0}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{dir:r,size:i=32}=t;if(0===i)return e;if(e.length>i)throw new n.$s({size:e.length,targetSize:i,type:"Bytes"});let o=new Uint8Array(i);for(let t=0;t<i;t++){let n="right"===r;o[n?t:i-t-1]=e[n?t:e.length-t-1]}return o}},72531:function(e,t,r){"use strict";r.d(t,{Yf:function(){return i},vk:function(){return o}});var n=r(36941);function i(e,t){if(n.dp(e)>t)throw new n.M6({givenSize:n.dp(e),maxSize:t})}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{dir:r,size:i=32}=t;if(0===i)return e;let o=e.replace("0x","");if(o.length>2*i)throw new n.$s({size:Math.ceil(o.length/2),targetSize:i,type:"Hex"});return"0x".concat(o["right"===r?"padEnd":"padStart"](2*i,"0"))}},514:function(e,t,r){"use strict";var n=r(88835);n.gk,n.k8,n.ci,n.Md,n.eV,n.nr,n._t,n.O6,n.iY},98603:function(e,t,r){"use strict";r.d(t,{tQ:function(){return o},P1:function(){return i}});let n=RegExp("^tuple(?<array>(\\[(\\d*)\\])*)$");function i(e){let t="",r=e.length;for(let i=0;i<r;i++)t+=function e(t){let r=t.type;if(n.test(t.type)&&"components"in t){var i;r="(";let o=t.components.length;for(let n=0;n<o;n++)r+=e(t.components[n]),n<o-1&&(r+=", ");let s=function(e,t){let r=e.exec(t);return null==r?void 0:r.groups}(n,t.type);return r+=")".concat(null!==(i=null==s?void 0:s.array)&&void 0!==i?i:""),e({...t,type:r})}return("indexed"in t&&t.indexed&&(r="".concat(r," indexed")),t.name)?"".concat(r," ").concat(t.name):r}(e[i]),i!==r-1&&(t+=", ");return t}function o(e){var t;return"function"===e.type?"function ".concat(e.name,"(").concat(i(e.inputs),")").concat(e.stateMutability&&"nonpayable"!==e.stateMutability?" ".concat(e.stateMutability):"").concat((null===(t=e.outputs)||void 0===t?void 0:t.length)?" returns (".concat(i(e.outputs),")"):""):"event"===e.type?"event ".concat(e.name,"(").concat(i(e.inputs),")"):"error"===e.type?"error ".concat(e.name,"(").concat(i(e.inputs),")"):"constructor"===e.type?"constructor(".concat(i(e.inputs),")").concat("payable"===e.stateMutability?" payable":""):"fallback"===e.type?"fallback() external".concat("payable"===e.stateMutability?" payable":""):"receive() external payable"}RegExp("^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)$"),RegExp("^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)$"),RegExp("^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\\s?\\((?<returns>.*?)\\))?$"),RegExp("^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \\{(?<properties>.*?)\\}$"),RegExp("^constructor\\((?<parameters>.*?)\\)(?:\\s(?<stateMutability>payable{1}))?$"),RegExp("^fallback\\(\\) external(?:\\s(?<stateMutability>payable{1}))?$"),RegExp("^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\\spayable)?)(?<array>(?:\\[\\d*?\\])+?)?(?:\\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$"),RegExp("^\\((?<type>.+?)\\)(?<array>(?:\\[\\d*?\\])+?)?(?:\\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$"),RegExp("^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\\[\\d*?\\])+?)?$")},96768:function(e,t,r){"use strict";r.d(t,{sj:function(){return S},iH:function(){return _},CO:function(){return O},Ld:function(){return P},WX:function(){return R}});let n=Symbol(),i=Symbol(),o=(e,t)=>new Proxy(e,t),s=Object.getPrototypeOf,a=new WeakMap,c=e=>e&&(a.has(e)?a.get(e):s(e)===Object.prototype||s(e)===Array.prototype),l=e=>Object.values(Object.getOwnPropertyDescriptors(e)).some(e=>!e.configurable&&!e.writable),u=e=>{if(Array.isArray(e))return Array.from(e);let t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(e=>{e.configurable=!0}),Object.create(s(e),t)},d=(e,t)=>{let r={f:t},o=!1,s=(t,n)=>{if(!o){let i=r.a.get(e);if(i||(i={},r.a.set(e,i)),"w"===t)i.w=!0;else{let e=i[t];e||(e=new Set,i[t]=e),e.add(n)}}},a=()=>{o=!0,r.a.delete(e)},c={get:(t,n)=>n===i?e:(s("k",n),h(Reflect.get(t,n),r.a,r.c,r.t)),has:(e,t)=>t===n?(a(),!0):(s("h",t),Reflect.has(e,t)),getOwnPropertyDescriptor:(e,t)=>(s("o",t),Reflect.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(s("w"),Reflect.ownKeys(e))};return t&&(c.set=c.deleteProperty=()=>!1),[c,r]},f=e=>e[i]||e,h=(e,t,r,n)=>{if(!c(e))return e;let i=n&&n.get(e);if(!i){let t=f(e);i=l(t)?[t,u(t)]:[t],null==n||n.set(e,i)}let[s,a]=i,h=r&&r.get(s);return(!h||!!a!==h[1].f)&&((h=d(s,!!a))[1].p=o(a||s,h[0]),r&&r.set(s,h)),h[1].a=t,h[1].c=r,h[1].t=n,h[1].p},p=e=>c(e)&&e[i]||null,g=(e,t=!0)=>{a.set(e,t)},m=e=>"object"==typeof e&&null!==e,y=(e,t)=>{let r=w.get(e);if((null==r?void 0:r[0])===t)return r[1];let n=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return g(n,!0),w.set(e,[t,n]),Reflect.ownKeys(e).forEach(t=>{if(Object.getOwnPropertyDescriptor(n,t))return;let r=Reflect.get(e,t),{enumerable:i}=Reflect.getOwnPropertyDescriptor(e,t),o={value:r,enumerable:i,configurable:!0};if(v.has(r))g(r,!1);else if(b.has(r)){let[e,t]=b.get(r);o.value=y(e,t())}Object.defineProperty(n,t,o)}),Object.preventExtensions(n)},b=new WeakMap,v=new WeakSet,w=new WeakMap,E=[1,1],C=new WeakMap,A=Object.is,x=(e,t)=>new Proxy(e,t),I=e=>m(e)&&!v.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),N=(e,t,r,n)=>({deleteProperty(e,t){let i=Reflect.get(e,t);r(t);let o=Reflect.deleteProperty(e,t);return o&&n(["delete",[t],i]),o},set(i,o,s,a){let c=!e()&&Reflect.has(i,o),l=Reflect.get(i,o,a);if(c&&(A(l,s)||C.has(s)&&A(l,C.get(s))))return!0;r(o),m(s)&&(s=p(s)||s);let u=!b.has(s)&&I(s)?S(s):s;return t(o,u),Reflect.set(i,o,u,a),n(["set",[o],s,l]),!0}});function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!m(e))throw Error("object required");let t=C.get(e);if(t)return t;let r=E[0],n=new Set,i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:++E[0];r!==t&&(r=t,n.forEach(r=>r(e,t)))},o=E[1],s=e=>(t,r)=>{let n=[...t];n[1]=[e,...n[1]],i(n,r)},a=new Map,c=!0,l=x(e,N(()=>c,(e,t)=>{let r=!v.has(t)&&b.get(t);if(r){if(a.has(e))throw Error("prop listener already exists");if(n.size){let t=r[2](s(e));a.set(e,[r,t])}else a.set(e,[r])}},e=>{var t;let r=a.get(e);r&&(a.delete(e),null==(t=r[1])||t.call(r))},i));C.set(e,l);let u=[e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:++E[1];return o===e||n.size||(o=e,a.forEach(t=>{let[n]=t,i=n[1](e);i>r&&(r=i)})),r},e=>(n.add(e),1===n.size&&a.forEach((e,t)=>{let[r,n]=e;if(n)throw Error("remove already exists");let i=r[2](s(t));a.set(t,[r,i])}),()=>{n.delete(e),0===n.size&&a.forEach((e,t)=>{let[r,n]=e;n&&(n(),a.set(t,[r]))})})];return b.set(l,u),Reflect.ownKeys(e).forEach(t=>{let r=Object.getOwnPropertyDescriptor(e,t);"value"in r&&r.writable&&(l[t]=e[t])}),c=!1,l}function P(e,t,r){let n;let i=b.get(e);i||console.warn("Please use proxy object");let o=[],s=i[2],a=!1,c=s(e=>{if(o.push(e),r){t(o.splice(0));return}n||(n=Promise.resolve().then(()=>{n=void 0,a&&t(o.splice(0))}))});return a=!0,()=>{a=!1,c()}}function O(e){let t=b.get(e);t||console.warn("Please use proxy object");let[r,n]=t;return y(r,n())}function _(e){return v.add(e),e}function R(){return{proxyStateMap:b,refSet:v,snapCache:w,versionHolder:E,proxyCache:C}}},82853:function(e,t,r){"use strict";r.d(t,{VW:function(){return i},Yr:function(){return c}});var n=r(96768);function i(e,t,r,i){let o=e[t];return(0,n.Ld)(e,()=>{let n=e[t];Object.is(o,n)||r(o=n)},i)}Symbol();let{proxyStateMap:o,snapCache:s}=(0,n.WX)(),a=e=>o.has(e);function c(e){let t=[],r=0,i=new Map,o=new WeakMap,c=()=>{let e=s.get(u),t=null==e?void 0:e[1];if(t&&!o.has(t)){let e=new Map(i);o.set(t,e)}},l=e=>o.get(e)||i;if(e){if("function"!=typeof e[Symbol.iterator])throw TypeError("proxyMap:\n	initial state must be iterable\n		tip: structure should be [[key, value]]");for(let[n,o]of e)i.set(n,r),t[r++]=o}let u={data:t,index:r,epoch:0,get size(){return a(this)||c(),l(this).size},get(e){let t=l(this).get(e);if(void 0===t){this.epoch;return}return this.data[t]},has(e){let t=l(this);return this.epoch,t.has(e)},set(e,t){if(!a(this))throw Error("Cannot perform mutations on a snapshot");let r=i.get(e);return void 0===r?(i.set(e,this.index),this.data[this.index++]=t):this.data[r]=t,this.epoch++,this},delete(e){if(!a(this))throw Error("Cannot perform mutations on a snapshot");let t=i.get(e);return void 0!==t&&(delete this.data[t],i.delete(e),this.epoch++,!0)},clear(){if(!a(this))throw Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,i.clear()},forEach(e){this.epoch,l(this).forEach((t,r)=>{e(this.data[t],r,this)})},*entries(){for(let[e,t]of(this.epoch,l(this)))yield[e,this.data[t]]},*keys(){for(let e of(this.epoch,l(this).keys()))yield e},*values(){for(let e of(this.epoch,l(this).values()))yield this.data[e]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},d=(0,n.sj)(u);return Object.defineProperties(d,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(d),d}let{proxyStateMap:l,snapCache:u}=(0,n.WX)()},71096:function(e){var t;t=function(){"use strict";var e="millisecond",t="second",r="minute",n="hour",i="week",o="month",s="quarter",a="year",c="date",l="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},h="en",p={};p[h]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||"th")+"]"}};var g="$isDayjsObject",m=function(e){return e instanceof w||!(!e||!e[g])},y=function e(t,r,n){var i;if(!t)return h;if("string"==typeof t){var o=t.toLowerCase();p[o]&&(i=o),r&&(p[o]=r,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;p[a]=t,i=a}return!n&&i&&(h=i),i||!n&&h},b=function(e,t){if(m(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new w(r)},v={s:f,z:function(e){var t=-e.utcOffset(),r=Math.abs(t);return(t<=0?"+":"-")+f(Math.floor(r/60),2,"0")+":"+f(r%60,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,o),s=r-i<0,a=t.clone().add(n+(s?-1:1),o);return+(-(n+(r-i)/(s?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return({M:o,y:a,w:i,d:"day",D:c,h:n,m:r,s:t,ms:e,Q:s})[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};v.l=y,v.i=m,v.w=function(e,t){return b(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function f(e){this.$L=y(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[g]=!0}var h=f.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(v.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(u);if(n){var i=n[2]-1||0,o=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(t)}(e),this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return v},h.isValid=function(){return this.$d.toString()!==l},h.isSame=function(e,t){var r=b(e);return this.startOf(t)<=r&&r<=this.endOf(t)},h.isAfter=function(e,t){return b(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<b(e)},h.$g=function(e,t,r){return v.u(e)?this[t]:this.set(r,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,s){var l=this,u=!!v.u(s)||s,d=v.p(e),f=function(e,t){var r=v.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return u?r:r.endOf("day")},h=function(e,t){return v.w(l.toDate()[e].apply(l.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},p=this.$W,g=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case a:return u?f(1,0):f(31,11);case o:return u?f(1,g):f(0,g+1);case i:var b=this.$locale().weekStart||0,w=(p<b?p+7:p)-b;return f(u?m-w:m+(6-w),g);case"day":case c:return h(y+"Hours",0);case n:return h(y+"Minutes",1);case r:return h(y+"Seconds",2);case t:return h(y+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(i,s){var l,u=v.p(i),d="set"+(this.$u?"UTC":""),f=((l={}).day=d+"Date",l[c]=d+"Date",l[o]=d+"Month",l[a]=d+"FullYear",l[n]=d+"Hours",l[r]=d+"Minutes",l[t]=d+"Seconds",l[e]=d+"Milliseconds",l)[u],h="day"===u?this.$D+(s-this.$W):s;if(u===o||u===a){var p=this.clone().set(c,1);p.$d[f](h),p.init(),this.$d=p.set(c,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[v.p(e)]()},h.add=function(e,s){var c,l=this;e=Number(e);var u=v.p(s),d=function(t){var r=b(l);return v.w(r.date(r.date()+Math.round(t*e)),l)};if(u===o)return this.set(o,this.$M+e);if(u===a)return this.set(a,this.$y+e);if("day"===u)return d(1);if(u===i)return d(7);var f=((c={})[r]=6e4,c[n]=36e5,c[t]=1e3,c)[u]||1,h=this.$d.getTime()+e*f;return v.w(h,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||l;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=v.z(this),o=this.$H,s=this.$m,a=this.$M,c=r.weekdays,u=r.months,f=r.meridiem,h=function(e,r,i,o){return e&&(e[r]||e(t,n))||i[r].slice(0,o)},p=function(e){return v.s(o%12||12,e,"0")},g=f||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(d,function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return v.s(t.$y,4,"0");case"M":return a+1;case"MM":return v.s(a+1,2,"0");case"MMM":return h(r.monthsShort,a,u,3);case"MMMM":return h(u,a);case"D":return t.$D;case"DD":return v.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(r.weekdaysMin,t.$W,c,2);case"ddd":return h(r.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(o);case"HH":return v.s(o,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return g(o,s,!0);case"A":return g(o,s,!1);case"m":return String(s);case"mm":return v.s(s,2,"0");case"s":return String(t.$s);case"ss":return v.s(t.$s,2,"0");case"SSS":return v.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},h.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},h.diff=function(e,c,l){var u,d=this,f=v.p(c),h=b(e),p=(h.utcOffset()-this.utcOffset())*6e4,g=this-h,m=function(){return v.m(d,h)};switch(f){case a:u=m()/12;break;case o:u=m();break;case s:u=m()/3;break;case i:u=(g-p)/6048e5;break;case"day":u=(g-p)/864e5;break;case n:u=g/36e5;break;case r:u=g/6e4;break;case t:u=g/1e3;break;default:u=g}return l?u:v.a(u)},h.daysInMonth=function(){return this.endOf(o).$D},h.$locale=function(){return p[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=y(e,t,!0);return n&&(r.$L=n),r},h.clone=function(){return v.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}(),E=w.prototype;return b.prototype=E,[["$ms",e],["$s",t],["$m",r],["$H",n],["$W","day"],["$M",o],["$y",a],["$D",c]].forEach(function(e){E[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),b.extend=function(e,t){return e.$i||(e(t,w,b),e.$i=!0),b},b.locale=y,b.isDayjs=m,b.unix=function(e){return b(1e3*e)},b.en=p[h],b.Ls=p,b.p={},b},e.exports=t()},70939:function(e){var t;t=function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||"th")+"]"}}},e.exports=t()},45721:function(e){var t;t=function(){return function(e,t,r){e=e||{};var n=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(e,t,r,i){return n.fromToBase(e,t,r,i)}r.en.relativeTime=i,n.fromToBase=function(t,n,o,s,a){for(var c,l,u,d=o.$locale().relativeTime||i,f=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=f.length,p=0;p<h;p+=1){var g=f[p];g.d&&(c=s?r(t).diff(o,g.d,!0):o.diff(t,g.d,!0));var m=(e.rounding||Math.round)(Math.abs(c));if(u=c>0,m<=g.r||!g.r){m<=1&&p>0&&(g=f[p-1]);var y=d[g.l];a&&(m=a(""+m)),l="string"==typeof y?y.replace("%d",m):y(m,n,g.l,u);break}}if(n)return l;var b=u?d.future:d.past;return"function"==typeof b?b(l):b.replace("%s",l)},n.to=function(e,t){return o(e,t,this,!0)},n.from=function(e,t){return o(e,t,this)};var s=function(e){return e.$u?r.utc():r()};n.toNow=function(e){return this.to(s(this),e)},n.fromNow=function(e){return this.from(s(this),e)}}},e.exports=t()},96961:function(e){var t;t=function(){return function(e,t,r){r.updateLocale=function(e,t){var n=r.Ls[e];if(n)return(t?Object.keys(t):[]).forEach(function(e){n[e]=t[e]}),n}}},e.exports=t()},75969:function(e,t,r){"use strict";r.d(t,{Jb:function(){return S},Ld:function(){return P},YP:function(){return I},_$LH:function(){return z},cV:function(){return N},dy:function(){return x},sY:function(){return H}});let n=globalThis,i=n.trustedTypes,o=i?i.createPolicy("lit-html",{createHTML:e=>e}):void 0,s="$lit$",a=`lit$${Math.random().toFixed(9).slice(2)}$`,c="?"+a,l=`<${c}>`,u=document,d=()=>u.createComment(""),f=e=>null===e||"object"!=typeof e&&"function"!=typeof e,h=Array.isArray,p=e=>h(e)||"function"==typeof e?.[Symbol.iterator],g="[ 	\n\f\r]",m=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,y=/-->/g,b=/>/g,v=RegExp(`>|${g}(?:([^\\s"'>=/]+)(${g}*=${g}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),w=/'/g,E=/"/g,C=/^(?:script|style|textarea|title)$/i,A=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),x=A(1),I=A(2),N=A(3),S=Symbol.for("lit-noChange"),P=Symbol.for("lit-nothing"),O=new WeakMap,_=u.createTreeWalker(u,129);function R(e,t){if(!h(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==o?o.createHTML(t):t}let T=(e,t)=>{let r=e.length-1,n=[],i,o=2===t?"<svg>":3===t?"<math>":"",c=m;for(let t=0;t<r;t++){let r=e[t],u,d,f=-1,h=0;for(;h<r.length&&(c.lastIndex=h,null!==(d=c.exec(r)));)h=c.lastIndex,c===m?"!--"===d[1]?c=y:void 0!==d[1]?c=b:void 0!==d[2]?(C.test(d[2])&&(i=RegExp("</"+d[2],"g")),c=v):void 0!==d[3]&&(c=v):c===v?">"===d[0]?(c=i??m,f=-1):void 0===d[1]?f=-2:(f=c.lastIndex-d[2].length,u=d[1],c=void 0===d[3]?v:'"'===d[3]?E:w):c===E||c===w?c=v:c===y||c===b?c=m:(c=v,i=void 0);let p=c===v&&e[t+1].startsWith("/>")?" ":"";o+=c===m?r+l:f>=0?(n.push(u),r.slice(0,f)+s+r.slice(f)+a+p):r+a+(-2===f?t:p)}return[R(e,o+(e[r]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),n]};class k{constructor({strings:e,_$litType$:t},r){let n;this.parts=[];let o=0,l=0,u=e.length-1,f=this.parts,[h,p]=T(e,t);if(this.el=k.createElement(h,r),_.currentNode=this.el.content,2===t||3===t){let e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(n=_.nextNode())&&f.length<u;){if(1===n.nodeType){if(n.hasAttributes())for(let e of n.getAttributeNames())if(e.endsWith(s)){let t=p[l++],r=n.getAttribute(e).split(a),i=/([.?@])?(.*)/.exec(t);f.push({type:1,index:o,name:i[2],strings:r,ctor:"."===i[1]?D:"?"===i[1]?j:"@"===i[1]?F:L}),n.removeAttribute(e)}else e.startsWith(a)&&(f.push({type:6,index:o}),n.removeAttribute(e));if(C.test(n.tagName)){let e=n.textContent.split(a),t=e.length-1;if(t>0){n.textContent=i?i.emptyScript:"";for(let r=0;r<t;r++)n.append(e[r],d()),_.nextNode(),f.push({type:2,index:++o});n.append(e[t],d())}}}else if(8===n.nodeType){if(n.data===c)f.push({type:2,index:o});else{let e=-1;for(;-1!==(e=n.data.indexOf(a,e+1));)f.push({type:7,index:o}),e+=a.length-1}}o++}}static createElement(e,t){let r=u.createElement("template");return r.innerHTML=e,r}}function B(e,t,r=e,n){if(t===S)return t;let i=void 0!==n?r._$Co?.[n]:r._$Cl,o=f(t)?void 0:t._$litDirective$;return i?.constructor!==o&&(i?._$AO?.(!1),void 0===o?i=void 0:(i=new o(e))._$AT(e,r,n),void 0!==n?(r._$Co??=[])[n]=i:r._$Cl=i),void 0!==i&&(t=B(e,i._$AS(e,t.values),i,n)),t}class U{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){let{el:{content:t},parts:r}=this._$AD,n=(e?.creationScope??u).importNode(t,!0);_.currentNode=n;let i=_.nextNode(),o=0,s=0,a=r[0];for(;void 0!==a;){if(o===a.index){let t;2===a.type?t=new M(i,i.nextSibling,this,e):1===a.type?t=new a.ctor(i,a.name,a.strings,this,e):6===a.type&&(t=new q(i,this,e)),this._$AV.push(t),a=r[++s]}o!==a?.index&&(i=_.nextNode(),o++)}return _.currentNode=u,n}p(e){let t=0;for(let r of this._$AV)void 0!==r&&(void 0!==r.strings?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}}class M{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,r,n){this.type=2,this._$AH=P,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){f(e=B(this,e,t))?e===P||null==e||""===e?(this._$AH!==P&&this._$AR(),this._$AH=P):e!==this._$AH&&e!==S&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):p(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==P&&f(this._$AH)?this._$AA.nextSibling.data=e:this.T(u.createTextNode(e)),this._$AH=e}$(e){let{values:t,_$litType$:r}=e,n="number"==typeof r?this._$AC(e):(void 0===r.el&&(r.el=k.createElement(R(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===n)this._$AH.p(t);else{let e=new U(n,this),r=e.u(this.options);e.p(t),this.T(r),this._$AH=e}}_$AC(e){let t=O.get(e.strings);return void 0===t&&O.set(e.strings,t=new k(e)),t}k(e){h(this._$AH)||(this._$AH=[],this._$AR());let t=this._$AH,r,n=0;for(let i of e)n===t.length?t.push(r=new M(this.O(d()),this.O(d()),this,this.options)):r=t[n],r._$AI(i),n++;n<t.length&&(this._$AR(r&&r._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){let t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class L{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,r,n,i){this.type=1,this._$AH=P,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=i,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=P}_$AI(e,t=this,r,n){let i=this.strings,o=!1;if(void 0===i)(o=!f(e=B(this,e,t,0))||e!==this._$AH&&e!==S)&&(this._$AH=e);else{let n,s;let a=e;for(e=i[0],n=0;n<i.length-1;n++)(s=B(this,a[r+n],t,n))===S&&(s=this._$AH[n]),o||=!f(s)||s!==this._$AH[n],s===P?e=P:e!==P&&(e+=(s??"")+i[n+1]),this._$AH[n]=s}o&&!n&&this.j(e)}j(e){e===P?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class D extends L{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===P?void 0:e}}class j extends L{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==P)}}class F extends L{constructor(e,t,r,n,i){super(e,t,r,n,i),this.type=5}_$AI(e,t=this){if((e=B(this,e,t,0)??P)===S)return;let r=this._$AH,n=e===P&&r!==P||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==P&&(r===P||n);n&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class q{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){B(this,e)}}let z={M:s,P:a,A:c,C:1,L:T,R:U,D:p,V:B,I:M,H:L,N:j,U:F,B:D,F:q},$=n.litHtmlPolyfillSupport;$?.(k,M),(n.litHtmlVersions??=[]).push("3.3.1");let H=(e,t,r)=>{let n=r?.renderBefore??t,i=n._$litPart$;if(void 0===i){let e=r?.renderBefore??null;n._$litPart$=i=new M(t.insertBefore(d(),e),e,void 0,r??{})}return i._$AI(e),i}},11937:function(e,t,r){"use strict";r.d(t,{oi:function(){return s},iv:function(){return n.iv},dy:function(){return i.dy},YP:function(){return i.YP},$m:function(){return n.$m}});var n=r(35549),i=r(75969);let o=globalThis;class s extends n.fl{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){let e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,i.sY)(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return i.Jb}}s._$litElement$=!0,s.finalized=!0,o.litElementHydrateSupport?.({LitElement:s});let a=o.litElementPolyfillSupport;a?.({LitElement:s}),(o.litElementVersions??=[]).push("4.2.1")},11362:function(e,t,r){"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,{_:function(){return n}})},58448:function(e,t,r){"use strict";r.d(t,{o:function(){return o}});var n=r(36029);function i(e){return{address:e.address,amount:n.xS(e.amount),index:n.xS(e.index),validatorIndex:n.xS(e.validatorIndex)}}function o(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:n.xS(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:n.xS(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:n.xS(e.gasLimit)},..."bigint"==typeof e.number&&{number:n.xS(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:n.xS(e.prevRandao)},..."bigint"==typeof e.time&&{time:n.xS(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(i)}}}},89120:function(e,t,r){"use strict";r.d(t,{$s:function(){return f},Dp:function(){return c},M6:function(){return d},dp:function(){return u},mL:function(){return l}}),r(34097);var n=r(68794),i=r(36029),o=r(2605),s=r(60096);r(59688);let a=new TextEncoder;function c(e){return e instanceof Uint8Array?e:"string"==typeof e?function(e,t={}){let{size:r}=t,a=e;r&&(s.Yf(e,r),a=i.eh(e,r));let c=a.slice(2);c.length%2&&(c=`0${c}`);let l=c.length/2,u=new Uint8Array(l);for(let e=0,t=0;e<l;e++){let r=o.DN(c.charCodeAt(t++)),i=o.DN(c.charCodeAt(t++));if(void 0===r||void 0===i)throw new n.G(`Invalid byte sequence ("${c[t-2]}${c[t-1]}" in "${c}").`);u[e]=16*r+i}return u}(e):e instanceof Uint8Array?e:new Uint8Array(e)}function l(e,t={}){let{size:r}=t,n=a.encode(e);return"number"==typeof r?(o.Yf(n,r),o.vk(n,{dir:"right",size:r})):n}function u(e){return e.length}class d extends n.G{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class f extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}},68794:function(e,t,r){"use strict";r.d(t,{G:function(){return n}});class n extends Error{constructor(e,t={}){let r=(()=>{if(t.cause instanceof n){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),i=t.cause instanceof n&&t.cause.docsPath||t.docsPath,o=`https://oxlib.sh${i??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&t.cause?e(t.cause,r):r?null:t}(this,e)}}},36029:function(e,t,r){"use strict";r.d(t,{$s:function(){return b},Dp:function(){return c},M6:function(){return y},O3:function(){return l},Q_:function(){return h},dp:function(){return g},eh:function(){return p},mL:function(){return f},xS:function(){return d},xv:function(){return u},zo:function(){return a}}),r(34097),r(89120);var n=r(68794);r(2605);var i=r(60096);r(59688);let o=new TextEncoder,s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function c(e){return e instanceof Uint8Array?u(e):Array.isArray(e)?u(new Uint8Array(e)):e}function l(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(i.Yf(r,t.size),h(r,t.size)):r}function u(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=s[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(i.Yf(n,t.size),p(n,t.size)):n}function d(e,t={}){let r;let{signed:n,size:i}=t,o=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let s="bigint"==typeof r&&n?-r-1n:0;if(r&&o>r||o<s){let t="bigint"==typeof e?"n":"";throw new m({max:r?`${r}${t}`:void 0,min:`${s}${t}`,signed:n,size:i,value:`${e}${t}`})}let a=(n&&o<0?(1n<<BigInt(8*i))+BigInt(o):o).toString(16),c=`0x${a}`;return i?h(c,i):c}function f(e,t={}){return u(o.encode(e),t)}function h(e,t){return i.vk(e,{dir:"left",size:t})}function p(e,t){return i.vk(e,{dir:"right",size:t})}function g(e){return Math.ceil((e.length-2)/2)}class m extends n.G{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number \`${i}\` is not in safe${n?` ${8*n}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class y extends n.G{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class b extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}},59688:function(e,t,r){"use strict";function n(e,t,r){return JSON.stringify(e,(e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+"#__bigint":r,r)}r.d(t,{P:function(){return n}})},2605:function(e,t,r){"use strict";r.d(t,{DN:function(){return s},Yf:function(){return i},vk:function(){return a}});var n=r(89120);function i(e,t){if(n.dp(e)>t)throw new n.M6({givenSize:n.dp(e),maxSize:t})}let o={zero:48,nine:57,A:65,F:70,a:97,f:102};function s(e){return e>=o.zero&&e<=o.nine?e-o.zero:e>=o.A&&e<=o.F?e-(o.A-10):e>=o.a&&e<=o.f?e-(o.a-10):void 0}function a(e,t={}){let{dir:r,size:i=32}=t;if(0===i)return e;if(e.length>i)throw new n.$s({size:e.length,targetSize:i,type:"Bytes"});let o=new Uint8Array(i);for(let t=0;t<i;t++){let n="right"===r;o[n?t:i-t-1]=e[n?t:e.length-t-1]}return o}},60096:function(e,t,r){"use strict";r.d(t,{Yf:function(){return i},vk:function(){return o}});var n=r(36029);function i(e,t){if(n.dp(e)>t)throw new n.M6({givenSize:n.dp(e),maxSize:t})}function o(e,t={}){let{dir:r,size:i=32}=t;if(0===i)return e;let o=e.replace("0x","");if(o.length>2*i)throw new n.$s({size:Math.ceil(o.length/2),targetSize:i,type:"Hex"});return`0x${o["right"===r?"padEnd":"padStart"](2*i,"0")}`}},34097:function(e,t,r){"use strict";r.d(t,{Dd:function(){return I},FF:function(){return R},Fy:function(){return x},H9:function(){return T},Hv:function(){return m},S5:function(){return v},Z2:function(){return A},_t:function(){return o},ci:function(){return f},dQ:function(){return N},eV:function(){return E},n$:function(){return O},nr:function(){return g},ql:function(){return w},tL:function(){return b},ty:function(){return y},uw:function(){return a},uz:function(){return c}});let n=BigInt(0),i=BigInt(1);function o(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function s(e){if(!o(e))throw Error("Uint8Array expected")}function a(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function c(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function l(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?n:BigInt("0x"+e)}let u="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,d=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function f(e){if(s(e),u)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=d[e[r]];return t}let h={_0:48,_9:57,A:65,F:70,a:97,f:102};function p(e){return e>=h._0&&e<=h._9?e-h._0:e>=h.A&&e<=h.F?e-(h.A-10):e>=h.a&&e<=h.f?e-(h.a-10):void 0}function g(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(u)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=p(e.charCodeAt(i)),o=p(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function m(e){return l(f(e))}function y(e){return s(e),l(f(Uint8Array.from(e).reverse()))}function b(e,t){return g(e.toString(16).padStart(2*t,"0"))}function v(e,t){return b(e,t).reverse()}function w(e,t,r){let n;if("string"==typeof t)try{n=g(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(o(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function E(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];s(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let C=e=>"bigint"==typeof e&&n<=e;function A(e,t,r){return C(e)&&C(t)&&C(r)&&t<=e&&e<r}function x(e,t,r,n){if(!A(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function I(e){let t;for(t=0;e>n;e>>=i,t+=1);return t}let N=e=>(i<<BigInt(e))-i,S=e=>new Uint8Array(e),P=e=>Uint8Array.from(e);function O(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=S(e),i=S(e),o=0,s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),c=(e=S(0))=>{i=a(P([0]),e),n=a(),0!==e.length&&(i=a(P([1]),e),n=a())},l=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=a()).slice();r.push(t),e+=n.length}return E(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(l()));)c();return s(),r}}let _={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||o(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function R(e,t,r={}){let n=(t,r,n)=>{let i=_[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function T(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}},31728:function(e,t,r){"use strict";function n(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}r.d(t,{T:function(){return n}})},16626:function(e,t,r){"use strict";r.d(t,{R:function(){return C}});var n=r(9533),i=r(58448),o=r(31728),s=r(34403),a=r(80895),c=r(58950),l=r(72270),u=r(98690),d=r(2401),f=r(32284),h=r(84262),p=r(71943),g=r(88048),m=r(94293),y=r(47882),b=r(73102),v=r(75198),w=r(79661),E=r(58932);async function C(e,t){let{account:s=e.account,authorizationList:d,batch:h=!!e.batch?.multicall,blockNumber:p,blockTag:v=e.experimental_blockTag??"latest",accessList:C,blobs:I,blockOverrides:N,code:S,data:P,factory:O,factoryData:_,gas:R,gasPrice:T,maxFeePerBlobGas:k,maxFeePerGas:B,maxPriorityFeePerGas:U,nonce:M,to:L,value:D,stateOverride:j,...F}=t,q=s?(0,o.T)(s):void 0;if(S&&(O||_))throw new c.G("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(S&&L)throw new c.G("Cannot provide both `code` & `to` as parameters.");let z=S&&P,$=O&&_&&L&&P,H=z||$,G=z?x({code:S,data:P}):$?function(e){let{data:t,factory:r,factoryData:i,to:o}=e;return(0,f.w)({abi:(0,n.Vv)(["constructor(address, bytes, address, bytes)"]),bytecode:a.pG,args:[o,t,r,i]})}({data:P,factory:O,factoryData:_,to:L}):P;try{(0,E.F)(t);let r=("bigint"==typeof p?(0,g.eC)(p):void 0)||v,n=N?i.o(N):void 0,o=(0,w.mF)(j),s=e.chain?.formatters?.transactionRequest?.format,a=(s||b.tG)({...(0,y.K)(F,{format:s}),from:q?.address,accessList:C,authorizationList:d,blobs:I,data:G,gas:R,gasPrice:T,maxFeePerBlobGas:k,maxFeePerGas:B,maxPriorityFeePerGas:U,nonce:M,to:H?void 0:L,value:D});if(h&&function({request:e}){let{data:t,to:r,...n}=e;return!(!t||t.startsWith("0x82ad56cb"))&&!!r&&!(Object.values(n).filter(e=>void 0!==e).length>0)}({request:a})&&!o&&!n)try{return await A(e,{...a,blockNumber:p,blockTag:v})}catch(e){if(!(e instanceof l.pZ)&&!(e instanceof l.mm))throw e}let c=(()=>{let e=[a,r];return o&&n?[...e,o,n]:o?[...e,o]:n?[...e,{},n]:e})(),u=await e.request({method:"eth_call",params:c});if("0x"===u)return{data:void 0};return{data:u}}catch(s){let n=function(e){if(!(e instanceof c.G))return;let t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(s),{offchainLookup:i,offchainLookupSignature:o}=await Promise.resolve().then(r.bind(r,21743));if(!1!==e.ccipRead&&n?.slice(0,10)===o&&L)return{data:await i(e,{data:n,to:L})};if(H&&n?.slice(0,10)==="0x101bb98d")throw new u.Mo({factory:O});throw(0,m.P)(s,{...t,account:q,chain:e.chain})}}async function A(e,t){let{batchSize:r=1024,deployless:n=!1,wait:i=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:o,blockTag:c=e.experimental_blockTag??"latest",data:f,to:m}=t,y=(()=>{if(n)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return(0,p.L)({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new l.pZ})(),b=("bigint"==typeof o?(0,g.eC)(o):void 0)||c,{schedule:w}=(0,v.S)({id:`${e.uid}.${b}`,wait:i,shouldSplitBatch:e=>e.reduce((e,{data:t})=>e+(t.length-2),0)>2*r,fn:async t=>{let r=t.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),n=(0,h.R)({abi:s.F8,args:[r],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{...null===y?{data:x({code:a.xd,data:n})}:{to:y,data:n}},b]});return(0,d.k)({abi:s.F8,args:[r],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:E,success:C}]=await w({data:f,to:m});if(!C)throw new u.VQ({data:E});return"0x"===E?{data:void 0}:{data:E}}function x(e){let{code:t,data:r}=e;return(0,f.w)({abi:(0,n.Vv)(["constructor(bytes, bytes)"]),bytecode:a.NO,args:[t,r]})}},34403:function(e,t,r){"use strict";r.d(t,{F8:function(){return n},Yi:function(){return i}});let n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],i=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],o=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}];[...o],[...o]},80895:function(e,t,r){"use strict";r.d(t,{NO:function(){return n},pG:function(){return i},xd:function(){return o}});let n="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",i="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",o="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033"},63239:function(e,t,r){"use strict";r.d(t,{l:function(){return n}});let n=1},33235:function(e,t,r){"use strict";r.d(t,{rU:function(){return n},zL:function(){return i}});let n=2n**16n-1n,i=2n**256n-1n},92800:function(e,t,r){"use strict";r.d(t,{$:function(){return n},Up:function(){return i},hZ:function(){return o}});let n={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},o={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},51190:function(e,t,r){"use strict";r.d(t,{Zn:function(){return i},ez:function(){return n}});let n={gwei:9,wei:18},i={ether:-9,wei:9}},22410:function(e,t,r){"use strict";r.d(t,{CI:function(){return E},M4:function(){return d},MS:function(){return p},MX:function(){return y},S4:function(){return v},Zh:function(){return h},cO:function(){return a},dh:function(){return w},eF:function(){return b},fM:function(){return s},fs:function(){return f},gr:function(){return u},hn:function(){return C},wM:function(){return A},wb:function(){return l},xB:function(){return c},xL:function(){return m},yP:function(){return g}});var n=r(26439),i=r(52390),o=r(58950);class s extends o.G{constructor({docsPath:e}){super("A constructor was not found on the ABI.\nMake sure you are using the correct ABI and that the constructor exists on it.",{docsPath:e,name:"AbiConstructorNotFoundError"})}}class a extends o.G{constructor({docsPath:e}){super("Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.\nMake sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.",{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class c extends o.G{constructor({data:e,params:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${(0,n.h)(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class l extends o.G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class u extends o.G{constructor({expectedLength:e,givenLength:t,type:r}){super(`ABI encoding array length mismatch for type ${r}.
Expected length: ${e}
Given length: ${t}`,{name:"AbiEncodingArrayLengthMismatchError"})}}class d extends o.G{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,i.d)(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class f extends o.G{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding params/values length mismatch.
Expected length (params): ${e}
Given length (values): ${t}`,{name:"AbiEncodingLengthMismatchError"})}}class h extends o.G{constructor(e,{docsPath:t}){super(`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).
Cannot encode error result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the inputs exist on it.`,{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class p extends o.G{constructor(e,{docsPath:t}={}){super(`Error ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.`,{docsPath:t,name:"AbiErrorNotFoundError"})}}class g extends o.G{constructor(e,{docsPath:t}){super(`Encoded error signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.
You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class m extends o.G{constructor(e,{docsPath:t}={}){super(`Function ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t,name:"AbiFunctionNotFoundError"})}}class y extends o.G{constructor(e,{docsPath:t}){super(`Function "${e}" does not contain any \`outputs\` on ABI.
Cannot decode function result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class b extends o.G{constructor(e,{docsPath:t}){super(`Encoded function signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.
You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class v extends o.G{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${(0,n.t)(e.abiItem)}\`, and`,`\`${t.type}\` in \`${(0,n.t)(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class w extends o.G{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid encoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiEncodingType"})}}class E extends o.G{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid decoding type.
Please provide a valid ABI type.`,{docsPath:t,name:"InvalidAbiDecodingType"})}}class C extends o.G{constructor(e){super(`Value "${e}" is not a valid array.`,{name:"InvalidArrayError"})}}class A extends o.G{constructor(e){super(`"${e}" is not a valid definition type.
Valid types: "function", "event", "error"`,{name:"InvalidDefinitionTypeError"})}}},69590:function(e,t,r){"use strict";r.d(t,{o:function(){return i}});var n=r(58950);class i extends n.G{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}},27532:function(e,t,r){"use strict";r.d(t,{b:function(){return i}});var n=r(58950);class i extends n.G{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}},58950:function(e,t,r){"use strict";r.d(t,{G:function(){return o}});let n="2.37.8",i={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${n}`};class o extends Error{constructor(e,t={}){let r=t.cause instanceof o?t.cause.details:t.cause?.message?t.cause.message:t.details,s=t.cause instanceof o&&t.cause.docsPath||t.docsPath,a=i.getDocsUrl?.({...t,docsPath:s});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...i.version?[`Version: ${i.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=n}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}},69225:function(e,t,r){"use strict";r.d(t,{RX:function(){return s},cJ:function(){return c},m7:function(){return o},xd:function(){return a}});var n=r(63239),i=r(58950);class o extends i.G{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class s extends i.G{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class a extends i.G{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}}class c extends i.G{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${n.l}`,`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}},72270:function(e,t,r){"use strict";r.d(t,{hJ:function(){return s},mm:function(){return i},pZ:function(){return o}});var n=r(58950);class i extends n.G{constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class o extends n.G{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class s extends n.G{constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}},98690:function(e,t,r){"use strict";r.d(t,{Mo:function(){return u},VQ:function(){return d},cg:function(){return l}});var n=r(31728);r(92800),r(26226),r(26439),r(2522),r(16735);var i=r(79692),o=r(35551);r(22410);var s=r(58950),a=r(86172),c=r(27051);r(72842);class l extends s.G{constructor(e,{account:t,docsPath:r,chain:s,data:l,gas:u,gasPrice:d,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:g,value:m,stateOverride:y}){let b=t?(0,n.T)(t):void 0,v=(0,c.xr)({from:b?.address,to:g,value:void 0!==m&&`${(0,i.d)(m)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:l,gas:u,gasPrice:void 0!==d&&`${(0,o.o)(d)} gwei`,maxFeePerGas:void 0!==f&&`${(0,o.o)(f)} gwei`,maxPriorityFeePerGas:void 0!==h&&`${(0,o.o)(h)} gwei`,nonce:p});y&&(v+=`
${(0,a.Bj)(y)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class u extends s.G{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class d extends s.G{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},18761:function(e,t,r){"use strict";r.d(t,{KD:function(){return s},T_:function(){return i},lQ:function(){return o}});var n=r(58950);class i extends n.G{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class o extends n.G{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class s extends n.G{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}},86943:function(e,t,r){"use strict";r.d(t,{$s:function(){return o},W_:function(){return s},mV:function(){return i}});var n=r(58950);class i extends n.G{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class o extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class s extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}},93511:function(e,t,r){"use strict";r.d(t,{J5:function(){return i},M6:function(){return s},yr:function(){return o}});var n=r(58950);class i extends n.G{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class o extends n.G{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class s extends n.G{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}},42106:function(e,t,r){"use strict";r.d(t,{C_:function(){return d},G$:function(){return a},Hh:function(){return s},M_:function(){return o},WF:function(){return f},ZI:function(){return c},cj:function(){return m},cs:function(){return g},dR:function(){return h},pZ:function(){return p},se:function(){return u},vU:function(){return l}});var n=r(35551),i=r(58950);class o extends i.G{constructor({cause:e,message:t}={}){let r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class s extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.o)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class a extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.o)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class c extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class l extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.
Try increasing the nonce or find the latest nonce with \`getTransactionCount\`.`,{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class u extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class d extends i.G{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class f extends i.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class h extends i.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class p extends i.G{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class g extends i.G{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,n.o)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${(0,n.o)(r)} gwei`:""}).`,{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(g,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class m extends i.G{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}},39730:function(e,t,r){"use strict";r.d(t,{Gg:function(){return s},W5:function(){return c},bs:function(){return a}});var n=r(67199),i=r(58950),o=r(72842);class s extends i.G{constructor({body:e,cause:t,details:r,headers:i,status:s,url:a}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${(0,o.G)(a)}`,e&&`Request body: ${(0,n.P)(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=a}}class a extends i.G{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,o.G)(r)}`,`Request body: ${(0,n.P)(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class c extends i.G{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,o.G)(t)}`,`Request body: ${(0,n.P)(e)}`],name:"TimeoutError"})}}},88186:function(e,t,r){"use strict";r.d(t,{B:function(){return c},EJ:function(){return P},GD:function(){return b},I0:function(){return A},KB:function(){return g},LX:function(){return l},NO:function(){return _},Nt:function(){return S},Og:function(){return h},PE:function(){return w},Pv:function(){return y},Ts:function(){return E},Uu:function(){return N},XS:function(){return d},ab:function(){return v},fl:function(){return O},gS:function(){return m},ir:function(){return T},nY:function(){return u},pT:function(){return p},r0:function(){return R},s7:function(){return a},u5:function(){return C},vl:function(){return I},x3:function(){return x},yR:function(){return f}});var n=r(58950),i=r(39730);class o extends n.G{constructor(e,{code:t,docsPath:r,metaMessages:n,name:o,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof i.bs?e.code:t??-1}}class s extends o{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class a extends o{constructor(e){super(e,{code:a.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class c extends o{constructor(e){super(e,{code:c.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class l extends o{constructor(e,{method:t}={}){super(e,{code:l.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class u extends o{constructor(e){super(e,{code:u.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class d extends o{constructor(e){super(e,{code:d.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class f extends o{constructor(e){super(e,{code:f.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class h extends o{constructor(e){super(e,{code:h.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class p extends o{constructor(e){super(e,{code:p.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class g extends o{constructor(e){super(e,{code:g.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class m extends o{constructor(e,{method:t}={}){super(e,{code:m.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class y extends o{constructor(e){super(e,{code:y.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class b extends o{constructor(e){super(e,{code:b.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class v extends s{constructor(e){super(e,{code:v.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class w extends s{constructor(e){super(e,{code:w.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class E extends s{constructor(e,{method:t}={}){super(e,{code:E.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class C extends s{constructor(e){super(e,{code:C.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class A extends s{constructor(e){super(e,{code:A.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class x extends s{constructor(e){super(e,{code:x.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class I extends s{constructor(e){super(e,{code:I.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class N extends s{constructor(e){super(e,{code:N.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(N,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class S extends s{constructor(e){super(e,{code:S.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class P extends s{constructor(e){super(e,{code:P.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class O extends s{constructor(e){super(e,{code:O.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class _ extends s{constructor(e){super(e,{code:_.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class R extends s{constructor(e){super(e,{code:R.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(R,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class T extends o{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}},86172:function(e,t,r){"use strict";r.d(t,{Bj:function(){return a},Nc:function(){return i},Z8:function(){return o}});var n=r(58950);class i extends n.G{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class o extends n.G{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function s(e){return e.reduce((e,{slot:t,value:r})=>`${e}        ${t}: ${r}
`,"")}function a(e){return e.reduce((e,{address:t,...r})=>{let n=`${e}    ${t}:
`;return r.nonce&&(n+=`      nonce: ${r.nonce}
`),r.balance&&(n+=`      balance: ${r.balance}
`),r.code&&(n+=`      code: ${r.code}
`),r.state&&(n+="      state:\n"+s(r.state)),r.stateDiff&&(n+="      stateDiff:\n"+s(r.stateDiff)),n},"  State Override:\n").slice(0,-1)}},27051:function(e,t,r){"use strict";r.d(t,{JC:function(){return c},j3:function(){return a},vl:function(){return s},xY:function(){return o},xr:function(){return i}}),r(79692),r(35551);var n=r(58950);function i(e){let t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),r=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`).join("\n")}class o extends n.G{constructor(){super("Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.\nUse `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others.",{name:"FeeConflictError"})}}class s extends n.G{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class a extends n.G{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",i(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class c extends n.G{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}},72842:function(e,t,r){"use strict";r.d(t,{C:function(){return n},G:function(){return i}});let n=e=>e,i=e=>e},41679:function(e,t,r){"use strict";let n;r.d(t,{tvc:function(){return e8},bMU:function(){return e6.b},dJM:function(){return e9},NCw:function(){return s.NC}}),r(9533),r(22410);var i,o=r(58950);r(16907),r(27934),r(65865),r(10201),r(26439),r(16735);var s=r(88048);r(31728),r(84262),r(98690);var a=r(39730),c=r(88186);r(53662),r(53277),r(52390),r(54566),r(61707),r(91239),r(79692),r(35551),r(27051);var l=r(42106);async function u(e){return new Promise(t=>setTimeout(t,e))}r(26794),r(47882),r(73102),r(79661),r(58932),r(16872),r(28354),r(89213),r(34842),r(11404),r(88009),r(11253),r(18761),r(47218),r(40932),r(2401),r(16626);var d=r(67199);r(69590),r(55807);var f=r(30596);new f.k(128),r(31865),r(35162),r(90653),r(5105),(0,s.eC)(0,{size:32});let h=256;r(34403),r(71943),r(81141),r(94293),r(26226),r(40893),r(32284),r(39150),r(6840),r(27532),r(85628),r(99709),r(92959),r(2522),r(89026);let p=new f.k(8192);r(21743),r(32883),r(87728),r(22872),r(93511),r(19097),r(56421),r(75325),r(17373),r(6628),r(36705),r(40395),r(25020);let g={current:0,take(){return this.current++},reset(){this.current=0}};var m=r(75198);class y extends Error{constructor(e,t={}){let r=t.cause instanceof y?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof y&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: https://abitype.dev${n}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.1.1"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.shortMessage=e}}function b(e,t){let r=e.exec(t);return r?.groups}let v=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,w=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,E=/^\(.+?\).*?$/,C=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/,A=new Set(["memory","indexed","storage","calldata"]),x=new Set(["calldata","memory","storage"]);class I extends y{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class N extends y{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class S extends y{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class P extends y{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class O extends y{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class _ extends y{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class R extends y{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class T extends y{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class k extends y{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class B extends y{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class U extends y{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class M extends y{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}let L=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),D=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,j=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,F=/^u?int$/;function q(e,t){var r,n;let i;let o=function(e,t,r){let n="";if(r)for(let e of Object.entries(r)){if(!e)continue;let t="";for(let r of e[1])t+=`[${r.type}${r.name?`:${r.name}`:""}]`;n+=`(${e[0]}{${t}})`}return t?`${t}:${e}${n}`:e}(e,t?.type,t?.structs);if(L.has(o))return L.get(o);let s=E.test(e),a=b(s?j:D,e);if(!a)throw new P({param:e});if(a.name&&("address"===(r=a.name)||"bool"===r||"function"===r||"string"===r||"tuple"===r||v.test(r)||w.test(r)||H.test(r)))throw new O({param:e,name:a.name});let c=a.name?{name:a.name}:{},l="indexed"===a.modifier?{indexed:!0}:{},u=t?.structs??{},d={};if(s){i="tuple";let e=z(a.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(q(e[n],{structs:u}));d={components:t}}else if(a.type in u)i="tuple",d={components:u[a.type]};else if(F.test(a.type))i=`${a.type}256`;else if("address payable"===a.type)i="address";else if(i=a.type,t?.type!=="struct"&&!$(i))throw new N({type:i});if(a.modifier){if(!t?.modifiers?.has?.(a.modifier))throw new _({param:e,type:t?.type,modifier:a.modifier});if(x.has(a.modifier)&&(n=i,!a.array&&"bytes"!==n&&"string"!==n&&"tuple"!==n))throw new R({param:e,type:t?.type,modifier:a.modifier})}let f={type:`${i}${a.array??""}`,...c,...l,...d};return L.set(o,f),f}function z(e,t=[],r="",n=0){let i=e.trim().length;for(let o=0;o<i;o++){let i=e[o],s=e.slice(o+1);switch(i){case",":return 0===n?z(s,[...t,r.trim()]):z(s,t,`${r}${i}`,n);case"(":return z(s,t,`${r}${i}`,n+1);case")":return z(s,t,`${r}${i}`,n-1);default:return z(s,t,`${r}${i}`,n)}}if(""===r)return t;if(0!==n)throw new M({current:r,depth:n});return t.push(r.trim()),t}function $(e){return"address"===e||"bool"===e||"function"===e||"string"===e||v.test(e)||w.test(e)}let H=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/,G=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;var W=r(89120);class V extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let K={checksum:new V(8192)}.checksum;var Z=r(68794),Y=r(76087);r(12426);var J=r(36029);r(59688);let X=/^0x[a-fA-F0-9]{40}$/;class Q extends Z.G{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class ee extends Z.G{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class et extends Z.G{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}let er=/^(.*)\[([0-9]*)\]$/,en=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ei=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function eo(e,t){if(e.length!==t.length)throw new ea({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let i=e[n],o=t[n];r.push(eo.encode(i,o))}return J.zo(...r)}new Uint8Array,new DataView(new ArrayBuffer(0)),Z.G,Z.G,Z.G,(eo||(eo={})).encode=function e(t,r,n=!1){if("address"===t)return function e(t,r={}){let{strict:n=!0}=r;if(!X.test(t))throw new Q({address:t,cause:new ee});if(n){if(t.toLowerCase()===t)return;if(function(t){if(K.has(t))return K.get(t);e(t,{strict:!1});let r=t.substring(2).toLowerCase(),n=function(e,t={}){let{as:r="string"==typeof e?"Hex":"Bytes"}=t,n=(0,Y.fr)(W.Dp(e));return"Bytes"===r?n:J.xv(n)}(W.mL(r),{as:"Bytes"}),i=r.split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&i[e]&&(i[e]=i[e].toUpperCase()),(15&n[e>>1])>=8&&i[e+1]&&(i[e+1]=i[e+1].toUpperCase());let o=`0x${i.join("")}`;return K.set(t,o),o}(t)!==t)throw new Q({address:t,cause:new et})}}(r),J.Q_(r.toLowerCase(),n?32:0);if("string"===t)return J.mL(r);if("bytes"===t)return r;if("bool"===t)return J.Q_(J.O3(r),n?32:1);let i=t.match(ei);if(i){let[e,t,o="256"]=i,s=Number.parseInt(o,10)/8;return J.xS(r,{size:n?32:s,signed:"int"===t})}let o=t.match(en);if(o){let[e,t]=o;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new es({expectedSize:Number.parseInt(t,10),value:r});return J.eh(r,n?32:0)}let s=t.match(er);if(s&&Array.isArray(r)){let[t,n]=s,i=[];for(let t=0;t<r.length;t++)i.push(e(n,r[t],!0));return 0===i.length?"0x":J.zo(...i)}throw new ec(t)};class es extends Z.G{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${J.dp(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class ea extends Z.G{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class ec extends Z.G{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}var el=r(95423),eu=r(88835),ed=r(35979),ef=r(34097);let eh=BigInt(0),ep=BigInt(1),eg=BigInt(2),em=BigInt(3),ey=BigInt(4),eb=BigInt(5),ev=BigInt(8);function ew(e,t){let r=e%t;return r>=eh?r:t+r}function eE(e,t,r){let n=e;for(;t-- >eh;)n*=n,n%=r;return n}function eC(e,t){if(e===eh)throw Error("invert: expected non-zero number");if(t<=eh)throw Error("invert: expected positive modulus, got "+t);let r=ew(e,t),n=t,i=eh,o=ep,s=ep,a=eh;for(;r!==eh;){let e=n/r,t=n%r,c=i-s*e,l=o-a*e;n=r,r=t,i=s,o=a,s=c,a=l}if(n!==ep)throw Error("invert: does not exist");return ew(i,t)}function eA(e,t){let r=(e.ORDER+ep)/ey,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function ex(e,t){let r=(e.ORDER-eb)/ev,n=e.mul(t,eg),i=e.pow(n,r),o=e.mul(t,i),s=e.mul(e.mul(o,eg),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw Error("Cannot find square root");return a}let eI=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eN(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function eS(e,t){let r=(e.ORDER-ep)/eg,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!s)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function eP(e,t){void 0!==t&&(0,eu.k8)(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function eO(e,t,r=!1,n={}){let i;if(e<=eh)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=eP(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:s,MASK:(0,ef.dQ)(o),ZERO:eh,ONE:ep,create:t=>ew(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return eh<=t&&t<e},is0:e=>e===eh,isOdd:e=>(e&ep)===ep,neg:t=>ew(-t,e),eql:(e,t)=>e===t,sqr:t=>ew(t*t,e),add:(t,r)=>ew(t+r,e),sub:(t,r)=>ew(t-r,e),mul:(t,r)=>ew(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<eh)throw Error("invalid exponent, negatives unsupported");if(r===eh)return e.ONE;if(r===ep)return t;let n=e.ONE,i=t;for(;r>eh;)r&ep&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ep;return n})(a,e,t),div:(t,r)=>ew(t*eC(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>eC(t,e),sqrt:n.sqrt||(t=>(!i&&(i=e%ey===em?eA:e%ev===eb?ex:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-ep,r=0;for(;t%eg===eh;)t/=eg,r++;let n=eg,i=eO(e);for(;1===eS(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return eA;let o=i.pow(n,t),s=(t+ep)/eg;return function(e,n){if(e.is0(n))return n;if(1!==eS(e,n))throw Error("Cannot find square root");let i=r,a=e.mul(e.ONE,o),c=e.pow(n,t),l=e.pow(n,s);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=ep<<BigInt(i-t-1),o=e.pow(a,n);i=t,a=e.sqr(o),c=e.mul(c,a),l=e.mul(l,o)}return l}}(e)),i(a,t))),toBytes:e=>r?(0,ef.S5)(e,s):(0,ef.tL)(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?(0,ef.ty)(e):(0,ef.Hv)(e)},invertBatch:e=>eN(a,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(a)}function e_(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function eR(e){let t=e_(e);return t+Math.ceil(t/2)}let eT=BigInt(0),ek=BigInt(1);function eB(e,t){let r=t.negate();return e?r:t}function eU(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function eM(e,t){eU(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:(0,ef.dQ)(e),maxNumber:i,shiftBy:BigInt(e)}}function eL(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r,a=Number(e&i),c=e>>s;a>n&&(a-=o,c+=ek);let l=t*n,u=l+Math.abs(a)-1;return{nextN:c,offset:u,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}let eD=new WeakMap,ej=new WeakMap;function eF(e){return ej.get(e)||1}function eq(e){return!function(e){let t=eI.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});(0,ef.FF)(e,t)}(e.Fp),(0,ef.FF)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...eP(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function ez(e){void 0!==e.lowS&&(0,ef.uw)("lowS",e.lowS),void 0!==e.prehash&&(0,ef.uw)("prehash",e.prehash)}class e$ extends Error{constructor(e=""){super(e)}}let eH={Err:e$,_tlv:{encode:(e,t)=>{let{Err:r}=eH;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=(0,ef.uz)(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?(0,ef.uz)(i.length/2|128):"";return(0,ef.uz)(e)+o+i+t},decode(e,t){let{Err:r}=eH,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let s=t.subarray(n,n+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=eH;if(e<eW)throw new t("integer: negative integers are not allowed");let r=(0,ef.uz)(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=eH;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return(0,ef.Hv)(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=eH,i=(0,ef.ql)("signature",e),{v:o,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=eH,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}};function eG(e,t){return(0,ef.ci)((0,ef.tL)(e,t))}let eW=BigInt(0),eV=BigInt(1),eK=(BigInt(2),BigInt(3)),eZ=BigInt(4),eY=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eJ=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eX=BigInt(0),eQ=BigInt(1),e0=BigInt(2),e1=(e,t)=>(e+t/e0)/t,e2=eO(eY,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),c=e*e*e%eY,l=c*c*e%eY,u=eE(l,t,eY)*l%eY,d=eE(u,t,eY)*l%eY,f=eE(d,e0,eY)*c%eY,h=eE(f,n,eY)*f%eY,p=eE(h,i,eY)*h%eY,g=eE(p,s,eY)*p%eY,m=eE(g,a,eY)*g%eY,y=eE(m,s,eY)*p%eY,b=eE(y,t,eY)*l%eY,v=eE(b,o,eY)*h%eY,w=eE(v,r,eY)*c%eY,E=eE(w,e0,eY);if(!e2.eql(e2.sqr(E),e))throw Error("Cannot find square root");return E}});(function(e,t){let r=t=>(function(e){let t=function(e){let t=eq(e);return(0,ef.FF)(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:i,nBitLength:o}=t,s=r.BYTES+1,a=2*r.BYTES+1;function c(e){return ew(e,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=function(e){var t;let r=function(e){let t=eq(e);(0,ef.FF)(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=r,i=eO(r.n,r.nBitLength),o=r.toBytes||((e,t,r)=>{let i=t.toAffine();return(0,ef.eV)(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),s=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function a(e){let{a:t,b:i}=r,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,t)),i)}function c(e,t){let r=n.sqr(t),i=a(e);return n.eql(r,i)}if(!c(r.Gx,r.Gy))throw Error("bad curve params: generator point");let l=n.mul(n.pow(r.a,eK),eZ),u=n.mul(n.sqr(r.b),BigInt(27));if(n.is0(n.add(l,u)))throw Error("bad curve params: a or b");function d(e){let t;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:s}=r;if(n&&"bigint"!=typeof e){if((0,ef._t)(e)&&(e=(0,ef.ci)(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:(0,ef.Hv)((0,ef.ql)("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(t=ew(t,s)),(0,ef.Fy)("private key",t,eV,s),t}function f(e){if(!(e instanceof g))throw Error("ProjectivePoint expected")}let h=(0,ef.H9)((e,t)=>{let{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};let s=e.is0();null==t&&(t=s?n.ONE:n.inv(o));let a=n.mul(r,t),c=n.mul(i,t),l=n.mul(o,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw Error("invZ was invalid");return{x:a,y:c}}),p=(0,ef.H9)(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");if(!c(t,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class g{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof g)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?g.ZERO:new g(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=eN(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(g.fromAffine)}static fromHex(e){let t=g.fromAffine(s((0,ef.ql)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return g.BASE.multiply(d(e))}static msm(e,t){return function(e,t,r,n){!function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,o=n.length;if(i!==o)throw Error("arrays of points and scalars must have equal length");let s=e.ZERO,a=(0,ef.Dd)(BigInt(i)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=(0,ef.dQ)(c),u=Array(Number(l)+1).fill(s),d=Math.floor((t.BITS-1)/c)*c,f=s;for(let e=d;e>=0;e-=c){u.fill(s);for(let t=0;t<o;t++){let i=Number(n[t]>>BigInt(e)&l);u[i]=u[i].add(r[t])}let t=s;for(let e=u.length-1,r=s;e>0;e--)r=r.add(u[e]),t=t.add(r);if(f=f.add(t),0!==e)for(let e=0;e<c;e++)f=f.double()}return f}(g,i,e,t)}_setWindowSize(e){b.setWindowSize(this,e)}assertValidity(){p(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){f(e);let{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(o,i)),l=n.eql(n.mul(r,a),n.mul(s,i));return c&&l}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,eK),{px:o,py:s,pz:a}=this,c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(o,o),f=n.mul(s,s),h=n.mul(a,a),p=n.mul(o,s);return p=n.add(p,p),u=n.mul(o,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,h),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(p,c),u=n.mul(i,u),h=n.mul(e,h),p=n.sub(d,h),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,h),d=n.mul(d,p),l=n.add(l,d),h=n.mul(s,a),h=n.add(h,h),d=n.mul(h,p),c=n.sub(c,d),u=n.mul(h,f),u=n.add(u,u),new g(c,l,u=n.add(u,u))}add(e){f(e);let{px:t,py:i,pz:o}=this,{px:s,py:a,pz:c}=e,l=n.ZERO,u=n.ZERO,d=n.ZERO,h=r.a,p=n.mul(r.b,eK),m=n.mul(t,s),y=n.mul(i,a),b=n.mul(o,c),v=n.add(t,i),w=n.add(s,a);v=n.mul(v,w),w=n.add(m,y),v=n.sub(v,w),w=n.add(t,o);let E=n.add(s,c);return w=n.mul(w,E),E=n.add(m,b),w=n.sub(w,E),E=n.add(i,o),l=n.add(a,c),E=n.mul(E,l),l=n.add(y,b),E=n.sub(E,l),d=n.mul(h,w),l=n.mul(p,b),d=n.add(l,d),l=n.sub(y,d),d=n.add(y,d),u=n.mul(l,d),y=n.add(m,m),y=n.add(y,m),b=n.mul(h,b),w=n.mul(p,w),y=n.add(y,b),b=n.sub(m,b),b=n.mul(h,b),w=n.add(w,b),m=n.mul(y,w),u=n.add(u,m),m=n.mul(E,w),l=n.mul(v,l),l=n.sub(l,m),m=n.mul(v,y),d=n.mul(E,d),new g(l,u,d=n.add(d,m))}subtract(e){return this.add(e.negate())}is0(){return this.equals(g.ZERO)}wNAF(e){return b.wNAFCached(this,e,g.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;(0,ef.Fy)("scalar",e,eW,i);let o=g.ZERO;if(e===eW)return o;if(this.is0()||e===eV)return this;if(!t||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,e,g.normalizeZ);let{k1neg:s,k1:a,k2neg:c,k2:l}=t.splitScalar(e),u=o,d=o,f=this;for(;a>eW||l>eW;)a&eV&&(u=u.add(f)),l&eV&&(d=d.add(f)),f=f.double(),a>>=eV,l>>=eV;return s&&(u=u.negate()),c&&(d=d.negate()),d=new g(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i;let{endo:o,n:s}=r;if((0,ef.Fy)("scalar",e,eV,s),o){let{k1neg:r,k1:s,k2neg:a,k2:c}=o.splitScalar(e),{p:l,f:u}=this.wNAF(s),{p:d,f:f}=this.wNAF(c);l=b.constTimeNegate(r,l),d=b.constTimeNegate(a,d),d=new g(n.mul(d.px,o.beta),d.py,d.pz),t=l.add(d),i=u.add(f)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return g.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=g.BASE,i=(e,t)=>t!==eW&&t!==eV&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return h(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===eV)return!0;if(t)return t(g,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===eV?this:t?t(g,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return(0,ef.uw)("isCompressed",e),this.assertValidity(),o(g,this,e)}toHex(e=!0){return(0,ef.uw)("isCompressed",e),(0,ef.ci)(this.toRawBytes(e))}}g.BASE=new g(r.Gx,r.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);let{endo:m,nBitLength:y}=r,b=(t=m?Math.ceil(y/2):y,{constTimeNegate:eB,hasPrecomputes:e=>1!==eF(e),unsafeLadder(e,t,r=g.ZERO){let n=e;for(;t>eT;)t&ek&&(r=r.add(n)),n=n.double(),t>>=ek;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=eM(r,t),o=[],s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,r,n){let i=g.ZERO,o=g.BASE,s=eM(e,t);for(let e=0;e<s.windows;e++){let{nextN:t,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:d}=eL(n,e,s);n=t,c?o=o.add(eB(u,r[d])):i=i.add(eB(l,r[a]))}return{p:i,f:o}},wNAFUnsafe(e,r,n,i=g.ZERO){let o=eM(e,t);for(let e=0;e<o.windows&&n!==eT;e++){let{nextN:t,offset:s,isZero:a,isNeg:c}=eL(n,e,o);if(n=t,!a){let e=r[s];i=i.add(c?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=eD.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&eD.set(t,r(n))),n},wNAFCached(e,t,r){let n=eF(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=eF(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){eU(r,t),ej.set(e,r),eD.delete(e)}});return{CURVE:r,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:a,isWithinCurveOrder:function(e){return(0,ef.Z2)(e,eV,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),o=r.toBytes(i.x),s=ef.eV;return((0,ef.uw)("isCompressed",n),n)?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],i=e.subarray(1);if(t===s&&(2===n||3===n)){let e;let t=(0,ef.Hv)(i);if(!(0,ef.Z2)(t,eV,r.ORDER))throw Error("Point is not on curve");let o=d(t);try{e=r.sqrt(o)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&eV)===eV)&&(e=r.neg(e)),{x:t,y:e}}if(t===a&&4===n)return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+s+", or uncompressed "+a+", got "+t)}}),h=(e,t,r)=>(0,ef.Hv)(e.slice(t,r));class p{constructor(e,t,r){(0,ef.Fy)("r",e,eV,n),(0,ef.Fy)("s",t,eV,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){return new p(h(e=(0,ef.ql)("compactSignature",e,2*i),0,i),h(e,i,2*i))}static fromDER(e){let{r:t,s:r}=eH.toSig((0,ef.ql)("DER",e));return new p(t,r)}assertValidity(){}addRecoveryBit(e){return new p(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:o,recovery:s}=this,a=y((0,ef.ql)("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");let u=2===s||3===s?i+t.n:i;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let d=(1&s)==0?"02":"03",f=l.fromHex(d+eG(u,r.BYTES)),h=eC(u,n),p=c(-a*h),g=c(o*h),m=l.BASE.multiplyAndAddUnsafe(f,p,g);if(!m)throw Error("point at infinify");return m.assertValidity(),m}hasHighS(){return this.s>n>>eV}normalizeS(){return this.hasHighS()?new p(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return(0,ef.nr)(this.toDERHex())}toDERHex(){return eH.hexFromSig(this)}toCompactRawBytes(){return(0,ef.nr)(this.toCompactHex())}toCompactHex(){return eG(this.r,i)+eG(this.s,i)}}function g(e){if("bigint"==typeof e)return!1;if(e instanceof l)return!0;let n=(0,ef.ql)("key",e).length,o=r.BYTES,s=o+1;if(!t.allowedPrivateKeyLengths&&i!==s)return n===s||n===2*o+1}let m=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=(0,ef.Hv)(e),r=8*e.length-o;return r>0?t>>BigInt(r):t},y=t.bits2int_modN||function(e){return c(m(e))},b=(0,ef.dQ)(o);function v(e){return(0,ef.Fy)("num < 2^"+o,e,eW,b),(0,ef.tL)(e,i)}let w={lowS:t.lowS,prehash:!1},E={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===g(e))throw Error("first arg must be private key");if(!1===g(t))throw Error("second arg must be public key");return l.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,i,o=w){let{seed:s,k2sig:a}=function(e,i,o=w){if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:s,randomBytes:a}=t,{lowS:d,prehash:h,extraEntropy:g}=o;null==d&&(d=!0),e=(0,ef.ql)("msgHash",e),ez(o),h&&(e=(0,ef.ql)("prehashed msgHash",s(e)));let b=y(e),E=u(i),C=[v(E),v(b)];if(null!=g&&!1!==g){let e=!0===g?a(r.BYTES):g;C.push((0,ef.ql)("extraEntropy",e))}return{seed:(0,ef.eV)(...C),k2sig:function(e){let t=m(e);if(!f(t))return;let r=eC(t,n),i=l.BASE.multiply(t).toAffine(),o=c(i.x);if(o===eW)return;let s=c(r*c(b+o*E));if(s===eW)return;let a=(i.x===o?0:2)|Number(i.y&eV),u=s;return d&&s>n>>eV&&(u=s>n>>eV?c(-s):s,a^=1),new p(o,u,a)}}}(e,i,o);return(0,ef.n$)(t.hash.outputLen,t.nByteLength,t.hmac)(s,a)},verify:function(e,r,i,o=E){let s,a;r=(0,ef.ql)("msgHash",r),i=(0,ef.ql)("publicKey",i);let{lowS:u,prehash:d,format:f}=o;if(ez(o),"strict"in o)throw Error("options.strict was renamed to lowS");if(void 0!==f&&"compact"!==f&&"der"!==f)throw Error("format must be compact or der");let h="string"==typeof e||(0,ef._t)(e),g=!h&&!f&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!h&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(a=new p(e.r,e.s)),h){try{"compact"!==f&&(a=p.fromDER(e))}catch(e){if(!(e instanceof eH.Err))throw e}a||"der"===f||(a=p.fromCompact(e))}s=l.fromHex(i)}catch(e){return!1}if(!a||u&&a.hasHighS())return!1;d&&(r=t.hash(r));let{r:m,s:b}=a,v=y(r),w=eC(b,n),C=c(v*w),A=c(m*w),x=l.BASE.multiplyAndAddUnsafe(s,C,A)?.toAffine();return!!x&&c(x.x)===m},ProjectivePoint:l,Signature:p,utils:{isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let e=eR(t.n);return function(e,t,r=!1){let n=e.length,i=e_(t),o=eR(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let s=ew(r?(0,ef.ty)(e):(0,ef.Hv)(e),t-ep)+ep;return r?(0,ef.S5)(s,i):(0,ef.tL)(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=l.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>(0,ed.b)(t,e,(0,eu.eV)(...r)),randomBytes:eu.O6});({...r(t),create:r})})({a:eX,b:BigInt(7),Fp:e2,n:eJ,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-eQ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=e1(t*e,eJ),s=e1(-r*e,eJ),a=ew(e-o*t-s*n,eJ),c=ew(-o*r-s*t,eJ),l=a>i,u=c>i;if(l&&(a=eJ-a),u&&(c=eJ-c),a>i||c>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:a,k2neg:u,k2:c}}}},el.JQ),(Array.isArray(i="(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data")&&"string"==typeof i[0]||"string"==typeof i)&&function(e){let t=[];if("string"==typeof e){let r=z(e),n=r.length;for(let e=0;e<n;e++)t.push(q(r[e],{modifiers:A}))}else{let r=function(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!C.test(r))continue;let i=b(C,r);if(!i)throw new k({signature:r,type:"struct"});let o=i.properties.split(";"),s=[],a=o.length;for(let e=0;e<a;e++){let t=o[e].trim();if(!t)continue;let r=q(t,{type:"struct"});s.push(r)}if(!s.length)throw new B({signature:r});t[i.name]=s}let n={},i=Object.entries(t),o=i.length;for(let e=0;e<o;e++){let[r,o]=i[e];n[r]=function e(t,r,n=new Set){let i=[],o=t.length;for(let s=0;s<o;s++){let o=t[s];if(E.test(o.type))i.push(o);else{let t=b(G,o.type);if(!t?.type)throw new T({abiParameter:o});let{array:s,type:a}=t;if(a in r){if(n.has(a))throw new U({type:a});i.push({...o,type:`tuple${s??""}`,components:e(r[a]??[],r,new Set([...n,a]))})}else if($(a))i.push(o);else throw new I({type:a})}}return i}(o,t)}return n}(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if(C.test(n))continue;let o=z(n),s=o.length;for(let e=0;e<s;e++)t.push(q(o[e],{modifiers:A,structs:r}))}}if(0===t.length)throw new S({params:e})}(i),r(49461),r(387),r(86794);var e6=r(41007);function e5({key:e,methods:t,name:r,request:i,retryCount:l=3,retryDelay:f=150,timeout:g,type:m},y){return{config:{key:e,methods:t,name:r,request:i,retryCount:l,retryDelay:f,timeout:g,type:m},request:function(e,t={}){return async(r,n={})=>{let{dedupe:i=!1,methods:l,retryDelay:f=150,retryCount:h=3,uid:g}={...t,...n},{method:m}=r;if(l?.exclude?.includes(m)||l?.include&&!l.include.includes(m))throw new c.gS(Error("method not supported"),{method:m});let y=i?(0,s.$G)(`${g}.${(0,d.P)(r)}`):void 0;return function(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(p.get(r))return p.get(r);let n=e().finally(()=>p.delete(r));return p.set(r,n),n}(()=>(function(e,{delay:t=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,o)=>{let s=async({count:a=0}={})=>{let c=async({error:e})=>{let r="function"==typeof t?t({count:a,error:e}):t;r&&await u(r),s({count:a+1})};try{let t=await e();i(t)}catch(e){if(a<r&&await n({count:a,error:e}))return c({error:e});o(e)}};s()})})(async()=>{try{return await e(r)}catch(e){switch(e.code){case c.s7.code:throw new c.s7(e);case c.B.code:throw new c.B(e);case c.LX.code:throw new c.LX(e,{method:r.method});case c.nY.code:throw new c.nY(e);case c.XS.code:throw new c.XS(e);case c.yR.code:throw new c.yR(e);case c.Og.code:throw new c.Og(e);case c.pT.code:throw new c.pT(e);case c.KB.code:throw new c.KB(e);case c.gS.code:throw new c.gS(e,{method:r.method});case c.Pv.code:throw new c.Pv(e);case c.GD.code:throw new c.GD(e);case c.ab.code:throw new c.ab(e);case c.PE.code:throw new c.PE(e);case c.Ts.code:throw new c.Ts(e);case c.u5.code:throw new c.u5(e);case c.I0.code:throw new c.I0(e);case c.x3.code:throw new c.x3(e);case c.vl.code:throw new c.vl(e);case c.Uu.code:throw new c.Uu(e);case c.Nt.code:throw new c.Nt(e);case c.EJ.code:throw new c.EJ(e);case c.fl.code:throw new c.fl(e);case c.NO.code:throw new c.NO(e);case c.r0.code:throw new c.r0(e);case 5e3:throw new c.ab(e);default:if(e instanceof o.G)throw e;throw new c.ir(e)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof a.Gg){let e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e,10)}return~~(1<<e)*f},retryCount:h,shouldRetry:({error:e})=>"code"in e&&"number"==typeof e.code?-1===e.code||e.code===c.Pv.code||e.code===c.XS.code:!(e instanceof a.Gg)||!e.status||403===e.status||408===e.status||413===e.status||429===e.status||500===e.status||502===e.status||503===e.status||504===e.status}),{enabled:i,id:y})}}(i,{methods:t,retryCount:l,retryDelay:f,uid:function(e=11){if(!n||h+e>512){n="",h=0;for(let e=0;e<256;e++)n+=(256+256*Math.random()|0).toString(16).substring(1)}return n.substring(h,h+++e)}()}),value:y}}function e8(e,t={}){let{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:o=e3,retryCount:s,retryDelay:a}=t;return({chain:t,pollingInterval:c=4e3,timeout:l,...d})=>{let f=e,h=()=>{},p=e5({key:r,name:n,async request({method:e,params:r}){let n;let i=async(s=0)=>{let a=f[s]({...d,chain:t,retryCount:0,timeout:l});try{let t=await a.request({method:e,params:r});return h({method:e,params:r,response:t,transport:a,status:"success"}),t}catch(c){if(h({error:c,method:e,params:r,transport:a,status:"error"}),o(c)||s===f.length-1||!(n??=f.slice(s+1).some(r=>{let{include:n,exclude:i}=r({chain:t}).config.methods||{};return n?n.includes(e):!i||!i.includes(e)})))throw c;return i(s+1)}};return i()},retryCount:s,retryDelay:a,type:"fallback"},{onResponse:e=>h=e,transports:f.map(e=>e({chain:t,retryCount:0}))});if(i){let e="object"==typeof i?i:{};!function({chain:e,interval:t=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:o=1e3,transports:s,weights:a={}}){let{stability:c=.7,latency:l=.3}=a,d=[],f=async()=>{let a=await Promise.all(s.map(async t=>{let r,i;let s=t({chain:e,retryCount:0,timeout:o}),a=Date.now();try{await (n?n({transport:s}):s.request({method:"net_listening"})),i=1}catch{i=0}finally{r=Date.now()}return{latency:r-a,success:i}}));d.push(a),d.length>i&&d.shift();let h=Math.max(...d.map(e=>Math.max(...e.map(({latency:e})=>e))));r(s.map((e,t)=>{let r=d.map(e=>e[t].latency),n=r.reduce((e,t)=>e+t,0)/r.length,i=d.map(e=>e[t].success),o=i.reduce((e,t)=>e+t,0)/i.length;return 0===o?[0,t]:[l*(1-n/h)+c*o,t]}).sort((e,t)=>t[0]-e[0]).map(([,e])=>s[e])),await u(t),f()};f()}({chain:t,interval:e.interval??c,onTransports:e=>f=e,ping:e.ping,sampleCount:e.sampleCount,timeout:e.timeout,transports:f,weights:e.weights})}return p}}function e3(e){return!!("code"in e&&"number"==typeof e.code&&(e.code===c.KB.code||e.code===c.ab.code||l.M_.nodeMessage.test(e.message)||5e3===e.code))}r(51190),r(80895),r(58448),r(65113);class e4 extends o.G{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function e9(e,t={}){let{batch:r,fetchFn:n,fetchOptions:i,key:o="http",methods:s,name:c="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:u,retryDelay:f,raw:h}=t;return({chain:p,retryCount:y,timeout:b})=>{let{batchSize:v=1e3,wait:w=0}="object"==typeof r?r:{},E=t.retryCount??y,C=b??t.timeout??1e4,A=e||p?.rpcUrls.default.http[0];if(!A)throw new e4;let x=function(e,t={}){return{async request(r){let{body:n,fetchFn:i=t.fetchFn??fetch,onRequest:o=t.onRequest,onResponse:s=t.onResponse,timeout:c=t.timeout??1e4}=r,l={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:f,signal:h}=l;try{let t;let r=await function(e,{errorInstance:t=Error("timed out"),timeout:r,signal:n}){return new Promise((i,o)=>{(async()=>{let s;try{let a=new AbortController;r>0&&(s=setTimeout(()=>{n?a.abort():o(t)},r)),i(await e({signal:a?.signal||null}))}catch(e){e?.name==="AbortError"&&o(t),o(e)}finally{clearTimeout(s)}})()})}(async({signal:t})=>{let r={...l,body:Array.isArray(n)?(0,d.P)(n.map(e=>({jsonrpc:"2.0",id:e.id??g.take(),...e}))):(0,d.P)({jsonrpc:"2.0",id:n.id??g.take(),...n}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:h||(c>0?t:null)},s=new Request(e,r),a=await o?.(s,r)??{...r,url:e};return await i(a.url??e,a)},{errorInstance:new a.W5({body:n,url:e}),timeout:c,signal:!0});if(s&&await s(r),r.headers.get("Content-Type")?.startsWith("application/json"))t=await r.json();else{t=await r.text();try{t=JSON.parse(t||"{}")}catch(e){if(r.ok)throw e;t={error:t}}}if(!r.ok)throw new a.Gg({body:n,details:(0,d.P)(t.error)||r.statusText,headers:r.headers,status:r.status,url:e});return t}catch(t){if(t instanceof a.Gg||t instanceof a.W5)throw t;throw new a.Gg({body:n,cause:t,url:e})}}}}(A,{fetchFn:n,fetchOptions:i,onRequest:l,onResponse:u,timeout:C});return e5({key:o,methods:s,name:c,async request({method:e,params:t}){let n={method:e,params:t},{schedule:i}=(0,m.S)({id:A,wait:w,shouldSplitBatch:e=>e.length>v,fn:e=>x.request({body:e}),sort:(e,t)=>e.id-t.id}),o=async e=>r?i(e):[await x.request({body:e})],[{error:s,result:c}]=await o(n);if(h)return{error:s,result:c};if(s)throw new a.bs({body:n,error:s,url:A});return c},retryCount:E,retryDelay:f,timeout:C,type:"http"},{fetchOptions:i,url:A})}}r(33235),r(72270),r(86943),r(86172),r(46158),r(80434),r(28185)},47218:function(e,t,r){"use strict";r.d(t,{r:function(){return h}});var n=r(22410),i=r(53662),o=r(19097),s=r(52390),a=r(35162),c=r(90653),l=r(22872),u=r(16907),d=r(88048),f=r(10201);function h(e,t){let r="string"==typeof t?(0,u.nr)(t):t,h=(0,o.q)(r);if(0===(0,s.d)(r)&&e.length>0)throw new n.wb;if((0,s.d)(t)&&32>(0,s.d)(t))throw new n.xB({data:"string"==typeof t?t:(0,d.ci)(t),params:e,size:(0,s.d)(t)});let g=0,m=[];for(let t=0;t<e.length;++t){let r=e[t];h.setPosition(g);let[o,s]=function e(t,r,{staticPosition:o}){let s=(0,f.S)(r.type);if(s){let[n,i]=s;return function(t,r,{length:n,staticPosition:i}){if(!n){let n=i+(0,l.tm)(t.readBytes(32)),o=n+32;t.setPosition(n);let s=(0,l.tm)(t.readBytes(32)),a=p(r),c=0,u=[];for(let n=0;n<s;++n){t.setPosition(o+(a?32*n:c));let[i,s]=e(t,r,{staticPosition:o});c+=s,u.push(i)}return t.setPosition(i+32),[u,32]}if(p(r)){let o=i+(0,l.tm)(t.readBytes(32)),s=[];for(let i=0;i<n;++i){t.setPosition(o+32*i);let[n]=e(t,r,{staticPosition:o});s.push(n)}return t.setPosition(i+32),[s,32]}let o=0,s=[];for(let a=0;a<n;++a){let[n,a]=e(t,r,{staticPosition:i+o});o+=a,s.push(n)}return[s,o]}(t,{...r,type:i},{length:n,staticPosition:o})}if("tuple"===r.type)return function(t,r,{staticPosition:n}){let i=0===r.components.length||r.components.some(({name:e})=>!e),o=i?[]:{},s=0;if(p(r)){let a=n+(0,l.tm)(t.readBytes(32));for(let n=0;n<r.components.length;++n){let c=r.components[n];t.setPosition(a+s);let[l,u]=e(t,c,{staticPosition:a});s+=u,o[i?n:c?.name]=l}return t.setPosition(n+32),[o,32]}for(let a=0;a<r.components.length;++a){let c=r.components[a],[l,u]=e(t,c,{staticPosition:n});o[i?a:c?.name]=l,s+=u}return[o,s]}(t,r,{staticPosition:o});if("address"===r.type)return function(e){let t=e.readBytes(32);return[(0,i.x)((0,d.ci)((0,a.T4)(t,-20))),32]}(t);if("bool"===r.type)return[(0,l.Lj)(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[n,i]=t.type.split("bytes");if(!i){let t=(0,l.tm)(e.readBytes(32));e.setPosition(r+t);let n=(0,l.tm)(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];let i=e.readBytes(n);return e.setPosition(r+32),[(0,d.ci)(i),32]}return[(0,d.ci)(e.readBytes(Number.parseInt(i,10),32)),32]}(t,r,{staticPosition:o});if(r.type.startsWith("uint")||r.type.startsWith("int"))return function(e,t){let r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[n>48?(0,l.v3)(i,{signed:r}):(0,l.tm)(i,{signed:r}),32]}(t,r);if("string"===r.type)return function(e,{staticPosition:t}){let r=(0,l.tm)(e.readBytes(32));e.setPosition(t+r);let n=(0,l.tm)(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];let i=e.readBytes(n,32),o=(0,l.d3)((0,c.f)(i));return e.setPosition(t+32),[o,32]}(t,{staticPosition:o});throw new n.CI(r.type,{docsPath:"/docs/contract/decodeAbiParameters"})}(h,r,{staticPosition:0});g+=s,m.push(o)}return m}function p(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(p);let r=(0,f.S)(e.type);return!!(r&&p({...e,type:r[1]}))}},26226:function(e,t,r){"use strict";r.d(t,{p:function(){return l}});var n=r(92800),i=r(22410),o=r(35162),s=r(25020),a=r(47218),c=r(26439);function l(e){let{abi:t,data:r}=e,l=(0,o.tP)(r,0,4);if("0x"===l)throw new i.wb;let u=[...t||[],n.Up,n.hZ].find(e=>"error"===e.type&&l===(0,s.C)((0,c.t)(e)));if(!u)throw new i.yP(l,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:u,args:"inputs"in u&&u.inputs&&u.inputs.length>0?(0,a.r)(u.inputs,(0,o.tP)(r,4)):void 0,errorName:u.name}}},40893:function(e,t,r){"use strict";r.d(t,{p:function(){return c}});var n=r(22410),i=r(35162),o=r(25020),s=r(47218),a=r(26439);function c(e){let{abi:t,data:r}=e,c=(0,i.tP)(r,0,4),l=t.find(e=>"function"===e.type&&c===(0,o.C)((0,a.t)(e)));if(!l)throw new n.eF(c,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:l.name,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,s.r)(l.inputs,(0,i.tP)(r,4)):void 0}}},2401:function(e,t,r){"use strict";r.d(t,{k:function(){return a}});var n=r(22410),i=r(47218),o=r(16735);let s="/docs/contract/decodeFunctionResult";function a(e){let{abi:t,args:r,functionName:a,data:c}=e,l=t[0];if(a){let e=(0,o.mE)({abi:t,args:r,name:a});if(!e)throw new n.xL(a,{docsPath:s});l=e}if("function"!==l.type)throw new n.xL(void 0,{docsPath:s});if(!l.outputs)throw new n.MX(l.name,{docsPath:s});let u=(0,i.r)(l.outputs,c);return u&&u.length>1?u:u&&1===u.length?u[0]:void 0}},10201:function(e,t,r){"use strict";r.d(t,{E:function(){return p},S:function(){return m}});var n=r(22410),i=r(27532),o=r(58950),s=r(93511),a=r(85628),c=r(61707),l=r(99709),u=r(52390),d=r(35162),f=r(88048),h=r(92959);function p(e,t){if(e.length!==t.length)throw new n.fs({expectedLength:e.length,givenLength:t.length});let r=g(function({params:e,values:t}){let r=[];for(let p=0;p<e.length;p++)r.push(function e({param:t,value:r}){let p=m(t.type);if(p){let[i,o]=p;return function(t,{length:r,param:i}){let o=null===r;if(!Array.isArray(t))throw new n.hn(t);if(!o&&t.length!==r)throw new n.gr({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let s=!1,a=[];for(let r=0;r<t.length;r++){let n=e({param:i,value:t[r]});n.dynamic&&(s=!0),a.push(n)}if(o||s){let e=g(a);if(o){let t=(0,f.eC)(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?(0,c.zo)([t,e]):t}}if(s)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,c.zo)(a.map(({encoded:e})=>e))}}(r,{length:i,param:{...t,type:o}})}if("tuple"===t.type)return function(t,{param:r}){let n=!1,i=[];for(let o=0;o<r.components.length;o++){let s=r.components[o],a=Array.isArray(t)?o:s.name,c=e({param:s,value:t[a]});i.push(c),c.dynamic&&(n=!0)}return{dynamic:n,encoded:n?g(i):(0,c.zo)(i.map(({encoded:e})=>e))}}(r,{param:t});if("address"===t.type)return function(e){if(!(0,a.U)(e))throw new i.b({address:e});return{dynamic:!1,encoded:(0,l.gc)(e.toLowerCase())}}(r);if("bool"===t.type)return function(e){if("boolean"!=typeof e)throw new o.G(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,l.gc)((0,f.C4)(e))}}(r);if(t.type.startsWith("uint")||t.type.startsWith("int")){let e=t.type.startsWith("int"),[,,n="256"]=h.lh.exec(t.type)??[];return function(e,{signed:t,size:r=256}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new s.J5({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:(0,f.eC)(e,{size:32,signed:t})}}(r,{signed:e,size:Number(n)})}if(t.type.startsWith("bytes"))return function(e,{param:t}){let[,r]=t.type.split("bytes"),i=(0,u.d)(e);if(!r){let t=e;return i%32!=0&&(t=(0,l.gc)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,c.zo)([(0,l.gc)((0,f.eC)(i,{size:32})),t])}}if(i!==Number.parseInt(r,10))throw new n.M4({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:(0,l.gc)(e,{dir:"right"})}}(r,{param:t});if("string"===t.type)return function(e){let t=(0,f.$G)(e),r=Math.ceil((0,u.d)(t)/32),n=[];for(let e=0;e<r;e++)n.push((0,l.gc)((0,d.tP)(t,32*e,(e+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,c.zo)([(0,l.gc)((0,f.eC)((0,u.d)(t),{size:32})),...n])}}(r);throw new n.dh(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}({param:e[p],value:t[p]}));return r}({params:e,values:t}));return 0===r.length?"0x":r}function g(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=(0,u.d)(i)}let r=[],n=[],i=0;for(let o=0;o<e.length;o++){let{dynamic:s,encoded:a}=e[o];s?(r.push((0,f.eC)(t+i,{size:32})),n.push(a),i+=(0,u.d)(a)):r.push(a)}return(0,c.zo)([...r,...n])}function m(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},32284:function(e,t,r){"use strict";r.d(t,{w:function(){return a}});var n=r(22410),i=r(61707),o=r(10201);let s="/docs/contract/encodeDeployData";function a(e){let{abi:t,args:r,bytecode:a}=e;if(!r||0===r.length)return a;let c=t.find(e=>"type"in e&&"constructor"===e.type);if(!c)throw new n.fM({docsPath:s});if(!("inputs"in c)||!c.inputs||0===c.inputs.length)throw new n.cO({docsPath:s});let l=(0,o.E)(c.inputs,r);return(0,i.SM)([a,l])}},39150:function(e,t,r){"use strict";r.d(t,{M:function(){return u}});var n=r(22410),i=r(61707),o=r(25020),s=r(10201),a=r(26439),c=r(16735);let l="/docs/contract/encodeErrorResult";function u(e){let{abi:t,errorName:r,args:u}=e,d=t[0];if(r){let e=(0,c.mE)({abi:t,args:u,name:r});if(!e)throw new n.MS(r,{docsPath:l});d=e}if("error"!==d.type)throw new n.MS(void 0,{docsPath:l});let f=(0,a.t)(d),h=(0,o.C)(f),p="0x";if(u&&u.length>0){if(!d.inputs)throw new n.Zh(d.name,{docsPath:l});p=(0,s.E)(d.inputs,u)}return(0,i.SM)([h,p])}},84262:function(e,t,r){"use strict";r.d(t,{R:function(){return s}});var n=r(61707),i=r(10201),o=r(46158);function s(e){let{args:t}=e,{abi:r,functionName:s}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:(0,o.m)(e),a=r[0],c="inputs"in a&&a.inputs?(0,i.E)(a.inputs,t??[]):void 0;return(0,n.SM)([s,c??"0x"])}},6840:function(e,t,r){"use strict";r.d(t,{R:function(){return a}});var n=r(22410),i=r(10201),o=r(16735);let s="/docs/contract/encodeFunctionResult";function a(e){let{abi:t,functionName:r,result:a}=e,c=t[0];if(r){let e=(0,o.mE)({abi:t,name:r});if(!e)throw new n.xL(r,{docsPath:s});c=e}if("function"!==c.type)throw new n.xL(void 0,{docsPath:s});if(!c.outputs)throw new n.MX(c.name,{docsPath:s});let l=(()=>{if(0===c.outputs.length)return[];if(1===c.outputs.length)return[a];if(Array.isArray(a))return a;throw new n.hn(a)})();return(0,i.E)(c.outputs,l)}},26439:function(e,t,r){"use strict";r.d(t,{h:function(){return o},t:function(){return i}});var n=r(22410);function i(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new n.wM(e.type);return`${e.name}(${o(e.inputs,{includeName:t})})`}function o(e,{includeName:t=!1}={}){return e?e.map(e=>(function(e,{includeName:t}){return e.type.startsWith("tuple")?`(${o(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")})(e,{includeName:t})).join(t?", ":","):""}},2522:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(67199);function i({abiItem:e,args:t,includeFunctionName:r=!0,includeName:i=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((e,r)=>`${i&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?(0,n.P)(t[r]):t[r]}`).join(", ")})`}},16735:function(e,t,r){"use strict";r.d(t,{mE:function(){return c}});var n=r(22410),i=r(53277),o=r(85628),s=r(65865),a=r(25020);function c(e){let t;let{abi:r,args:c=[],name:l}=e,u=(0,i.v)(l,{strict:!1}),d=r.filter(e=>u?"function"===e.type?(0,a.C)(e)===l:"event"===e.type&&(0,s.n)(e)===l:"name"in e&&e.name===l);if(0!==d.length){if(1===d.length)return d[0];for(let e of d)if("inputs"in e){if(!c||0===c.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===c.length&&c.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return(0,o.U)(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(t&&"inputs"in t&&t.inputs){let r=function e(t,r,n){for(let i in t){let s=t[i],a=r[i];if("tuple"===s.type&&"tuple"===a.type&&"components"in s&&"components"in a)return e(s.components,a.components,n[i]);let c=[s.type,a.type];if(c.includes("address")&&c.includes("bytes20")||(c.includes("address")&&c.includes("string")||c.includes("address")&&c.includes("bytes"))&&(0,o.U)(n[i],{strict:!1}))return c}}(e.inputs,t.inputs,c);if(r)throw new n.S4({abiItem:e,type:r[0]},{abiItem:t,type:r[1]})}t=e}}return t||d[0]}}},46158:function(e,t,r){"use strict";r.d(t,{m:function(){return c}});var n=r(22410),i=r(25020),o=r(26439),s=r(16735);let a="/docs/contract/encodeFunctionData";function c(e){let{abi:t,args:r,functionName:c}=e,l=t[0];if(c){let e=(0,s.mE)({abi:t,args:r,name:c});if(!e)throw new n.xL(c,{docsPath:a});l=e}if("function"!==l.type)throw new n.xL(void 0,{docsPath:a});return{abi:[l],functionName:(0,i.C)((0,o.t)(l))}}},53662:function(e,t,r){"use strict";r.d(t,{x:function(){return a}}),r(27532);var n=r(16907),i=r(27934),o=r(30596);r(85628);let s=new o.k(8192);function a(e,t){if(s.has(`${e}.${t}`))return s.get(`${e}.${t}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),o=(0,i.w)((0,n.qX)(r),"bytes"),a=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)o[e>>1]>>4>=8&&a[e]&&(a[e]=a[e].toUpperCase()),(15&o[e>>1])>=8&&a[e+1]&&(a[e+1]=a[e+1].toUpperCase());let c=`0x${a.join("")}`;return s.set(`${e}.${t}`,c),c}},85628:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});var n=r(30596),i=r(53662);let o=/^0x[a-fA-F0-9]{40}$/,s=new n.k(8192);function a(e,t){let{strict:r=!0}=t??{},n=`${e}.${r}`;if(s.has(n))return s.get(n);let a=!!o.test(e)&&(e.toLowerCase()===e||!r||(0,i.x)(e)===e);return s.set(n,a),a}},11253:function(e,t,r){"use strict";r.d(t,{E:function(){return o}});var n=r(27532),i=r(85628);function o(e,t){if(!(0,i.U)(e,{strict:!1}))throw new n.b({address:e});if(!(0,i.U)(t,{strict:!1}))throw new n.b({address:t});return e.toLowerCase()===t.toLowerCase()}},89026:function(e,t,r){"use strict";r.d(t,{W:function(){return o}});var n=r(88048),i=r(86794);function o(e){if(!e||0===e.length)return[];let t=[];for(let r of e){let{chainId:e,nonce:o,...s}=r,a=r.address;t.push([e?(0,n.NC)(e):"0x",a,o?(0,n.NC)(o):"0x",...(0,i.d)({},s)])}return t}},28354:function(e,t,r){"use strict";r.d(t,{P:function(){return o}});var n=r(16907),i=r(88048);function o(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),o="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,n.nr)(e)):e.blobs,s=[];for(let e of o)s.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?s:s.map(e=>(0,i.ci)(e))}},89213:function(e,t,r){"use strict";r.d(t,{y:function(){return o}});var n=r(16907),i=r(88048);function o(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),o="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,n.nr)(e)):e.blobs,s="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,n.nr)(e)):e.commitments,a=[];for(let e=0;e<o.length;e++){let r=o[e],n=s[e];a.push(Uint8Array.from(t.computeBlobKzgProof(r,n)))}return"bytes"===r?a:a.map(e=>(0,i.ci)(e))}},80434:function(e,t,r){"use strict";r.d(t,{S:function(){return o}});var n=r(88048),i=r(6628);function o(e){let{commitment:t,version:r=1}=e,o=e.to??("string"==typeof t?"hex":"bytes"),s=(0,i.J)(t,"bytes");return s.set([r],0),"bytes"===o?s:(0,n.ci)(s)}},34842:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var n=r(80434);function i(e){let{commitments:t,version:r}=e,i=e.to??("string"==typeof t[0]?"hex":"bytes"),o=[];for(let e of t)o.push((0,n.S)({commitment:e,to:i,version:r}));return o}},11404:function(e,t,r){"use strict";r.d(t,{j:function(){return s}});var n=r(28354),i=r(89213),o=r(28185);function s(e){let{data:t,kzg:r,to:s}=e,a=e.blobs??(0,o.U)({data:t,to:s}),c=e.commitments??(0,n.P)({blobs:a,kzg:r,to:s}),l=e.proofs??(0,i.y)({blobs:a,commitments:c,kzg:r,to:s}),u=[];for(let e=0;e<a.length;e++)u.push({blob:a[e],commitment:c[e],proof:l[e]});return u}},28185:function(e,t,r){"use strict";r.d(t,{U:function(){return c}});var n=r(69225),i=r(19097),o=r(52390),s=r(16907),a=r(88048);function c(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?(0,s.nr)(e.data):e.data,c=(0,o.d)(r);if(!c)throw new n.RX;if(c>761855)throw new n.m7({maxSize:761855,size:c});let l=[],u=!0,d=0;for(;u;){let e=(0,i.q)(new Uint8Array(131072)),t=0;for(;t<4096;){let n=r.slice(d,d+31);if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),u=!1;break}t++,d+=31}l.push(e)}return"bytes"===t?l.map(e=>e.bytes):l.map(e=>(0,a.ci)(e.bytes))}},21743:function(e,t,r){"use strict";r.d(t,{offchainLookup:function(){return v},offchainLookupSignature:function(){return y}});var n=r(16626),i=r(67199),o=r(58950),s=r(72842);class a extends o.G{constructor({callbackSelector:e,cause:t,data:r,extraData:n,sender:i,urls:o}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(e=>`    ${(0,s.G)(e)}`)],`  Sender: ${i}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${n}`].flat(),name:"OffchainLookupError"})}}class c extends o.G{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,s.G)(t)}`,`Response: ${(0,i.P)(e)}`],name:"OffchainLookupResponseMalformedError"})}}class l extends o.G{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}var u=r(39730),d=r(26226),f=r(10201),h=r(11253),p=r(61707),g=r(53277),m=r(81141);let y="0x556f1830",b={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function v(e,{blockNumber:t,blockTag:r,data:i,to:o}){let{args:s}=(0,d.p)({data:i,abi:[b]}),[c,u,g,y,v]=s,{ccipRead:E}=e,C=E&&"function"==typeof E?.request?E.request:w;try{if(!(0,h.E)(o,c))throw new l({sender:c,to:o});let i=u.includes(m.M)?await (0,m.w)({data:g,ccipRequest:C}):await C({data:g,sender:c,urls:u}),{data:s}=await (0,n.R)(e,{blockNumber:t,blockTag:r,data:(0,p.zo)([y,(0,f.E)([{type:"bytes"},{type:"bytes"}],[i,v])]),to:o});return s}catch(e){throw new a({callbackSelector:y,cause:e,data:i,extraData:v,sender:c,urls:u})}}async function w({data:e,sender:t,urls:r}){let n=Error("An unknown error occurred.");for(let o=0;o<r.length;o++){let s=r[o],a=s.includes("{data}")?"GET":"POST",l="POST"===a?{data:e,sender:t}:void 0,d="POST"===a?{"Content-Type":"application/json"}:{};try{let r;let o=await fetch(s.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(l),headers:d,method:a});if(r=o.headers.get("Content-Type")?.startsWith("application/json")?(await o.json()).data:await o.text(),!o.ok){n=new u.Gg({body:l,details:r?.error?(0,i.P)(r.error):o.statusText,headers:o.headers,status:o.status,url:s});continue}if(!(0,g.v)(r)){n=new c({result:r,url:s});continue}return r}catch(e){n=new u.Gg({body:l,details:e.message,url:s})}}throw n}},55807:function(e,t,r){"use strict";r(72270)},32883:function(e,t,r){"use strict";function n(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}r.d(t,{a:function(){return n}})},87728:function(e,t,r){},71943:function(e,t,r){"use strict";r.d(t,{L:function(){return i}});var n=r(72270);function i({blockNumber:e,chain:t,contract:r}){let i=t?.contracts?.[r];if(!i)throw new n.mm({chain:t,contract:{name:r}});if(e&&i.blockCreated&&i.blockCreated>e)throw new n.mm({blockNumber:e,chain:t,contract:{name:r,blockCreated:i.blockCreated}});return i.address}},19097:function(e,t,r){"use strict";r.d(t,{q:function(){return o}});var n=r(18761);let i={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new n.KD({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new n.lQ({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new n.T_({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new n.T_({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function o(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(i);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}},61707:function(e,t,r){"use strict";function n(e){return"string"==typeof e[0]?i(e):function(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}(e)}function i(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}r.d(t,{SM:function(){return i},zo:function(){return n}})},53277:function(e,t,r){"use strict";function n(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}r.d(t,{v:function(){return n}})},99709:function(e,t,r){"use strict";r.d(t,{gc:function(){return o},vk:function(){return i}});var n=r(86943);function i(e,{dir:t,size:r=32}={}){return"string"==typeof e?o(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new n.$s({size:e.length,targetSize:r,type:"bytes"});let i=new Uint8Array(r);for(let n=0;n<r;n++){let o="right"===t;i[o?n:r-n-1]=e[o?n:e.length-n-1]}return i}(e,{dir:t,size:r})}function o(e,{dir:t,size:r=32}={}){if(null===r)return e;let i=e.replace("0x","");if(i.length>2*r)throw new n.$s({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i["right"===t?"padEnd":"padStart"](2*r,"0")}`}},52390:function(e,t,r){"use strict";r.d(t,{d:function(){return i}});var n=r(53277);function i(e){return(0,n.v)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},35162:function(e,t,r){"use strict";r.d(t,{T4:function(){return l},tP:function(){return s}});var n=r(86943),i=r(53277),o=r(52390);function s(e,t,r,{strict:n}={}){return(0,i.v)(e,{strict:!1})?function(e,t,r,{strict:n}={}){a(e,t);let i=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&c(i,t,r),i}(e,t,r,{strict:n}):l(e,t,r,{strict:n})}function a(e,t){if("number"==typeof t&&t>0&&t>(0,o.d)(e)-1)throw new n.mV({offset:t,position:"start",size:(0,o.d)(e)})}function c(e,t,r){if("number"==typeof t&&"number"==typeof r&&(0,o.d)(e)!==r-t)throw new n.mV({offset:r,position:"end",size:(0,o.d)(e)})}function l(e,t,r,{strict:n}={}){a(e,t);let i=e.slice(t,r);return n&&c(i,t,r),i}},90653:function(e,t,r){"use strict";function n(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,n=0;for(let e=0;e<r.length-1&&"0"===r["left"===t?e:r.length-e-1].toString();e++)n++;return(r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e)?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}r.d(t,{f:function(){return n}})},22872:function(e,t,r){"use strict";r.d(t,{Lj:function(){return c},d3:function(){return u},tm:function(){return l},v3:function(){return a}});var n=r(93511),i=r(90653),o=r(54566),s=r(88048);function a(e,t={}){void 0!==t.size&&(0,o.Yf)(e,{size:t.size});let r=(0,s.ci)(e,t);return(0,o.y_)(r,t)}function c(e,t={}){let r=e;if(void 0!==t.size&&((0,o.Yf)(r,{size:t.size}),r=(0,i.f)(r)),r.length>1||r[0]>1)throw new n.yr(r);return!!r[0]}function l(e,t={}){void 0!==t.size&&(0,o.Yf)(e,{size:t.size});let r=(0,s.ci)(e,t);return(0,o.ly)(r,t)}function u(e,t={}){let r=e;return void 0!==t.size&&((0,o.Yf)(r,{size:t.size}),r=(0,i.f)(r,{dir:"right"})),new TextDecoder().decode(r)}},54566:function(e,t,r){"use strict";r.d(t,{Yf:function(){return o},ly:function(){return a},y_:function(){return s}});var n=r(93511),i=r(52390);function o(e,{size:t}){if((0,i.d)(e)>t)throw new n.M6({givenSize:(0,i.d)(e),maxSize:t})}function s(e,t={}){let{signed:r}=t;t.size&&o(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function a(e,t={}){return Number(s(e,t))}r(90653),r(16907)},16907:function(e,t,r){"use strict";r.d(t,{O0:function(){return l},nr:function(){return f},qX:function(){return h}});var n=r(58950),i=r(53277),o=r(99709),s=r(54566),a=r(88048);let c=new TextEncoder;function l(e,t={}){return"number"==typeof e||"bigint"==typeof e?f((0,a.eC)(e,t)):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?((0,s.Yf)(r,{size:t.size}),(0,o.vk)(r,{size:t.size})):r}(e,t):(0,i.v)(e)?f(e,t):h(e,t)}let u={zero:48,nine:57,A:65,F:70,a:97,f:102};function d(e){return e>=u.zero&&e<=u.nine?e-u.zero:e>=u.A&&e<=u.F?e-(u.A-10):e>=u.a&&e<=u.f?e-(u.a-10):void 0}function f(e,t={}){let r=e;t.size&&((0,s.Yf)(r,{size:t.size}),r=(0,o.vk)(r,{dir:"right",size:t.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);let a=i.length/2,c=new Uint8Array(a);for(let e=0,t=0;e<a;e++){let r=d(i.charCodeAt(t++)),o=d(i.charCodeAt(t++));if(void 0===r||void 0===o)throw new n.G(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);c[e]=16*r+o}return c}function h(e,t={}){let r=c.encode(e);return"number"==typeof t.size?((0,s.Yf)(r,{size:t.size}),(0,o.vk)(r,{dir:"right",size:t.size})):r}},88048:function(e,t,r){"use strict";r.d(t,{$G:function(){return f},C4:function(){return c},NC:function(){return a},ci:function(){return l},eC:function(){return u}});var n=r(93511),i=r(99709),o=r(54566);let s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(e,t={}){return"number"==typeof e||"bigint"==typeof e?u(e,t):"string"==typeof e?f(e,t):"boolean"==typeof e?c(e,t):l(e,t)}function c(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?((0,o.Yf)(r,{size:t.size}),(0,i.vk)(r,{size:t.size})):r}function l(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=s[e[t]];let n=`0x${r}`;return"number"==typeof t.size?((0,o.Yf)(n,{size:t.size}),(0,i.vk)(n,{dir:"right",size:t.size})):n}function u(e,t={}){let r;let{signed:o,size:s}=t,a=BigInt(e);s?r=o?(1n<<8n*BigInt(s)-1n)-1n:2n**(8n*BigInt(s))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let c="bigint"==typeof r&&o?-r-1n:0;if(r&&a>r||a<c){let t="bigint"==typeof e?"n":"";throw new n.J5({max:r?`${r}${t}`:void 0,min:`${c}${t}`,signed:o,size:s,value:`${e}${t}`})}let l=`0x${(o&&a<0?(1n<<BigInt(8*s))+BigInt(a):a).toString(16)}`;return s?(0,i.vk)(l,{size:s}):l}let d=new TextEncoder;function f(e,t={}){return l(d.encode(e),t)}},91239:function(e,t,r){"use strict";r.d(t,{LV:function(){return a}});var n=r(58950),i=r(19097),o=r(16907),s=r(88048);function a(e,t="hex"){let r=function e(t){return Array.isArray(t)?function(e){let t=e.reduce((e,t)=>e+t.length,0),r=c(t);return{length:t<=55?1+t:1+r+t,encode(n){for(let{encode:i}of(t<=55?n.pushByte(192+t):(n.pushByte(247+r),1===r?n.pushUint8(t):2===r?n.pushUint16(t):3===r?n.pushUint24(t):n.pushUint32(t)),e))i(n)}}}(t.map(t=>e(t))):function(e){let t="string"==typeof e?(0,o.nr)(e):e,r=c(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(e){1===t.length&&t[0]<128||(t.length<=55?e.pushByte(128+t.length):(e.pushByte(183+r),1===r?e.pushUint8(t.length):2===r?e.pushUint16(t.length):3===r?e.pushUint24(t.length):e.pushUint32(t.length))),e.pushBytes(t)}}}(t)}(e),n=(0,i.q)(new Uint8Array(r.length));return(r.encode(n),"hex"===t)?(0,s.ci)(n.bytes):n.bytes}function c(e){if(e<256)return 1;if(e<65536)return 2;if(e<16777216)return 3;if(e<4294967296)return 4;throw new n.G("Length is too large.")}},81141:function(e,t,r){"use strict";r.d(t,{M:function(){return c},w:function(){return l}});var n=r(34403),i=r(92800),o=r(40893),s=r(39150),a=r(6840);let c="x-batch-gateway:true";async function l(e){let{data:t,ccipRequest:r}=e,{args:[u]}=(0,o.p)({abi:n.Yi,data:t}),d=[],f=[];return await Promise.all(u.map(async(e,t)=>{try{f[t]=e.urls.includes(c)?await l({data:e.data,ccipRequest:r}):await r(e),d[t]=!1}catch(e){d[t]=!0,f[t]="HttpRequestError"===e.name&&e.status?(0,s.M)({abi:n.Yi,errorName:"HttpError",args:[e.status,e.shortMessage]}):(0,s.M)({abi:[i.Up],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}})),(0,a.R)({abi:n.Yi,functionName:"query",result:[d,f]})}},94293:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var n=r(98690),i=r(42106),o=r(26794);function s(e,{docsPath:t,...r}){let s=(()=>{let t=(0,o.k)(e,r);return t instanceof i.cj?e:t})();return new n.cg(s,{docsPath:t,...r})}},26794:function(e,t,r){"use strict";r.d(t,{k:function(){return o}});var n=r(58950),i=r(42106);function o(e,t){let r=(e.details||"").toLowerCase(),o=e instanceof n.G?e.walk(e=>e?.code===i.M_.code):e;return o instanceof n.G?new i.M_({cause:e,message:o.details}):i.M_.nodeMessage.test(r)?new i.M_({cause:e,message:e.details}):i.Hh.nodeMessage.test(r)?new i.Hh({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.G$.nodeMessage.test(r)?new i.G$({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.ZI.nodeMessage.test(r)?new i.ZI({cause:e,nonce:t?.nonce}):i.vU.nodeMessage.test(r)?new i.vU({cause:e,nonce:t?.nonce}):i.se.nodeMessage.test(r)?new i.se({cause:e,nonce:t?.nonce}):i.C_.nodeMessage.test(r)?new i.C_({cause:e}):i.WF.nodeMessage.test(r)?new i.WF({cause:e,gas:t?.gas}):i.dR.nodeMessage.test(r)?new i.dR({cause:e,gas:t?.gas}):i.pZ.nodeMessage.test(r)?new i.pZ({cause:e}):i.cs.nodeMessage.test(r)?new i.cs({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new i.cj({cause:e})}r(39730),r(88186)},16872:function(e,t,r){"use strict";r.d(t,{G:function(){return o}});var n=r(56421),i=r(75325);let o=(0,n.$)("block",function(e){let t=(e.transactions??[]).map(e=>"string"==typeof e?e:(0,i.Tr)(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}})},47882:function(e,t,r){"use strict";function n(e,{format:t}){if(!t)return{};let r={};return!function t(n){for(let i of Object.keys(n))i in e&&(r[i]=e[i]),n[i]&&"object"==typeof n[i]&&!Array.isArray(n[i])&&t(n[i])}(t(e||{})),r}r.d(t,{K:function(){return n}})},56421:function(e,t,r){"use strict";function n(e,t){return({exclude:r,format:n})=>({exclude:r,format:e=>{let i=t(e);if(r)for(let e of r)delete i[e];return{...i,...n(e)}},type:e})}r.d(t,{$:function(){return n}})},40932:function(e,t,r){"use strict";function n(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}r.d(t,{U:function(){return n}})},75325:function(e,t,r){"use strict";r.d(t,{Tr:function(){return s},c8:function(){return o},y_:function(){return a}});var n=r(54566),i=r(56421);let o={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function s(e){let t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,n.ly)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,n.ly)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?o[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}let a=(0,i.$)("transaction",s)},5105:function(e,t,r){"use strict";r.d(t,{dI:function(){return c}});var n=r(54566),i=r(56421),o=r(40932),s=r(75325);let a={"0x0":"reverted","0x1":"success"},c=(0,i.$)("transactionReceipt",function(e){let t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>(0,o.U)(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,n.ly)(e.transactionIndex):null,status:e.status?a[e.status]:null,type:e.type?s.c8[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t})},73102:function(e,t,r){"use strict";r.d(t,{iy:function(){return a},tG:function(){return s}});var n=r(88048),i=r(56421);let o={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function s(e){let t={};return void 0!==e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?(0,n.eC)(BigInt(e.r)):e.r,s:e.s?(0,n.eC)(BigInt(e.s)):e.s,chainId:(0,n.eC)(e.chainId),nonce:(0,n.eC)(e.nonce),...void 0!==e.yParity?{yParity:(0,n.eC)(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:(0,n.eC)(e.v)}:{}}))),void 0!==e.accessList&&(t.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?t.blobs=e.blobs.map(e=>(0,n.ci)(e)):t.blobs=e.blobs),void 0!==e.data&&(t.data=e.data),void 0!==e.from&&(t.from=e.from),void 0!==e.gas&&(t.gas=(0,n.eC)(e.gas)),void 0!==e.gasPrice&&(t.gasPrice=(0,n.eC)(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=(0,n.eC)(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(t.maxFeePerGas=(0,n.eC)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=(0,n.eC)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(t.nonce=(0,n.eC)(e.nonce)),void 0!==e.to&&(t.to=e.to),void 0!==e.type&&(t.type=o[e.type]),void 0!==e.value&&(t.value=(0,n.eC)(e.value)),t}let a=(0,i.$)("transactionRequest",s)},27934:function(e,t,r){"use strict";r.d(t,{w:function(){return a}});var n=r(76087),i=r(53277),o=r(16907),s=r(88048);function a(e,t){let r=(0,n.fr)((0,i.v)(e,{strict:!1})?(0,o.O0)(e):e);return"bytes"===(t||"hex")?r:(0,s.NC)(r)}},6628:function(e,t,r){"use strict";r.d(t,{J:function(){return a}});var n=r(12426),i=r(53277),o=r(16907),s=r(88048);function a(e,t){let r=(0,n.JQ)((0,i.v)(e,{strict:!1})?(0,o.O0)(e):e);return"bytes"===(t||"hex")?r:(0,s.NC)(r)}},65865:function(e,t,r){"use strict";r.d(t,{n:function(){return n}});let n=r(36705).r},25020:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var n=r(35162),i=r(36705);let o=e=>(0,n.tP)((0,i.r)(e),0,4)},40395:function(e,t,r){"use strict";r.d(t,{W:function(){return o}});var n=r(9533),i=r(58950);let o=e=>(function(e){let t=!0,r="",n=0,o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i];if(["(",")",","].includes(a)&&(t=!0),"("===a&&n++,")"===a&&n--,t){if(0===n){if(" "===a&&["event","function",""].includes(o))o="";else if(o+=a,")"===a){s=!0;break}continue}if(" "===a){","!==e[i-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}o+=a,r+=a}}if(!s)throw new i.G("Unable to normalize signature.");return o})("string"==typeof e?e:(0,n.tQ)(e))},36705:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(16907),i=r(27934);let o=e=>(0,i.w)((0,n.O0)(e));var s=r(40395);function a(e){return o((0,s.W)(e))}},30596:function(e,t,r){"use strict";r.d(t,{k:function(){return n}});class n extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}},75198:function(e,t,r){"use strict";r.d(t,{S:function(){return o}});var n=r(31865);let i=new Map;function o({fn:e,id:t,shouldSplitBatch:r,wait:o=0,sort:s}){let a=async()=>{let t=u();c();let r=t.map(({args:e})=>e);0!==r.length&&e(r).then(e=>{s&&Array.isArray(e)&&e.sort(s);for(let r=0;r<t.length;r++){let{resolve:n}=t[r];n?.([e[r],e])}}).catch(e=>{for(let r=0;r<t.length;r++){let{reject:n}=t[r];n?.(e)}})},c=()=>i.delete(t),l=()=>u().map(({args:e})=>e),u=()=>i.get(t)||[],d=e=>i.set(t,[...u(),e]);return{flush:c,async schedule(e){let{promise:t,resolve:i,reject:s}=(0,n.n)();return(r?.([...l(),e])&&a(),u().length>0)?d({args:e,resolve:i,reject:s}):(d({args:e,resolve:i,reject:s}),setTimeout(a,o)),t}}}},31865:function(e,t,r){"use strict";function n(){let e=()=>void 0,t=()=>void 0;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}r.d(t,{n:function(){return n}})},92959:function(e,t,r){"use strict";r.d(t,{lh:function(){return n}});let n=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/},79661:function(e,t,r){"use strict";r.d(t,{mF:function(){return l}});var n=r(27532),i=r(86943),o=r(86172),s=r(85628),a=r(88048);function c(e){if(e&&0!==e.length)return e.reduce((e,{slot:t,value:r})=>{if(66!==t.length)throw new i.W_({size:t.length,targetSize:66,type:"hex"});if(66!==r.length)throw new i.W_({size:r.length,targetSize:66,type:"hex"});return e[t]=r,e},{})}function l(e){if(!e)return;let t={};for(let{address:r,...i}of e){if(!(0,s.U)(r,{strict:!1}))throw new n.b({address:r});if(t[r])throw new o.Nc({address:r});t[r]=function(e){let{balance:t,nonce:r,state:n,stateDiff:i,code:s}=e,l={};if(void 0!==s&&(l.code=s),void 0!==t&&(l.balance=(0,a.eC)(t)),void 0!==r&&(l.nonce=(0,a.eC)(r)),void 0!==n&&(l.state=c(n)),void 0!==i){if(l.state)throw new o.Z8;l.stateDiff=c(i)}return l}(i)}return t}},67199:function(e,t,r){"use strict";r.d(t,{P:function(){return n}});let n=(e,t,r)=>JSON.stringify(e,(e,r)=>{let n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n},r)},58932:function(e,t,r){"use strict";r.d(t,{F:function(){return l}});var n=r(31728),i=r(33235),o=r(27532),s=r(42106),a=r(27051),c=r(85628);function l(e){let{account:t,gasPrice:r,maxFeePerGas:l,maxPriorityFeePerGas:u,to:d}=e,f=t?(0,n.T)(t):void 0;if(f&&!(0,c.U)(f.address))throw new o.b({address:f.address});if(d&&!(0,c.U)(d))throw new o.b({address:d});if(void 0!==r&&(void 0!==l||void 0!==u))throw new a.xY;if(l&&l>i.zL)throw new s.Hh({maxFeePerGas:l});if(u&&l&&u>l)throw new s.cs({maxFeePerGas:l,maxPriorityFeePerGas:u})}},49461:function(e,t,r){"use strict";r.d(t,{K6:function(){return g},Re:function(){return y},b$:function(){return p},mJ:function(){return m},vX:function(){return b}});var n=r(63239),i=r(33235),o=r(27532),s=r(58950),a=r(69225),c=r(72270),l=r(42106),u=r(85628),d=r(52390),f=r(35162),h=r(54566);function p(e){let{authorizationList:t}=e;if(t)for(let e of t){let{chainId:t}=e,r=e.address;if(!(0,u.U)(r))throw new o.b({address:r});if(t<0)throw new c.hJ({chainId:t})}m(e)}function g(e){let{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new a.RX;for(let e of t){let t=(0,d.d)(e),r=(0,h.ly)((0,f.tP)(e,0,1));if(32!==t)throw new a.xd({hash:e,size:t});if(r!==n.l)throw new a.cJ({hash:e,version:r})}}m(e)}function m(e){let{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:s}=e;if(t<=0)throw new c.hJ({chainId:t});if(s&&!(0,u.U)(s))throw new o.b({address:s});if(n&&n>i.zL)throw new l.Hh({maxFeePerGas:n});if(r&&n&&r>n)throw new l.cs({maxFeePerGas:n,maxPriorityFeePerGas:r})}function y(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:a,to:d}=e;if(t<=0)throw new c.hJ({chainId:t});if(d&&!(0,u.U)(d))throw new o.b({address:d});if(r||a)throw new s.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>i.zL)throw new l.Hh({maxFeePerGas:n})}function b(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:a,to:d}=e;if(d&&!(0,u.U)(d))throw new o.b({address:d});if(void 0!==t&&t<=0)throw new c.hJ({chainId:t});if(r||a)throw new s.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>i.zL)throw new l.Hh({maxFeePerGas:n})}},88009:function(e,t,r){"use strict";r.d(t,{l:function(){return i}});var n=r(27051);function i(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new n.j3({transaction:e})}},387:function(e,t,r){"use strict";r.d(t,{g:function(){return s}});var n=r(27532),i=r(27051),o=r(85628);function s(e){if(!e||0===e.length)return[];let t=[];for(let r=0;r<e.length;r++){let{address:s,storageKeys:a}=e[r];for(let e=0;e<a.length;e++)if(a[e].length-2!=64)throw new i.JC({storageKey:a[e]});if(!(0,o.U)(s,{strict:!1}))throw new n.b({address:s});t.push([s,a])}return t}},86794:function(e,t,r){"use strict";r.d(t,{D:function(){return m},d:function(){return y}});var n=r(27051),i=r(89026),o=r(28354),s=r(89213),a=r(34842),c=r(11404),l=r(61707),u=r(90653),d=r(88048),f=r(91239),h=r(49461),p=r(88009),g=r(387);function m(e,t){let r=(0,p.l)(e);return"eip1559"===r?function(e,t){let{chainId:r,gas:n,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:p}=e;(0,h.mJ)(e);let m=(0,g.g)(u),b=[(0,d.eC)(r),i?(0,d.eC)(i):"0x",c?(0,d.eC)(c):"0x",a?(0,d.eC)(a):"0x",n?(0,d.eC)(n):"0x",o??"0x",s?(0,d.eC)(s):"0x",p??"0x",m,...y(e,t)];return(0,l.SM)(["0x02",(0,f.LV)(b)])}(e,t):"eip2930"===r?function(e,t){let{chainId:r,gas:n,data:i,nonce:o,to:s,value:a,accessList:c,gasPrice:u}=e;(0,h.Re)(e);let p=(0,g.g)(c),m=[(0,d.eC)(r),o?(0,d.eC)(o):"0x",u?(0,d.eC)(u):"0x",n?(0,d.eC)(n):"0x",s??"0x",a?(0,d.eC)(a):"0x",i??"0x",p,...y(e,t)];return(0,l.SM)(["0x01",(0,f.LV)(m)])}(e,t):"eip4844"===r?function(e,t){let{chainId:r,gas:n,nonce:i,to:u,value:p,maxFeePerBlobGas:m,maxFeePerGas:b,maxPriorityFeePerGas:v,accessList:w,data:E}=e;(0,h.K6)(e);let C=e.blobVersionedHashes,A=e.sidecars;if(e.blobs&&(void 0===C||void 0===A)){let t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map(e=>(0,d.ci)(e)),r=e.kzg,n=(0,o.P)({blobs:t,kzg:r});if(void 0===C&&(C=(0,a.C)({commitments:n})),void 0===A){let e=(0,s.y)({blobs:t,commitments:n,kzg:r});A=(0,c.j)({blobs:t,commitments:n,proofs:e})}}let x=(0,g.g)(w),I=[(0,d.eC)(r),i?(0,d.eC)(i):"0x",v?(0,d.eC)(v):"0x",b?(0,d.eC)(b):"0x",n?(0,d.eC)(n):"0x",u??"0x",p?(0,d.eC)(p):"0x",E??"0x",x,m?(0,d.eC)(m):"0x",C??[],...y(e,t)],N=[],S=[],P=[];if(A)for(let e=0;e<A.length;e++){let{blob:t,commitment:r,proof:n}=A[e];N.push(t),S.push(r),P.push(n)}return(0,l.SM)(["0x03",A?(0,f.LV)([I,N,S,P]):(0,f.LV)(I)])}(e,t):"eip7702"===r?function(e,t){let{authorizationList:r,chainId:n,gas:o,nonce:s,to:a,value:c,maxFeePerGas:u,maxPriorityFeePerGas:p,accessList:m,data:b}=e;(0,h.b$)(e);let v=(0,g.g)(m),w=(0,i.W)(r);return(0,l.SM)(["0x04",(0,f.LV)([(0,d.eC)(n),s?(0,d.eC)(s):"0x",p?(0,d.eC)(p):"0x",u?(0,d.eC)(u):"0x",o?(0,d.eC)(o):"0x",a??"0x",c?(0,d.eC)(c):"0x",b??"0x",v,w,...y(e,t)])])}(e,t):function(e,t){let{chainId:r=0,gas:i,data:o,nonce:s,to:a,value:c,gasPrice:l}=e;(0,h.vX)(e);let p=[s?(0,d.eC)(s):"0x",l?(0,d.eC)(l):"0x",i?(0,d.eC)(i):"0x",a??"0x",c?(0,d.eC)(c):"0x",o??"0x"];if(t){let e=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(r>0)return BigInt(2*r)+BigInt(35n+t.v-27n);let e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new n.vl({v:t.v});return e})(),i=(0,u.f)(t.r),o=(0,u.f)(t.s);p=[...p,(0,d.eC)(e),"0x00"===i?"0x":i,"0x00"===o?"0x":o]}else r>0&&(p=[...p,(0,d.eC)(r),"0x","0x"]);return(0,f.LV)(p)}(e,t)}function y(e,t){let r=t??e,{v:n,yParity:i}=r;if(void 0===r.r||void 0===r.s||void 0===n&&void 0===i)return[];let o=(0,u.f)(r.r),s=(0,u.f)(r.s);return["number"==typeof i?i?(0,d.eC)(1):"0x":0n===n?"0x":1n===n?(0,d.eC)(1):27n===n?"0x":(0,d.eC)(1),"0x00"===o?"0x":o,"0x00"===s?"0x":s]}},79692:function(e,t,r){"use strict";r.d(t,{d:function(){return o}});var n=r(51190),i=r(41007);function o(e,t="wei"){return(0,i.b)(e,n.ez[t])}},35551:function(e,t,r){"use strict";r.d(t,{o:function(){return o}});var n=r(51190),i=r(41007);function o(e,t="wei"){return(0,i.b)(e,n.Zn[t])}},41007:function(e,t,r){"use strict";function n(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[i,o]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return o=o.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${o?`.${o}`:""}`}r.d(t,{b:function(){return n}})},65113:function(e,t,r){"use strict";r.d(t,{secp256k1:function(){return eA}});var n=r(95423),i=r(88835),o=r(35979);let s=BigInt(0),a=BigInt(1);function c(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function l(e){if(!c(e))throw Error("Uint8Array expected")}function u(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function d(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function f(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?s:BigInt("0x"+e)}let h="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,p=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function g(e){if(l(e),h)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=p[e[r]];return t}let m={_0:48,_9:57,A:65,F:70,a:97,f:102};function y(e){return e>=m._0&&e<=m._9?e-m._0:e>=m.A&&e<=m.F?e-(m.A-10):e>=m.a&&e<=m.f?e-(m.a-10):void 0}function b(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(h)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=y(e.charCodeAt(i)),o=y(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function v(e){return f(g(e))}function w(e){return l(e),f(g(Uint8Array.from(e).reverse()))}function E(e,t){return b(e.toString(16).padStart(2*t,"0"))}function C(e,t){return E(e,t).reverse()}function A(e,t,r){let n;if("string"==typeof t)try{n=b(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(c(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function x(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];l(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let I=e=>"bigint"==typeof e&&s<=e;function N(e,t,r){return I(e)&&I(t)&&I(r)&&t<=e&&e<r}function S(e,t,r,n){if(!N(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let P=e=>(a<<BigInt(e))-a,O=e=>new Uint8Array(e),_=e=>Uint8Array.from(e),R={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||c(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function T(e,t,r={}){let n=(t,r,n)=>{let i=R[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if((!n||void 0!==o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function k(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}let B=BigInt(0),U=BigInt(1),M=BigInt(2),L=BigInt(3),D=BigInt(4),j=BigInt(5),F=BigInt(8);function q(e,t){let r=e%t;return r>=B?r:t+r}function z(e,t,r){let n=e;for(;t-- >B;)n*=n,n%=r;return n}function $(e,t){if(e===B)throw Error("invert: expected non-zero number");if(t<=B)throw Error("invert: expected positive modulus, got "+t);let r=q(e,t),n=t,i=B,o=U,s=U,a=B;for(;r!==B;){let e=n/r,t=n%r,c=i-s*e,l=o-a*e;n=r,r=t,i=s,o=a,s=c,a=l}if(n!==U)throw Error("invert: does not exist");return q(i,t)}function H(e,t){let r=(e.ORDER+U)/D,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function G(e,t){let r=(e.ORDER-j)/F,n=e.mul(t,M),i=e.pow(n,r),o=e.mul(t,i),s=e.mul(e.mul(o,M),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw Error("Cannot find square root");return a}let W=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function V(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),o=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),o),n}function K(e,t){let r=(e.ORDER-U)/M,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!s)throw Error("invalid Legendre symbol result");return i?1:o?0:-1}function Z(e,t){void 0!==t&&(0,i.k8)(t);let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Y(e,t,r=!1,n={}){let i;if(e<=B)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=Z(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:s,MASK:P(o),ZERO:B,ONE:U,create:t=>q(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return B<=t&&t<e},is0:e=>e===B,isOdd:e=>(e&U)===U,neg:t=>q(-t,e),eql:(e,t)=>e===t,sqr:t=>q(t*t,e),add:(t,r)=>q(t+r,e),sub:(t,r)=>q(t-r,e),mul:(t,r)=>q(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<B)throw Error("invalid exponent, negatives unsupported");if(r===B)return e.ONE;if(r===U)return t;let n=e.ONE,i=t;for(;r>B;)r&U&&(n=e.mul(n,i)),i=e.sqr(i),r>>=U;return n})(a,e,t),div:(t,r)=>q(t*$(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>$(t,e),sqrt:n.sqrt||(t=>(!i&&(i=e%D===L?H:e%F===j?G:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-U,r=0;for(;t%M===B;)t/=M,r++;let n=M,i=Y(e);for(;1===K(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return H;let o=i.pow(n,t),s=(t+U)/M;return function(e,n){if(e.is0(n))return n;if(1!==K(e,n))throw Error("Cannot find square root");let i=r,a=e.mul(e.ONE,o),c=e.pow(n,t),l=e.pow(n,s);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=U<<BigInt(i-t-1),o=e.pow(a,n);i=t,a=e.sqr(o),c=e.mul(c,a),l=e.mul(l,o)}return l}}(e)),i(a,t))),toBytes:e=>r?C(e,s):E(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?w(e):v(e)},invertBatch:e=>V(a,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(a)}function J(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function X(e){let t=J(e);return t+Math.ceil(t/2)}let Q=BigInt(0),ee=BigInt(1);function et(e,t){let r=t.negate();return e?r:t}function er(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function en(e,t){er(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:P(e),maxNumber:i,shiftBy:BigInt(e)}}function ei(e,t,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r,a=Number(e&i),c=e>>s;a>n&&(a-=o,c+=ee);let l=t*n,u=l+Math.abs(a)-1;return{nextN:c,offset:u,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}let eo=new WeakMap,es=new WeakMap;function ea(e){return es.get(e)||1}function ec(e){return T(e.Fp,W.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),T(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Z(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function el(e){void 0!==e.lowS&&u("lowS",e.lowS),void 0!==e.prehash&&u("prehash",e.prehash)}class eu extends Error{constructor(e=""){super(e)}}let ed={Err:eu,_tlv:{encode:(e,t)=>{let{Err:r}=ed;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=d(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?d(i.length/2|128):"";return d(e)+o+i+t},decode(e,t){let{Err:r}=ed,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],o=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)o=o<<8|e;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;let s=t.subarray(n,n+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+o)}}},_int:{encode(e){let{Err:t}=ed;if(e<ef)throw new t("integer: negative integers are not allowed");let r=d(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=ed;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return v(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=ed,i=A("signature",e),{v:o,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=ed,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},ef=BigInt(0),eh=BigInt(1),ep=(BigInt(2),BigInt(3)),eg=BigInt(4),em=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ey=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eb=BigInt(0),ev=BigInt(1),ew=BigInt(2),eE=(e,t)=>(e+t/ew)/t,eC=Y(em,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),c=e*e*e%em,l=c*c*e%em,u=z(l,t,em)*l%em,d=z(u,t,em)*l%em,f=z(d,ew,em)*c%em,h=z(f,n,em)*f%em,p=z(h,i,em)*h%em,g=z(p,s,em)*p%em,m=z(g,a,em)*g%em,y=z(m,s,em)*p%em,b=z(y,t,em)*l%em,v=z(b,o,em)*h%em,w=z(v,r,em)*c%em,E=z(w,ew,em);if(!eC.eql(eC.sqr(E),e))throw Error("Cannot find square root");return E}}),eA=function(e,t){let r=t=>(function(e){let t=function(e){let t=ec(e);return T(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:i,nBitLength:o}=t,l=r.BYTES+1,d=2*r.BYTES+1;function f(e){return q(e,n)}let{ProjectivePoint:h,normPrivateKeyToScalar:p,weierstrassEquation:m,isWithinCurveOrder:y}=function(e){var t;let r=function(e){let t=ec(e);T(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=r,i=Y(r.n,r.nBitLength),o=r.toBytes||((e,t,r)=>{let i=t.toAffine();return x(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),l=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function d(e){let{a:t,b:i}=r,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,t)),i)}function f(e,t){let r=n.sqr(t),i=d(e);return n.eql(r,i)}if(!f(r.Gx,r.Gy))throw Error("bad curve params: generator point");let h=n.mul(n.pow(r.a,ep),eg),p=n.mul(n.sqr(r.b),BigInt(27));if(n.is0(n.add(h,p)))throw Error("bad curve params: a or b");function m(e){let t;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:s}=r;if(n&&"bigint"!=typeof e){if(c(e)&&(e=g(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:v(A("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return o&&(t=q(t,s)),S("private key",t,eh,s),t}function y(e){if(!(e instanceof E))throw Error("ProjectivePoint expected")}let b=k((e,t)=>{let{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};let s=e.is0();null==t&&(t=s?n.ONE:n.inv(o));let a=n.mul(r,t),c=n.mul(i,t),l=n.mul(o,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw Error("invZ was invalid");return{x:a,y:c}}),w=k(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");if(!f(t,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class E{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof E)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?E.ZERO:new E(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=V(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(E.fromAffine)}static fromHex(e){let t=E.fromAffine(l(A("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return E.BASE.multiply(m(e))}static msm(e,t){return function(e,t,r,n){!function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,o=n.length;if(i!==o)throw Error("arrays of points and scalars must have equal length");let c=e.ZERO,l=function(e){let t;for(t=0;e>s;e>>=a,t+=1);return t}(BigInt(i)),u=1;l>12?u=l-3:l>4?u=l-2:l>0&&(u=2);let d=P(u),f=Array(Number(d)+1).fill(c),h=Math.floor((t.BITS-1)/u)*u,p=c;for(let e=h;e>=0;e-=u){f.fill(c);for(let t=0;t<o;t++){let i=Number(n[t]>>BigInt(e)&d);f[i]=f[i].add(r[t])}let t=c;for(let e=f.length-1,r=c;e>0;e--)r=r.add(f[e]),t=t.add(r);if(p=p.add(t),0!==e)for(let e=0;e<u;e++)p=p.double()}return p}(E,i,e,t)}_setWindowSize(e){O.setWindowSize(this,e)}assertValidity(){w(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){y(e);let{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(o,i)),l=n.eql(n.mul(r,a),n.mul(s,i));return c&&l}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,ep),{px:o,py:s,pz:a}=this,c=n.ZERO,l=n.ZERO,u=n.ZERO,d=n.mul(o,o),f=n.mul(s,s),h=n.mul(a,a),p=n.mul(o,s);return p=n.add(p,p),u=n.mul(o,a),u=n.add(u,u),c=n.mul(e,u),l=n.mul(i,h),l=n.add(c,l),c=n.sub(f,l),l=n.add(f,l),l=n.mul(c,l),c=n.mul(p,c),u=n.mul(i,u),h=n.mul(e,h),p=n.sub(d,h),p=n.mul(e,p),p=n.add(p,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,h),d=n.mul(d,p),l=n.add(l,d),h=n.mul(s,a),h=n.add(h,h),d=n.mul(h,p),c=n.sub(c,d),u=n.mul(h,f),u=n.add(u,u),new E(c,l,u=n.add(u,u))}add(e){y(e);let{px:t,py:i,pz:o}=this,{px:s,py:a,pz:c}=e,l=n.ZERO,u=n.ZERO,d=n.ZERO,f=r.a,h=n.mul(r.b,ep),p=n.mul(t,s),g=n.mul(i,a),m=n.mul(o,c),b=n.add(t,i),v=n.add(s,a);b=n.mul(b,v),v=n.add(p,g),b=n.sub(b,v),v=n.add(t,o);let w=n.add(s,c);return v=n.mul(v,w),w=n.add(p,m),v=n.sub(v,w),w=n.add(i,o),l=n.add(a,c),w=n.mul(w,l),l=n.add(g,m),w=n.sub(w,l),d=n.mul(f,v),l=n.mul(h,m),d=n.add(l,d),l=n.sub(g,d),d=n.add(g,d),u=n.mul(l,d),g=n.add(p,p),g=n.add(g,p),m=n.mul(f,m),v=n.mul(h,v),g=n.add(g,m),m=n.sub(p,m),m=n.mul(f,m),v=n.add(v,m),p=n.mul(g,v),u=n.add(u,p),p=n.mul(w,v),l=n.mul(b,l),l=n.sub(l,p),p=n.mul(b,g),d=n.mul(w,d),new E(l,u,d=n.add(d,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(E.ZERO)}wNAF(e){return O.wNAFCached(this,e,E.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;S("scalar",e,ef,i);let o=E.ZERO;if(e===ef)return o;if(this.is0()||e===eh)return this;if(!t||O.hasPrecomputes(this))return O.wNAFCachedUnsafe(this,e,E.normalizeZ);let{k1neg:s,k1:a,k2neg:c,k2:l}=t.splitScalar(e),u=o,d=o,f=this;for(;a>ef||l>ef;)a&eh&&(u=u.add(f)),l&eh&&(d=d.add(f)),f=f.double(),a>>=eh,l>>=eh;return s&&(u=u.negate()),c&&(d=d.negate()),d=new E(n.mul(d.px,t.beta),d.py,d.pz),u.add(d)}multiply(e){let t,i;let{endo:o,n:s}=r;if(S("scalar",e,eh,s),o){let{k1neg:r,k1:s,k2neg:a,k2:c}=o.splitScalar(e),{p:l,f:u}=this.wNAF(s),{p:d,f:f}=this.wNAF(c);l=O.constTimeNegate(r,l),d=O.constTimeNegate(a,d),d=new E(n.mul(d.px,o.beta),d.py,d.pz),t=l.add(d),i=u.add(f)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return E.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=E.BASE,i=(e,t)=>t!==ef&&t!==eh&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return b(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===eh)return!0;if(t)return t(E,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===eh?this:t?t(E,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return u("isCompressed",e),this.assertValidity(),o(E,this,e)}toHex(e=!0){return u("isCompressed",e),g(this.toRawBytes(e))}}E.BASE=new E(r.Gx,r.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO);let{endo:C,nBitLength:I}=r,O=(t=C?Math.ceil(I/2):I,{constTimeNegate:et,hasPrecomputes:e=>1!==ea(e),unsafeLadder(e,t,r=E.ZERO){let n=e;for(;t>Q;)t&ee&&(r=r.add(n)),n=n.double(),t>>=ee;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=en(r,t),o=[],s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,r,n){let i=E.ZERO,o=E.BASE,s=en(e,t);for(let e=0;e<s.windows;e++){let{nextN:t,offset:a,isZero:c,isNeg:l,isNegF:u,offsetF:d}=ei(n,e,s);n=t,c?o=o.add(et(u,r[d])):i=i.add(et(l,r[a]))}return{p:i,f:o}},wNAFUnsafe(e,r,n,i=E.ZERO){let o=en(e,t);for(let e=0;e<o.windows&&n!==Q;e++){let{nextN:t,offset:s,isZero:a,isNeg:c}=ei(n,e,o);if(n=t,!a){let e=r[s];i=i.add(c?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=eo.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&eo.set(t,r(n))),n},wNAFCached(e,t,r){let n=ea(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=ea(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){er(r,t),es.set(e,r),eo.delete(e)}});return{CURVE:r,ProjectivePoint:E,normPrivateKeyToScalar:m,weierstrassEquation:d,isWithinCurveOrder:function(e){return N(e,eh,r.n)}}}({...t,toBytes(e,t,n){let i=t.toAffine(),o=r.toBytes(i.x);return(u("isCompressed",n),n)?x(Uint8Array.from([t.hasEvenY()?2:3]),o):x(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],i=e.subarray(1);if(t===l&&(2===n||3===n)){let e;let t=v(i);if(!N(t,eh,r.ORDER))throw Error("Point is not on curve");let o=m(t);try{e=r.sqrt(o)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&eh)===eh)&&(e=r.neg(e)),{x:t,y:e}}if(t===d&&4===n)return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))};throw Error("invalid Point, expected length of "+l+", or uncompressed "+d+", got "+t)}}),I=(e,t,r)=>v(e.slice(t,r));class R{constructor(e,t,r){S("r",e,eh,n),S("s",t,eh,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){return new R(I(e=A("compactSignature",e,2*i),0,i),I(e,i,2*i))}static fromDER(e){let{r:t,s:r}=ed.toSig(A("DER",e));return new R(t,r)}assertValidity(){}addRecoveryBit(e){return new R(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:o,recovery:s}=this,a=L(A("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");let c=2===s||3===s?i+t.n:i;if(c>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let l=(1&s)==0?"02":"03",u=h.fromHex(l+g(E(c,r.BYTES))),d=$(c,n),p=f(-a*d),m=f(o*d),y=h.BASE.multiplyAndAddUnsafe(u,p,m);if(!y)throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>n>>eh}normalizeS(){return this.hasHighS()?new R(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return b(this.toDERHex())}toDERHex(){return ed.hexFromSig(this)}toCompactRawBytes(){return b(this.toCompactHex())}toCompactHex(){return g(E(this.r,i))+g(E(this.s,i))}}function B(e){if("bigint"==typeof e)return!1;if(e instanceof h)return!0;let n=A("key",e).length,o=r.BYTES,s=o+1;if(!t.allowedPrivateKeyLengths&&i!==s)return n===s||n===2*o+1}let M=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=v(e),r=8*e.length-o;return r>0?t>>BigInt(r):t},L=t.bits2int_modN||function(e){return f(M(e))},D=P(o);function j(e){return S("num < 2^"+o,e,ef,D),E(e,i)}let F={lowS:t.lowS,prehash:!1},z={lowS:t.lowS,prehash:!1};return h.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return h.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===B(e))throw Error("first arg must be private key");if(!1===B(t))throw Error("second arg must be public key");return h.fromHex(t).multiply(p(e)).toRawBytes(r)},sign:function(e,i,o=F){let{seed:s,k2sig:a}=function(e,i,o=F){if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:s,randomBytes:a}=t,{lowS:c,prehash:l,extraEntropy:u}=o;null==c&&(c=!0),e=A("msgHash",e),el(o),l&&(e=A("prehashed msgHash",s(e)));let d=L(e),g=p(i),m=[j(g),j(d)];if(null!=u&&!1!==u){let e=!0===u?a(r.BYTES):u;m.push(A("extraEntropy",e))}return{seed:x(...m),k2sig:function(e){let t=M(e);if(!y(t))return;let r=$(t,n),i=h.BASE.multiply(t).toAffine(),o=f(i.x);if(o===ef)return;let s=f(r*f(d+o*g));if(s===ef)return;let a=(i.x===o?0:2)|Number(i.y&eh),l=s;if(c&&s>n>>eh)l=s>n>>eh?f(-s):s,a^=1;return new R(o,l,a)}}}(e,i,o);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=O(e),i=O(e),o=0,s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),c=(e=O(0))=>{i=a(_([0]),e),n=a(),0!==e.length&&(i=a(_([1]),e),n=a())},l=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=a()).slice();r.push(t),e+=n.length}return x(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(l()));)c();return s(),r}})(t.hash.outputLen,t.nByteLength,t.hmac)(s,a)},verify:function(e,r,i,o=z){let s,a;r=A("msgHash",r),i=A("publicKey",i);let{lowS:l,prehash:u,format:d}=o;if(el(o),"strict"in o)throw Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw Error("format must be compact or der");let p="string"==typeof e||c(e),g=!p&&!d&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!p&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g&&(a=new R(e.r,e.s)),p){try{"compact"!==d&&(a=R.fromDER(e))}catch(e){if(!(e instanceof ed.Err))throw e}a||"der"===d||(a=R.fromCompact(e))}s=h.fromHex(i)}catch(e){return!1}if(!a||l&&a.hasHighS())return!1;u&&(r=t.hash(r));let{r:m,s:y}=a,b=L(r),v=$(y,n),w=f(b*v),E=f(m*v),C=h.BASE.multiplyAndAddUnsafe(s,w,E)?.toAffine();return!!C&&f(C.x)===m},ProjectivePoint:h,Signature:R,utils:{isValidPrivateKey(e){try{return p(e),!0}catch(e){return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let e=X(t.n);return function(e,t,r=!1){let n=e.length,i=J(t),o=X(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let s=q(r?w(e):v(e),t-U)+U;return r?C(s,i):E(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=h.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>(0,o.b)(t,e,(0,i.eV)(...r)),randomBytes:i.O6});return{...r(t),create:r}}({a:eb,b:BigInt(7),Fp:eC,n:ey,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ev*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=eE(t*e,ey),s=eE(-r*e,ey),a=q(e-o*t-s*n,ey),c=q(-o*r-s*t,ey),l=a>i,u=c>i;if(l&&(a=ey-a),u&&(c=ey-c),a>i||c>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:a,k2neg:u,k2:c}}}},n.JQ)},9533:function(e,t,r){"use strict";r.d(t,{tQ:function(){return u},Vv:function(){return q}});class n extends Error{constructor(e,t={}){let r=t.cause instanceof n?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof n&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.1.0"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}}function i(e,t){let r=e.exec(t);return r?.groups}let o=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,a=/^\(.+?\).*?$/,c=/^tuple(?<array>(\[(\d*)\])*)$/;function l(e){let t="",r=e.length;for(let n=0;n<r;n++)t+=function e(t){let r=t.type;if(c.test(t.type)&&"components"in t){r="(";let n=t.components.length;for(let i=0;i<n;i++)r+=e(t.components[i]),i<n-1&&(r+=", ");let o=i(c,t.type);return r+=`)${o?.array??""}`,e({...t,type:r})}return("indexed"in t&&t.indexed&&(r=`${r} indexed`),t.name)?`${r} ${t.name}`:r}(e[n]),n!==r-1&&(t+=", ");return t}function u(e){return"function"===e.type?`function ${e.name}(${l(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${l(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${l(e.inputs)})`:"error"===e.type?`error ${e.name}(${l(e.inputs)})`:"constructor"===e.type?`constructor(${l(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?`fallback() external${"payable"===e.stateMutability?" payable":""}`:"receive() external payable"}let d=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/,f=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/,h=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/,p=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/,g=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/,m=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/,y=/^receive\(\) external payable$/,b=new Set(["indexed"]),v=new Set(["calldata","memory","storage"]);class w extends n{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class E extends n{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class C extends n{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class A extends n{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class x extends n{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class I extends n{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class N extends n{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class S extends n{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class P extends n{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class O extends n{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class _ extends n{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class R extends n{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}let T=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),k=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,B=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,U=/^u?int$/;function M(e,t){var r,n;let c;let l=function(e,t,r){let n="";if(r)for(let e of Object.entries(r)){if(!e)continue;let t="";for(let r of e[1])t+=`[${r.type}${r.name?`:${r.name}`:""}]`;n+=`(${e[0]}{${t}})`}return t?`${t}:${e}${n}`:e}(e,t?.type,t?.structs);if(T.has(l))return T.get(l);let u=a.test(e),d=i(u?B:k,e);if(!d)throw new C({param:e});if(d.name&&("address"===(r=d.name)||"bool"===r||"function"===r||"string"===r||"tuple"===r||o.test(r)||s.test(r)||j.test(r)))throw new A({param:e,name:d.name});let f=d.name?{name:d.name}:{},h="indexed"===d.modifier?{indexed:!0}:{},p=t?.structs??{},g={};if(u){c="tuple";let e=L(d.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(M(e[n],{structs:p}));g={components:t}}else if(d.type in p)c="tuple",g={components:p[d.type]};else if(U.test(d.type))c=`${d.type}256`;else if("address payable"===d.type)c="address";else if(c=d.type,t?.type!=="struct"&&!D(c))throw new E({type:c});if(d.modifier){if(!t?.modifiers?.has?.(d.modifier))throw new x({param:e,type:t?.type,modifier:d.modifier});if(v.has(d.modifier)&&(n=c,!d.array&&"bytes"!==n&&"string"!==n&&"tuple"!==n))throw new I({param:e,type:t?.type,modifier:d.modifier})}let m={type:`${c}${d.array??""}`,...f,...h,...g};return T.set(l,m),m}function L(e,t=[],r="",n=0){let i=e.trim().length;for(let o=0;o<i;o++){let i=e[o],s=e.slice(o+1);switch(i){case",":return 0===n?L(s,[...t,r.trim()]):L(s,t,`${r}${i}`,n);case"(":return L(s,t,`${r}${i}`,n+1);case")":return L(s,t,`${r}${i}`,n-1);default:return L(s,t,`${r}${i}`,n)}}if(""===r)return t;if(0!==n)throw new R({current:r,depth:n});return t.push(r.trim()),t}function D(e){return"address"===e||"bool"===e||"function"===e||"string"===e||o.test(e)||s.test(e)}let j=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/,F=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function q(e){let t=function(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!p.test(r))continue;let o=i(p,r);if(!o)throw new S({signature:r,type:"struct"});let s=o.properties.split(";"),a=[],c=s.length;for(let e=0;e<c;e++){let t=s[e].trim();if(!t)continue;let r=M(t,{type:"struct"});a.push(r)}if(!a.length)throw new O({signature:r});t[o.name]=a}let n={},o=Object.entries(t),s=o.length;for(let e=0;e<s;e++){let[r,s]=o[e];n[r]=function e(t,r,n=new Set){let o=[],s=t.length;for(let c=0;c<s;c++){let s=t[c];if(a.test(s.type))o.push(s);else{let t=i(F,s.type);if(!t?.type)throw new N({abiParameter:s});let{array:a,type:c}=t;if(c in r){if(n.has(c))throw new _({type:c});o.push({...s,type:`tuple${a??""}`,components:e(r[c]??[],r,new Set([...n,c]))})}else if(D(c))o.push(s);else throw new w({type:c})}}return o}(s,t)}return n}(e),r=[],n=e.length;for(let o=0;o<n;o++){let n=e[o];p.test(n)||r.push(function(e,t={}){if(h.test(e))return function(e,t={}){let r=i(h,e);if(!r)throw new S({signature:e,type:"function"});let n=L(r.parameters),o=[],s=n.length;for(let e=0;e<s;e++)o.push(M(n[e],{modifiers:v,structs:t,type:"function"}));let a=[];if(r.returns){let e=L(r.returns),n=e.length;for(let r=0;r<n;r++)a.push(M(e[r],{modifiers:v,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:o,outputs:a}}(e,t);if(f.test(e))return function(e,t={}){let r=i(f,e);if(!r)throw new S({signature:e,type:"event"});let n=L(r.parameters),o=[],s=n.length;for(let e=0;e<s;e++)o.push(M(n[e],{modifiers:b,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:o}}(e,t);if(d.test(e))return function(e,t={}){let r=i(d,e);if(!r)throw new S({signature:e,type:"error"});let n=L(r.parameters),o=[],s=n.length;for(let e=0;e<s;e++)o.push(M(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:o}}(e,t);if(g.test(e))return function(e,t={}){let r=i(g,e);if(!r)throw new S({signature:e,type:"constructor"});let n=L(r.parameters),o=[],s=n.length;for(let e=0;e<s;e++)o.push(M(n[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:o}}(e,t);if(m.test(e))return function(e){let t=i(m,e);if(!t)throw new S({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}(e);if(y.test(e))return{type:"receive",stateMutability:"payable"};throw new P({signature:e})}(n,t))}return r}}}]);